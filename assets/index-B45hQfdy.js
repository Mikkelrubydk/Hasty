var X1=Object.defineProperty;var J1=(t,e,n)=>e in t?X1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>J1(t,typeof e!="symbol"?e+"":e,n);function Z1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function k0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S0={exports:{}},$u={},C0={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),eI=Symbol.for("react.portal"),tI=Symbol.for("react.fragment"),nI=Symbol.for("react.strict_mode"),rI=Symbol.for("react.profiler"),iI=Symbol.for("react.provider"),sI=Symbol.for("react.context"),oI=Symbol.for("react.forward_ref"),aI=Symbol.for("react.suspense"),lI=Symbol.for("react.memo"),cI=Symbol.for("react.lazy"),Bv=Symbol.iterator;function uI(t){return t===null||typeof t!="object"?null:(t=Bv&&t[Bv]||t["@@iterator"],typeof t=="function"?t:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,D0={};function so(t,e,n){this.props=t,this.context=e,this.refs=D0,this.updater=n||T0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x0(){}x0.prototype=so.prototype;function Ap(t,e,n){this.props=t,this.context=e,this.refs=D0,this.updater=n||T0}var Mp=Ap.prototype=new x0;Mp.constructor=Ap;I0(Mp,so.prototype);Mp.isPureReactComponent=!0;var Yv=Array.isArray,P0=Object.prototype.hasOwnProperty,Lp={current:null},b0={key:!0,ref:!0,__self:!0,__source:!0};function N0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)P0.call(e,r)&&!b0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nl,type:t,key:s,ref:o,props:i,_owner:Lp.current}}function dI(t,e){return{$$typeof:nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fp(t){return typeof t=="object"&&t!==null&&t.$$typeof===nl}function hI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vv=/\/+/g;function sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hI(""+t.key):e.toString(36)}function fc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nl:case eI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sh(o,0):r,Yv(i)?(n="",t!=null&&(n=t.replace(Vv,"$&/")+"/"),fc(i,e,n,"",function(u){return u})):i!=null&&(Fp(i)&&(i=dI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+sh(s,a);o+=fc(s,e,n,l,i)}else if(l=uI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+sh(s,a++),o+=fc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ul(t,e,n){if(t==null)return t;var r=[],i=0;return fc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},pc={transition:null},pI={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:pc,ReactCurrentOwner:Lp};function R0(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!Fp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=so;oe.Fragment=tI;oe.Profiler=rI;oe.PureComponent=Ap;oe.StrictMode=nI;oe.Suspense=aI;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pI;oe.act=R0;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=I0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)P0.call(e,l)&&!b0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nl,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:sI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iI,_context:t},t.Consumer=t};oe.createElement=N0;oe.createFactory=function(t){var e=N0.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:oI,render:t}};oe.isValidElement=Fp;oe.lazy=function(t){return{$$typeof:cI,_payload:{_status:-1,_result:t},_init:fI}};oe.memo=function(t,e){return{$$typeof:lI,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=pc.transition;pc.transition={};try{t()}finally{pc.transition=e}};oe.unstable_act=R0;oe.useCallback=function(t,e){return Tt.current.useCallback(t,e)};oe.useContext=function(t){return Tt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Tt.current.useEffect(t,e)};oe.useId=function(){return Tt.current.useId()};oe.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Tt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};oe.useRef=function(t){return Tt.current.useRef(t)};oe.useState=function(t){return Tt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Tt.current.useTransition()};oe.version="18.3.1";C0.exports=oe;var R=C0.exports;const F=k0(R),O0=Z1({__proto__:null,default:F},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=R,gI=Symbol.for("react.element"),vI=Symbol.for("react.fragment"),yI=Object.prototype.hasOwnProperty,_I=mI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wI={key:!0,ref:!0,__self:!0,__source:!0};function A0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yI.call(e,r)&&!wI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gI,type:t,key:s,ref:o,props:i,_owner:_I.current}}$u.Fragment=vI;$u.jsx=A0;$u.jsxs=A0;S0.exports=$u;var D=S0.exports,M0={exports:{}},$t={},L0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,z){var G=U.length;U.push(z);e:for(;0<G;){var Q=G-1>>>1,te=U[Q];if(0<i(te,z))U[Q]=z,U[G]=te,G=Q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var z=U[0],G=U.pop();if(G!==z){U[0]=G;e:for(var Q=0,te=U.length,ae=te>>>1;Q<ae;){var Ve=2*(Q+1)-1,on=U[Ve],Gt=Ve+1,Yn=U[Gt];if(0>i(on,G))Gt<te&&0>i(Yn,on)?(U[Q]=Yn,U[Gt]=G,Q=Gt):(U[Q]=on,U[Ve]=G,Q=Ve);else if(Gt<te&&0>i(Yn,G))U[Q]=Yn,U[Gt]=G,Q=Gt;else break e}}return z}function i(U,z){var G=U.sortIndex-z.sortIndex;return G!==0?G:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,g=!1,_=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=U)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function O(U){if(T=!1,C(U),!_)if(n(l)!==null)_=!0,q(L);else{var z=n(u);z!==null&&X(O,z.startTime-U)}}function L(U,z){_=!1,T&&(T=!1,E(v),v=-1),g=!0;var G=p;try{for(C(z),f=n(l);f!==null&&(!(f.expirationTime>z)||U&&!b());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var te=Q(f.expirationTime<=z);z=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),C(z)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var Ve=n(u);Ve!==null&&X(O,Ve.startTime-z),ae=!1}return ae}finally{f=null,p=G,g=!1}}var j=!1,k=null,v=-1,S=5,I=-1;function b(){return!(t.unstable_now()-I<S)}function N(){if(k!==null){var U=t.unstable_now();I=U;var z=!0;try{z=k(!0,U)}finally{z?x():(j=!1,k=null)}}else j=!1}var x;if(typeof w=="function")x=function(){w(N)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=N,x=function(){ne.postMessage(null)}}else x=function(){P(N,0)};function q(U){k=U,j||(j=!0,x())}function X(U,z){v=P(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,q(L))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var G=p;p=z;try{return U()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=p;p=U;try{return z()}finally{p=G}},t.unstable_scheduleCallback=function(U,z,G){var Q=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Q+G:Q):G=Q,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=G+te,U={id:d++,callback:z,priorityLevel:U,startTime:G,expirationTime:te,sortIndex:-1},G>Q?(U.sortIndex=G,e(u,U),n(l)===null&&U===n(u)&&(T?(E(v),v=-1):T=!0,X(O,G-Q))):(U.sortIndex=te,e(l,U),_||g||(_=!0,q(L))),U},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(U){var z=p;return function(){var G=p;p=z;try{return U.apply(this,arguments)}finally{p=G}}}})(F0);L0.exports=F0;var EI=L0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI=R,zt=EI;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j0=new Set,Ea={};function Xi(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(Ea[t]=e,t=0;t<e.length;t++)j0.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=Object.prototype.hasOwnProperty,SI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},$v={};function CI(t){return lf.call($v,t)?!0:lf.call(zv,t)?!1:SI.test(t)?$v[t]=!0:(zv[t]=!0,!1)}function TI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function II(t,e,n,r){if(e===null||typeof e>"u"||TI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function Up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jp,Up);ot[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jp,Up);ot[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jp,Up);ot[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wp(t,e,n,r){var i=ot.hasOwnProperty(e)?ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(II(e,n,i,r)&&(n=null),r||i===null?CI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gr=kI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),fs=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),df=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),Kv=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=Kv&&t[Kv]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,oh;function Go(t){if(oh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oh=e&&e[1]||""}return`
`+oh+t}var ah=!1;function lh(t,e){if(!t||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Go(t):""}function DI(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=lh(t.type,!1),t;case 11:return t=lh(t.type.render,!1),t;case 1:return t=lh(t.type,!0),t;default:return""}}function hf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ps:return"Fragment";case fs:return"Portal";case cf:return"Profiler";case Hp:return"StrictMode";case uf:return"Suspense";case df:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W0:return(t.displayName||"Context")+".Consumer";case U0:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:hf(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return hf(t(e))}catch{}}return null}function xI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hf(e);case 8:return e===Hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PI(t){var e=B0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hl(t){t._valueTracker||(t._valueTracker=PI(t))}function Y0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ff(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&Wp(t,"checked",e,!1)}function pf(t,e){V0(t,e);var n=ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&mf(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mf(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qo=Array.isArray;function Ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(qo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ei(n)}}function z0(t,e){var n=ei(e.value),r=ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bl,K0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bl=Bl||document.createElement("div"),Bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bI=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(t){bI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),na[e]=na[t]})});function G0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||na.hasOwnProperty(t)&&na[t]?(""+e).trim():e+"px"}function q0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NI=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yf(t,e){if(e){if(NI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function _f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function Vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ef=null,xs=null,Ps=null;function Jv(t){if(t=sl(t)){if(typeof Ef!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Xu(e),Ef(t.stateNode,t.type,e))}}function Q0(t){xs?Ps?Ps.push(t):Ps=[t]:xs=t}function X0(){if(xs){var t=xs,e=Ps;if(Ps=xs=null,Jv(t),e)for(t=0;t<e.length;t++)Jv(e[t])}}function J0(t,e){return t(e)}function Z0(){}var ch=!1;function eE(t,e,n){if(ch)return t(e,n);ch=!0;try{return J0(t,e,n)}finally{ch=!1,(xs!==null||Ps!==null)&&(Z0(),X0())}}function Sa(t,e){var n=t.stateNode;if(n===null)return null;var r=Xu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var kf=!1;if(lr)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){kf=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{kf=!1}function RI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ra=!1,Fc=null,jc=!1,Sf=null,OI={onError:function(t){ra=!0,Fc=t}};function AI(t,e,n,r,i,s,o,a,l){ra=!1,Fc=null,RI.apply(OI,arguments)}function MI(t,e,n,r,i,s,o,a,l){if(AI.apply(this,arguments),ra){if(ra){var u=Fc;ra=!1,Fc=null}else throw Error(W(198));jc||(jc=!0,Sf=u)}}function Ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zv(t){if(Ji(t)!==t)throw Error(W(188))}function LI(t){var e=t.alternate;if(!e){if(e=Ji(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zv(i),t;if(s===r)return Zv(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function nE(t){return t=LI(t),t!==null?rE(t):null}function rE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rE(t);if(e!==null)return e;t=t.sibling}return null}var iE=zt.unstable_scheduleCallback,ey=zt.unstable_cancelCallback,FI=zt.unstable_shouldYield,jI=zt.unstable_requestPaint,Ue=zt.unstable_now,UI=zt.unstable_getCurrentPriorityLevel,zp=zt.unstable_ImmediatePriority,sE=zt.unstable_UserBlockingPriority,Uc=zt.unstable_NormalPriority,WI=zt.unstable_LowPriority,oE=zt.unstable_IdlePriority,Ku=null,An=null;function HI(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Ku,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:VI,BI=Math.log,YI=Math.LN2;function VI(t){return t>>>=0,t===0?32:31-(BI(t)/YI|0)|0}var Yl=64,Vl=4194304;function Qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qo(a):(s&=o,s!==0&&(r=Qo(s)))}else o=n&~i,o!==0?r=Qo(o):s!==0&&(r=Qo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gn(e),i=1<<n,r|=t[n],e&=~i;return r}function zI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $I(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=zI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aE(){var t=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),t}function uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=n}function KI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $p(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function lE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cE,Kp,uE,dE,hE,Tf=!1,zl=[],Ur=null,Wr=null,Hr=null,Ca=new Map,Ta=new Map,xr=[],GI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ty(t,e){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function Ao(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sl(e),e!==null&&Kp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qI(t,e,n,r,i){switch(e){case"focusin":return Ur=Ao(Ur,t,e,n,r,i),!0;case"dragenter":return Wr=Ao(Wr,t,e,n,r,i),!0;case"mouseover":return Hr=Ao(Hr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ca.set(s,Ao(Ca.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ta.set(s,Ao(Ta.get(s)||null,t,e,n,r,i)),!0}return!1}function fE(t){var e=Ci(t.target);if(e!==null){var n=Ji(e);if(n!==null){if(e=n.tag,e===13){if(e=tE(n),e!==null){t.blockedOn=e,hE(t.priority,function(){uE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=If(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wf=r,n.target.dispatchEvent(r),wf=null}else return e=sl(n),e!==null&&Kp(e),t.blockedOn=n,!1;e.shift()}return!0}function ny(t,e,n){mc(t)&&n.delete(e)}function QI(){Tf=!1,Ur!==null&&mc(Ur)&&(Ur=null),Wr!==null&&mc(Wr)&&(Wr=null),Hr!==null&&mc(Hr)&&(Hr=null),Ca.forEach(ny),Ta.forEach(ny)}function Mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,QI)))}function Ia(t){function e(i){return Mo(i,t)}if(0<zl.length){Mo(zl[0],t);for(var n=1;n<zl.length;n++){var r=zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ur!==null&&Mo(Ur,t),Wr!==null&&Mo(Wr,t),Hr!==null&&Mo(Hr,t),Ca.forEach(e),Ta.forEach(e),n=0;n<xr.length;n++)r=xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)fE(n),n.blockedOn===null&&xr.shift()}var bs=gr.ReactCurrentBatchConfig,Hc=!0;function XI(t,e,n,r){var i=we,s=bs.transition;bs.transition=null;try{we=1,Gp(t,e,n,r)}finally{we=i,bs.transition=s}}function JI(t,e,n,r){var i=we,s=bs.transition;bs.transition=null;try{we=4,Gp(t,e,n,r)}finally{we=i,bs.transition=s}}function Gp(t,e,n,r){if(Hc){var i=If(t,e,n,r);if(i===null)wh(t,e,r,Bc,n),ty(t,r);else if(qI(i,t,e,n,r))r.stopPropagation();else if(ty(t,r),e&4&&-1<GI.indexOf(t)){for(;i!==null;){var s=sl(i);if(s!==null&&cE(s),s=If(t,e,n,r),s===null&&wh(t,e,r,Bc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wh(t,e,r,null,n)}}var Bc=null;function If(t,e,n,r){if(Bc=null,t=Vp(r),t=Ci(t),t!==null)if(e=Ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function pE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UI()){case zp:return 1;case sE:return 4;case Uc:case WI:return 16;case oE:return 536870912;default:return 16}default:return 16}}var Ar=null,qp=null,gc=null;function mE(){if(gc)return gc;var t,e=qp,n=e.length,r,i="value"in Ar?Ar.value:Ar.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gc=i.slice(t,1<r?1-r:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function ry(){return!1}function Kt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$l:ry,this.isPropagationStopped=ry,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qp=Kt(oo),il=Ae({},oo,{view:0,detail:0}),ZI=Kt(il),dh,hh,Lo,Gu=Ae({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(dh=t.screenX-Lo.screenX,hh=t.screenY-Lo.screenY):hh=dh=0,Lo=t),dh)},movementY:function(t){return"movementY"in t?t.movementY:hh}}),iy=Kt(Gu),eD=Ae({},Gu,{dataTransfer:0}),tD=Kt(eD),nD=Ae({},il,{relatedTarget:0}),fh=Kt(nD),rD=Ae({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),iD=Kt(rD),sD=Ae({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oD=Kt(sD),aD=Ae({},oo,{data:0}),sy=Kt(aD),lD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uD[t])?!!e[t]:!1}function Xp(){return dD}var hD=Ae({},il,{key:function(t){if(t.key){var e=lD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fD=Kt(hD),pD=Ae({},Gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=Kt(pD),mD=Ae({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),gD=Kt(mD),vD=Ae({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yD=Kt(vD),_D=Ae({},Gu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wD=Kt(_D),ED=[9,13,27,32],Jp=lr&&"CompositionEvent"in window,ia=null;lr&&"documentMode"in document&&(ia=document.documentMode);var kD=lr&&"TextEvent"in window&&!ia,gE=lr&&(!Jp||ia&&8<ia&&11>=ia),ay=" ",ly=!1;function vE(t,e){switch(t){case"keyup":return ED.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function SD(t,e){switch(t){case"compositionend":return yE(e);case"keypress":return e.which!==32?null:(ly=!0,ay);case"textInput":return t=e.data,t===ay&&ly?null:t;default:return null}}function CD(t,e){if(ms)return t==="compositionend"||!Jp&&vE(t,e)?(t=mE(),gc=qp=Ar=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gE&&e.locale!=="ko"?null:e.data;default:return null}}var TD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TD[t.type]:e==="textarea"}function _E(t,e,n,r){Q0(r),e=Yc(e,"onChange"),0<e.length&&(n=new Qp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sa=null,Da=null;function ID(t){bE(t,0)}function qu(t){var e=ys(t);if(Y0(e))return t}function DD(t,e){if(t==="change")return e}var wE=!1;if(lr){var ph;if(lr){var mh="oninput"in document;if(!mh){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),mh=typeof uy.oninput=="function"}ph=mh}else ph=!1;wE=ph&&(!document.documentMode||9<document.documentMode)}function dy(){sa&&(sa.detachEvent("onpropertychange",EE),Da=sa=null)}function EE(t){if(t.propertyName==="value"&&qu(Da)){var e=[];_E(e,Da,t,Vp(t)),eE(ID,e)}}function xD(t,e,n){t==="focusin"?(dy(),sa=e,Da=n,sa.attachEvent("onpropertychange",EE)):t==="focusout"&&dy()}function PD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Da)}function bD(t,e){if(t==="click")return qu(e)}function ND(t,e){if(t==="input"||t==="change")return qu(e)}function RD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:RD;function xa(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lf.call(e,i)||!_n(t[i],e[i]))return!1}return!0}function hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fy(t,e){var n=hy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hy(n)}}function kE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SE(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function Zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OD(t){var e=SE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kE(n.ownerDocument.documentElement,n)){if(r!==null&&Zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fy(n,s);var o=fy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AD=lr&&"documentMode"in document&&11>=document.documentMode,gs=null,Df=null,oa=null,xf=!1;function py(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xf||gs==null||gs!==Lc(r)||(r=gs,"selectionStart"in r&&Zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&xa(oa,r)||(oa=r,r=Yc(Df,"onSelect"),0<r.length&&(e=new Qp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gs)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vs={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},gh={},CE={};lr&&(CE=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Qu(t){if(gh[t])return gh[t];if(!vs[t])return t;var e=vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CE)return gh[t]=e[n];return t}var TE=Qu("animationend"),IE=Qu("animationiteration"),DE=Qu("animationstart"),xE=Qu("transitionend"),PE=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){PE.set(t,e),Xi(e,[t])}for(var vh=0;vh<my.length;vh++){var yh=my[vh],MD=yh.toLowerCase(),LD=yh[0].toUpperCase()+yh.slice(1);li(MD,"on"+LD)}li(TE,"onAnimationEnd");li(IE,"onAnimationIteration");li(DE,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(xE,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function gy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MI(r,e,void 0,t),t.currentTarget=null}function bE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;gy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;gy(i,a,u),s=l}}}if(jc)throw t=Sf,jc=!1,Sf=null,t}function Ie(t,e){var n=e[Of];n===void 0&&(n=e[Of]=new Set);var r=t+"__bubble";n.has(r)||(NE(e,t,2,!1),n.add(r))}function _h(t,e,n){var r=0;e&&(r|=4),NE(n,t,r,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Gl]){t[Gl]=!0,j0.forEach(function(n){n!=="selectionchange"&&(FD.has(n)||_h(n,!1,t),_h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,_h("selectionchange",!1,e))}}function NE(t,e,n,r){switch(pE(e)){case 1:var i=XI;break;case 4:i=JI;break;default:i=Gp}n=i.bind(null,e,n,t),i=void 0,!kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}eE(function(){var u=s,d=Vp(n),f=[];e:{var p=PE.get(t);if(p!==void 0){var g=Qp,_=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":g=fD;break;case"focusin":_="focus",g=fh;break;case"focusout":_="blur",g=fh;break;case"beforeblur":case"afterblur":g=fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gD;break;case TE:case IE:case DE:g=iD;break;case xE:g=yD;break;case"scroll":g=ZI;break;case"wheel":g=wD;break;case"copy":case"cut":case"paste":g=oD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=oy}var T=(e&4)!==0,P=!T&&t==="scroll",E=T?p!==null?p+"Capture":null:p;T=[];for(var w=u,C;w!==null;){C=w;var O=C.stateNode;if(C.tag===5&&O!==null&&(C=O,E!==null&&(O=Sa(w,E),O!=null&&T.push(ba(w,O,C)))),P)break;w=w.return}0<T.length&&(p=new g(p,_,null,n,d),f.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==wf&&(_=n.relatedTarget||n.fromElement)&&(Ci(_)||_[cr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Ci(_):null,_!==null&&(P=Ji(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(T=iy,O="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=oy,O="onPointerLeave",E="onPointerEnter",w="pointer"),P=g==null?p:ys(g),C=_==null?p:ys(_),p=new T(O,w+"leave",g,n,d),p.target=P,p.relatedTarget=C,O=null,Ci(d)===u&&(T=new T(E,w+"enter",_,n,d),T.target=C,T.relatedTarget=P,O=T),P=O,g&&_)t:{for(T=g,E=_,w=0,C=T;C;C=cs(C))w++;for(C=0,O=E;O;O=cs(O))C++;for(;0<w-C;)T=cs(T),w--;for(;0<C-w;)E=cs(E),C--;for(;w--;){if(T===E||E!==null&&T===E.alternate)break t;T=cs(T),E=cs(E)}T=null}else T=null;g!==null&&vy(f,p,g,T,!1),_!==null&&P!==null&&vy(f,P,_,T,!0)}}e:{if(p=u?ys(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=DD;else if(cy(p))if(wE)L=ND;else{L=PD;var j=xD}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=bD);if(L&&(L=L(t,u))){_E(f,L,n,d);break e}j&&j(t,p,u),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&mf(p,"number",p.value)}switch(j=u?ys(u):window,t){case"focusin":(cy(j)||j.contentEditable==="true")&&(gs=j,Df=u,oa=null);break;case"focusout":oa=Df=gs=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,py(f,n,d);break;case"selectionchange":if(AD)break;case"keydown":case"keyup":py(f,n,d)}var k;if(Jp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ms?vE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(gE&&n.locale!=="ko"&&(ms||v!=="onCompositionStart"?v==="onCompositionEnd"&&ms&&(k=mE()):(Ar=d,qp="value"in Ar?Ar.value:Ar.textContent,ms=!0)),j=Yc(u,v),0<j.length&&(v=new sy(v,t,null,n,d),f.push({event:v,listeners:j}),k?v.data=k:(k=yE(n),k!==null&&(v.data=k)))),(k=kD?SD(t,n):CD(t,n))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(d=new sy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}bE(f,e)})}function ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sa(t,n),s!=null&&r.unshift(ba(t,s,i)),s=Sa(t,e),s!=null&&r.push(ba(t,s,i))),t=t.return}return r}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sa(n,s),l!=null&&o.unshift(ba(n,l,a))):i||(l=Sa(n,s),l!=null&&o.push(ba(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jD=/\r\n?/g,UD=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace(jD,`
`).replace(UD,"")}function ql(t,e,n){if(e=yy(e),yy(t)!==e&&n)throw Error(W(425))}function Vc(){}var Pf=null,bf=null;function Nf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rf=typeof setTimeout=="function"?setTimeout:void 0,WD=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,HD=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(t){return _y.resolve(null).then(t).catch(BD)}:Rf;function BD(t){setTimeout(function(){throw t})}function Eh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ia(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Pn="__reactFiber$"+ao,Na="__reactProps$"+ao,cr="__reactContainer$"+ao,Of="__reactEvents$"+ao,YD="__reactListeners$"+ao,VD="__reactHandles$"+ao;function Ci(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[Pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wy(t);t!==null;){if(n=t[Pn])return n;t=wy(t)}return e}t=n,n=t.parentNode}return null}function sl(t){return t=t[Pn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Xu(t){return t[Na]||null}var Af=[],_s=-1;function ci(t){return{current:t}}function xe(t){0>_s||(t.current=Af[_s],Af[_s]=null,_s--)}function Ce(t,e){_s++,Af[_s]=t.current,t.current=e}var ti={},pt=ci(ti),Rt=ci(!1),Li=ti;function Hs(t,e){var n=t.type.contextTypes;if(!n)return ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ot(t){return t=t.childContextTypes,t!=null}function zc(){xe(Rt),xe(pt)}function Ey(t,e,n){if(pt.current!==ti)throw Error(W(168));Ce(pt,e),Ce(Rt,n)}function RE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,xI(t)||"Unknown",i));return Ae({},n,r)}function $c(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,Li=pt.current,Ce(pt,t),Ce(Rt,Rt.current),!0}function ky(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=RE(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,xe(Rt),xe(pt),Ce(pt,t)):xe(Rt),Ce(Rt,n)}var Gn=null,Ju=!1,kh=!1;function OE(t){Gn===null?Gn=[t]:Gn.push(t)}function zD(t){Ju=!0,OE(t)}function ui(){if(!kh&&Gn!==null){kh=!0;var t=0,e=we;try{var n=Gn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gn=null,Ju=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(t+1)),iE(zp,ui),i}finally{we=e,kh=!1}}return null}var ws=[],Es=0,Kc=null,Gc=0,Xt=[],Jt=0,Fi=null,Qn=1,Xn="";function _i(t,e){ws[Es++]=Gc,ws[Es++]=Kc,Kc=t,Gc=e}function AE(t,e,n){Xt[Jt++]=Qn,Xt[Jt++]=Xn,Xt[Jt++]=Fi,Fi=t;var r=Qn;t=Xn;var i=32-gn(r)-1;r&=~(1<<i),n+=1;var s=32-gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qn=1<<32-gn(e)+i|n<<i|r,Xn=s+t}else Qn=1<<s|n<<i|r,Xn=t}function em(t){t.return!==null&&(_i(t,1),AE(t,1,0))}function tm(t){for(;t===Kc;)Kc=ws[--Es],ws[Es]=null,Gc=ws[--Es],ws[Es]=null;for(;t===Fi;)Fi=Xt[--Jt],Xt[Jt]=null,Xn=Xt[--Jt],Xt[Jt]=null,Qn=Xt[--Jt],Xt[Jt]=null}var Bt=null,Ht=null,be=!1,dn=null;function ME(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Ht=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fi!==null?{id:Qn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,Ht=null,!0):!1;default:return!1}}function Mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lf(t){if(be){var e=Ht;if(e){var n=e;if(!Sy(t,e)){if(Mf(t))throw Error(W(418));e=Br(n.nextSibling);var r=Bt;e&&Sy(t,e)?ME(r,n):(t.flags=t.flags&-4097|2,be=!1,Bt=t)}}else{if(Mf(t))throw Error(W(418));t.flags=t.flags&-4097|2,be=!1,Bt=t}}}function Cy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Ql(t){if(t!==Bt)return!1;if(!be)return Cy(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nf(t.type,t.memoizedProps)),e&&(e=Ht)){if(Mf(t))throw LE(),Error(W(418));for(;e;)ME(t,e),e=Br(e.nextSibling)}if(Cy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Bt?Br(t.stateNode.nextSibling):null;return!0}function LE(){for(var t=Ht;t;)t=Br(t.nextSibling)}function Bs(){Ht=Bt=null,be=!1}function nm(t){dn===null?dn=[t]:dn.push(t)}var $D=gr.ReactCurrentBatchConfig;function Fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Xl(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ty(t){var e=t._init;return e(t._payload)}function FE(t){function e(E,w){if(t){var C=E.deletions;C===null?(E.deletions=[w],E.flags|=16):C.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=$r(E,w),E.index=0,E.sibling=null,E}function s(E,w,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<w?(E.flags|=2,w):C):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,C,O){return w===null||w.tag!==6?(w=Ph(C,E.mode,O),w.return=E,w):(w=i(w,C),w.return=E,w)}function l(E,w,C,O){var L=C.type;return L===ps?d(E,w,C.props.children,O,C.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ir&&Ty(L)===w.type)?(O=i(w,C.props),O.ref=Fo(E,w,C),O.return=E,O):(O=Cc(C.type,C.key,C.props,null,E.mode,O),O.ref=Fo(E,w,C),O.return=E,O)}function u(E,w,C,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=bh(C,E.mode,O),w.return=E,w):(w=i(w,C.children||[]),w.return=E,w)}function d(E,w,C,O,L){return w===null||w.tag!==7?(w=Ri(C,E.mode,O,L),w.return=E,w):(w=i(w,C),w.return=E,w)}function f(E,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ph(""+w,E.mode,C),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wl:return C=Cc(w.type,w.key,w.props,null,E.mode,C),C.ref=Fo(E,null,w),C.return=E,C;case fs:return w=bh(w,E.mode,C),w.return=E,w;case Ir:var O=w._init;return f(E,O(w._payload),C)}if(qo(w)||Ro(w))return w=Ri(w,E.mode,C,null),w.return=E,w;Xl(E,w)}return null}function p(E,w,C,O){var L=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return L!==null?null:a(E,w,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Wl:return C.key===L?l(E,w,C,O):null;case fs:return C.key===L?u(E,w,C,O):null;case Ir:return L=C._init,p(E,w,L(C._payload),O)}if(qo(C)||Ro(C))return L!==null?null:d(E,w,C,O,null);Xl(E,C)}return null}function g(E,w,C,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(C)||null,a(w,E,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Wl:return E=E.get(O.key===null?C:O.key)||null,l(w,E,O,L);case fs:return E=E.get(O.key===null?C:O.key)||null,u(w,E,O,L);case Ir:var j=O._init;return g(E,w,C,j(O._payload),L)}if(qo(O)||Ro(O))return E=E.get(C)||null,d(w,E,O,L,null);Xl(w,O)}return null}function _(E,w,C,O){for(var L=null,j=null,k=w,v=w=0,S=null;k!==null&&v<C.length;v++){k.index>v?(S=k,k=null):S=k.sibling;var I=p(E,k,C[v],O);if(I===null){k===null&&(k=S);break}t&&k&&I.alternate===null&&e(E,k),w=s(I,w,v),j===null?L=I:j.sibling=I,j=I,k=S}if(v===C.length)return n(E,k),be&&_i(E,v),L;if(k===null){for(;v<C.length;v++)k=f(E,C[v],O),k!==null&&(w=s(k,w,v),j===null?L=k:j.sibling=k,j=k);return be&&_i(E,v),L}for(k=r(E,k);v<C.length;v++)S=g(k,E,v,C[v],O),S!==null&&(t&&S.alternate!==null&&k.delete(S.key===null?v:S.key),w=s(S,w,v),j===null?L=S:j.sibling=S,j=S);return t&&k.forEach(function(b){return e(E,b)}),be&&_i(E,v),L}function T(E,w,C,O){var L=Ro(C);if(typeof L!="function")throw Error(W(150));if(C=L.call(C),C==null)throw Error(W(151));for(var j=L=null,k=w,v=w=0,S=null,I=C.next();k!==null&&!I.done;v++,I=C.next()){k.index>v?(S=k,k=null):S=k.sibling;var b=p(E,k,I.value,O);if(b===null){k===null&&(k=S);break}t&&k&&b.alternate===null&&e(E,k),w=s(b,w,v),j===null?L=b:j.sibling=b,j=b,k=S}if(I.done)return n(E,k),be&&_i(E,v),L;if(k===null){for(;!I.done;v++,I=C.next())I=f(E,I.value,O),I!==null&&(w=s(I,w,v),j===null?L=I:j.sibling=I,j=I);return be&&_i(E,v),L}for(k=r(E,k);!I.done;v++,I=C.next())I=g(k,E,v,I.value,O),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?v:I.key),w=s(I,w,v),j===null?L=I:j.sibling=I,j=I);return t&&k.forEach(function(N){return e(E,N)}),be&&_i(E,v),L}function P(E,w,C,O){if(typeof C=="object"&&C!==null&&C.type===ps&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Wl:e:{for(var L=C.key,j=w;j!==null;){if(j.key===L){if(L=C.type,L===ps){if(j.tag===7){n(E,j.sibling),w=i(j,C.props.children),w.return=E,E=w;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ir&&Ty(L)===j.type){n(E,j.sibling),w=i(j,C.props),w.ref=Fo(E,j,C),w.return=E,E=w;break e}n(E,j);break}else e(E,j);j=j.sibling}C.type===ps?(w=Ri(C.props.children,E.mode,O,C.key),w.return=E,E=w):(O=Cc(C.type,C.key,C.props,null,E.mode,O),O.ref=Fo(E,w,C),O.return=E,E=O)}return o(E);case fs:e:{for(j=C.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(E,w.sibling),w=i(w,C.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=bh(C,E.mode,O),w.return=E,E=w}return o(E);case Ir:return j=C._init,P(E,w,j(C._payload),O)}if(qo(C))return _(E,w,C,O);if(Ro(C))return T(E,w,C,O);Xl(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,C),w.return=E,E=w):(n(E,w),w=Ph(C,E.mode,O),w.return=E,E=w),o(E)):n(E,w)}return P}var Ys=FE(!0),jE=FE(!1),qc=ci(null),Qc=null,ks=null,rm=null;function im(){rm=ks=Qc=null}function sm(t){var e=qc.current;xe(qc),t._currentValue=e}function Ff(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){Qc=t,rm=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(rm!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Qc===null)throw Error(W(308));ks=t,Qc.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Ti=null;function om(t){Ti===null?Ti=[t]:Ti.push(t)}function UE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,om(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,om(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$p(t,n)}}function Iy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xc(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,T=a;switch(p=e,g=n,T.tag){case 1:if(_=T.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=Ae({},f,p);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ui|=o,t.lanes=o,t.memoizedState=f}}function Dy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var ol={},Mn=ci(ol),Ra=ci(ol),Oa=ci(ol);function Ii(t){if(t===ol)throw Error(W(174));return t}function lm(t,e){switch(Ce(Oa,e),Ce(Ra,t),Ce(Mn,ol),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vf(e,t)}xe(Mn),Ce(Mn,e)}function Vs(){xe(Mn),xe(Ra),xe(Oa)}function HE(t){Ii(Oa.current);var e=Ii(Mn.current),n=vf(e,t.type);e!==n&&(Ce(Ra,t),Ce(Mn,n))}function cm(t){Ra.current===t&&(xe(Mn),xe(Ra))}var Ne=ci(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sh=[];function um(){for(var t=0;t<Sh.length;t++)Sh[t]._workInProgressVersionPrimary=null;Sh.length=0}var _c=gr.ReactCurrentDispatcher,Ch=gr.ReactCurrentBatchConfig,ji=0,Oe=null,ze=null,Qe=null,Zc=!1,aa=!1,Aa=0,KD=0;function ut(){throw Error(W(321))}function dm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function hm(t,e,n,r,i,s){if(ji=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_c.current=t===null||t.memoizedState===null?XD:JD,t=n(r,i),aa){s=0;do{if(aa=!1,Aa=0,25<=s)throw Error(W(301));s+=1,Qe=ze=null,e.updateQueue=null,_c.current=ZD,t=n(r,i)}while(aa)}if(_c.current=eu,e=ze!==null&&ze.next!==null,ji=0,Qe=ze=Oe=null,Zc=!1,e)throw Error(W(300));return t}function fm(){var t=Aa!==0;return Aa=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Oe.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function nn(){if(ze===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?Oe.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(W(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?Oe.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Ma(t,e){return typeof e=="function"?e(t):e}function Th(t){var e=nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((ji&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Oe.lanes|=d,Ui|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,_n(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,Ui|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ih(t){var e=nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_n(s,e.memoizedState)||(bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function BE(){}function YE(t,e){var n=Oe,r=nn(),i=e(),s=!_n(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,pm($E.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,La(9,zE.bind(null,n,r,i,e),void 0,null),et===null)throw Error(W(349));ji&30||VE(n,e,i)}return i}function VE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zE(t,e,n,r){e.value=n,e.getSnapshot=r,KE(e)&&GE(t)}function $E(t,e,n){return n(function(){KE(e)&&GE(t)})}function KE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function GE(t){var e=ur(t,1);e!==null&&vn(e,t,1,-1)}function xy(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=QD.bind(null,Oe,t),[e.memoizedState,t]}function La(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qE(){return nn().memoizedState}function wc(t,e,n,r){var i=Tn();Oe.flags|=t,i.memoizedState=La(1|e,n,void 0,r===void 0?null:r)}function Zu(t,e,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&dm(r,o.deps)){i.memoizedState=La(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=La(1|e,n,s,r)}function Py(t,e){return wc(8390656,8,t,e)}function pm(t,e){return Zu(2048,8,t,e)}function QE(t,e){return Zu(4,2,t,e)}function XE(t,e){return Zu(4,4,t,e)}function JE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZE(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4,4,JE.bind(null,e,t),n)}function mm(){}function ek(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tk(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nk(t,e,n){return ji&21?(_n(n,e)||(n=aE(),Oe.lanes|=n,Ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function GD(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Ch.transition;Ch.transition={};try{t(!1),e()}finally{we=n,Ch.transition=r}}function rk(){return nn().memoizedState}function qD(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ik(t))sk(e,n);else if(n=UE(t,e,n,r),n!==null){var i=St();vn(n,t,r,i),ok(n,e,r)}}function QD(t,e,n){var r=zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ik(t))sk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_n(a,o)){var l=e.interleaved;l===null?(i.next=i,om(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=UE(t,e,i,r),n!==null&&(i=St(),vn(n,t,r,i),ok(n,e,r))}}function ik(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function sk(t,e){aa=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ok(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$p(t,n)}}var eu={readContext:tn,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},XD={readContext:tn,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:Py,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wc(4194308,4,JE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wc(4194308,4,t,e)},useInsertionEffect:function(t,e){return wc(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qD.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:xy,useDebugValue:mm,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=xy(!1),e=t[0];return t=GD.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Tn();if(be){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),et===null)throw Error(W(349));ji&30||VE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Py($E.bind(null,r,s,t),[t]),r.flags|=2048,La(9,zE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tn(),e=et.identifierPrefix;if(be){var n=Xn,r=Qn;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JD={readContext:tn,useCallback:ek,useContext:tn,useEffect:pm,useImperativeHandle:ZE,useInsertionEffect:QE,useLayoutEffect:XE,useMemo:tk,useReducer:Th,useRef:qE,useState:function(){return Th(Ma)},useDebugValue:mm,useDeferredValue:function(t){var e=nn();return nk(e,ze.memoizedState,t)},useTransition:function(){var t=Th(Ma)[0],e=nn().memoizedState;return[t,e]},useMutableSource:BE,useSyncExternalStore:YE,useId:rk,unstable_isNewReconciler:!1},ZD={readContext:tn,useCallback:ek,useContext:tn,useEffect:pm,useImperativeHandle:ZE,useInsertionEffect:QE,useLayoutEffect:XE,useMemo:tk,useReducer:Ih,useRef:qE,useState:function(){return Ih(Ma)},useDebugValue:mm,useDeferredValue:function(t){var e=nn();return ze===null?e.memoizedState=t:nk(e,ze.memoizedState,t)},useTransition:function(){var t=Ih(Ma)[0],e=nn().memoizedState;return[t,e]},useMutableSource:BE,useSyncExternalStore:YE,useId:rk,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ed={isMounted:function(t){return(t=t._reactInternals)?Ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=zr(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,i),e!==null&&(vn(e,t,i,r),yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=zr(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yr(t,s,i),e!==null&&(vn(e,t,i,r),yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=zr(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yr(t,i,r),e!==null&&(vn(e,t,r,n),yc(e,t,r))}};function by(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xa(n,r)||!xa(i,s):!0}function ak(t,e,n){var r=!1,i=ti,s=e.contextType;return typeof s=="object"&&s!==null?s=tn(s):(i=Ot(e)?Li:pt.current,r=e.contextTypes,s=(r=r!=null)?Hs(t,i):ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ny(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ed.enqueueReplaceState(e,e.state,null)}function Uf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},am(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tn(s):(s=Ot(e)?Li:pt.current,i.context=Hs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ed.enqueueReplaceState(i,i.state,null),Xc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,e){try{var n="",r=e;do n+=DI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ex=typeof WeakMap=="function"?WeakMap:Map;function lk(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nu||(nu=!0,Qf=r),Wf(t,e)},n}function ck(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wf(t,e),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ry(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ex;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=px.bind(null,t,e,n),e.then(t,t))}function Oy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ay(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Yr(n,e,1))),n.lanes|=1),t)}var tx=gr.ReactCurrentOwner,bt=!1;function vt(t,e,n,r){e.child=t===null?jE(e,null,n,r):Ys(e,t.child,n,r)}function My(t,e,n,r,i){n=n.render;var s=e.ref;return Ns(e,i),r=hm(t,e,n,r,s,i),n=fm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(be&&n&&em(e),e.flags|=1,vt(t,e,r,i),e.child)}function Ly(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,uk(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(o,r)&&t.ref===e.ref)return dr(t,e,i)}return e.flags|=1,t=$r(s,r),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xa(s,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,dr(t,e,i)}return Hf(t,e,n,r,i)}function dk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Cs,Ut),Ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Cs,Ut),Ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Cs,Ut),Ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(Cs,Ut),Ut|=r;return vt(t,e,i,n),e.child}function hk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hf(t,e,n,r,i){var s=Ot(n)?Li:pt.current;return s=Hs(e,s),Ns(e,i),n=hm(t,e,n,r,s,i),r=fm(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dr(t,e,i)):(be&&r&&em(e),e.flags|=1,vt(t,e,n,i),e.child)}function Fy(t,e,n,r,i){if(Ot(n)){var s=!0;$c(e)}else s=!1;if(Ns(e,i),e.stateNode===null)Ec(t,e),ak(e,n,r),Uf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Ot(n)?Li:pt.current,u=Hs(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ny(e,o,r,u),Dr=!1;var p=e.memoizedState;o.state=p,Xc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Rt.current||Dr?(typeof d=="function"&&(jf(e,n,d,r),l=e.memoizedState),(a=Dr||by(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:cn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Ot(n)?Li:pt.current,l=Hs(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Ny(e,o,r,l),Dr=!1,p=e.memoizedState,o.state=p,Xc(e,r,o,i);var _=e.memoizedState;a!==f||p!==_||Rt.current||Dr?(typeof g=="function"&&(jf(e,n,g,r),_=e.memoizedState),(u=Dr||by(e,n,u,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bf(t,e,n,r,s,i)}function Bf(t,e,n,r,i,s){hk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ky(e,n,!1),dr(t,e,s);r=e.stateNode,tx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ys(e,t.child,null,s),e.child=Ys(e,null,a,s)):vt(t,e,a,s),e.memoizedState=r.state,i&&ky(e,n,!0),e.child}function fk(t){var e=t.stateNode;e.pendingContext?Ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ey(t,e.context,!1),lm(t,e.containerInfo)}function jy(t,e,n,r,i){return Bs(),nm(i),e.flags|=256,vt(t,e,n,r),e.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Vf(t){return{baseLanes:t,cachePool:null,transitions:null}}function pk(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ne,i&1),t===null)return Lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rd(o,r,0,null),t=Ri(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vf(n),e.memoizedState=Yf,t):gm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nx(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$r(a,s):(s=Ri(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Yf,r}return s=t.child,t=s.sibling,r=$r(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gm(t,e){return e=rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,n,r){return r!==null&&nm(r),Ys(e,t.child,null,n),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nx(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Dh(Error(W(422))),Jl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rd({mode:"visible",children:r.children},i,0,null),s=Ri(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ys(e,t.child,null,o),e.child.memoizedState=Vf(o),e.memoizedState=Yf,s);if(!(e.mode&1))return Jl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Dh(s,r,void 0),Jl(t,e,o,r)}if(a=(o&t.childLanes)!==0,bt||a){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),vn(r,t,i,-1))}return km(),r=Dh(Error(W(421))),Jl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ht=Br(i.nextSibling),Bt=e,be=!0,dn=null,t!==null&&(Xt[Jt++]=Qn,Xt[Jt++]=Xn,Xt[Jt++]=Fi,Qn=t.id,Xn=t.overflow,Fi=e),e=gm(e,r.children),e.flags|=4096,e)}function Uy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ff(t.return,e,n)}function xh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uy(t,n,e);else if(t.tag===19)Uy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xh(e,!0,n,null,s);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rx(t,e,n){switch(e.tag){case 3:fk(e),Bs();break;case 5:HE(e);break;case 1:Ot(e.type)&&$c(e);break;case 4:lm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(qc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?pk(t,e,n):(Ce(Ne,Ne.current&1),t=dr(t,e,n),t!==null?t.sibling:null);Ce(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,dk(t,e,n)}return dr(t,e,n)}var gk,zf,vk,yk;gk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zf=function(){};vk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ii(Mn.current);var s=null;switch(n){case"input":i=ff(t,i),r=ff(t,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=gf(t,i),r=gf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vc)}yf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ea.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yk=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ix(t,e,n){var r=e.pendingProps;switch(tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Ot(e.type)&&zc(),dt(e),null;case 3:return r=e.stateNode,Vs(),xe(Rt),xe(pt),um(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Zf(dn),dn=null))),zf(t,e),dt(e),null;case 5:cm(e);var i=Ii(Oa.current);if(n=e.type,t!==null&&e.stateNode!=null)vk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return dt(e),null}if(t=Ii(Mn.current),Ql(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pn]=e,r[Na]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Xo.length;i++)Ie(Xo[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Gv(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":Qv(r,s),Ie("invalid",r)}yf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ql(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ql(r.textContent,a,t),i=["children",""+a]):Ea.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Hl(r),qv(r,s,!0);break;case"textarea":Hl(r),Xv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pn]=e,t[Na]=r,gk(t,e,!1,!1),e.stateNode=t;e:{switch(o=_f(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xo.length;i++)Ie(Xo[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Gv(t,r),i=ff(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Qv(t,r),i=gf(t,r),Ie("invalid",t);break;default:i=r}yf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?q0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ka(t,l):typeof l=="number"&&ka(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ea.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&Wp(t,s,l,o))}switch(n){case"input":Hl(t),qv(t,r,!1);break;case"textarea":Hl(t),Xv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)yk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ii(Oa.current),Ii(Mn.current),Ql(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pn]=e,(s=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:ql(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ql(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=e,e.stateNode=r}return dt(e),null;case 13:if(xe(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Ht!==null&&e.mode&1&&!(e.flags&128))LE(),Bs(),e.flags|=98560,s=!1;else if(s=Ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Pn]=e}else Bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else dn!==null&&(Zf(dn),dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Ge===0&&(Ge=3):km())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return Vs(),zf(t,e),t===null&&Pa(e.stateNode.containerInfo),dt(e),null;case 10:return sm(e.type._context),dt(e),null;case 17:return Ot(e.type)&&zc(),dt(e),null;case 19:if(xe(Ne),s=e.memoizedState,s===null)return dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)jo(s,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jc(t),o!==null){for(e.flags|=128,jo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>$s&&(e.flags|=128,r=!0,jo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return dt(e),null}else 2*Ue()-s.renderingStartTime>$s&&n!==1073741824&&(e.flags|=128,r=!0,jo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=Ne.current,Ce(Ne,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return Em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ut&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function sx(t,e){switch(tm(e),e.tag){case 1:return Ot(e.type)&&zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vs(),xe(Rt),xe(pt),um(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cm(e),null;case 13:if(xe(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Ne),null;case 4:return Vs(),null;case 10:return sm(e.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var Zl=!1,ht=!1,ox=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function $f(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Wy=!1;function ax(t,e){if(Pf=Hc,t=SE(),Zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bf={focusedElem:t,selectionRange:n},Hc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,P=_.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:cn(e.type,T),P);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){Me(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return _=Wy,Wy=!1,_}function la(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$f(e,n,s)}i=i.next}while(i!==r)}}function td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _k(t){var e=t.alternate;e!==null&&(t.alternate=null,_k(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pn],delete e[Na],delete e[Of],delete e[YD],delete e[VD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wk(t){return t.tag===5||t.tag===3||t.tag===4}function Hy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vc));else if(r!==4&&(t=t.child,t!==null))for(Gf(t,e,n),t=t.sibling;t!==null;)Gf(t,e,n),t=t.sibling}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}var it=null,un=!1;function Sr(t,e,n){for(n=n.child;n!==null;)Ek(t,e,n),n=n.sibling}function Ek(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 5:ht||Ss(n,e);case 6:var r=it,i=un;it=null,Sr(t,e,n),it=r,un=i,it!==null&&(un?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(un?(t=it,n=n.stateNode,t.nodeType===8?Eh(t.parentNode,n):t.nodeType===1&&Eh(t,n),Ia(t)):Eh(it,n.stateNode));break;case 4:r=it,i=un,it=n.stateNode.containerInfo,un=!0,Sr(t,e,n),it=r,un=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$f(n,e,o),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!ht&&(Ss(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Sr(t,e,n),ht=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function By(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ox),e.forEach(function(r){var i=gx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,un=!1;break e;case 3:it=a.stateNode.containerInfo,un=!0;break e;case 4:it=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(it===null)throw Error(W(160));Ek(s,o,i),it=null,un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Me(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kk(e,t),e=e.sibling}function kk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),Cn(t),r&4){try{la(3,t,t.return),td(3,t)}catch(T){Me(t,t.return,T)}try{la(5,t,t.return)}catch(T){Me(t,t.return,T)}}break;case 1:ln(e,t),Cn(t),r&512&&n!==null&&Ss(n,n.return);break;case 5:if(ln(e,t),Cn(t),r&512&&n!==null&&Ss(n,n.return),t.flags&32){var i=t.stateNode;try{ka(i,"")}catch(T){Me(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&V0(i,s),_f(a,o);var u=_f(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?q0(i,f):d==="dangerouslySetInnerHTML"?K0(i,f):d==="children"?ka(i,f):Wp(i,d,f,u)}switch(a){case"input":pf(i,s);break;case"textarea":z0(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ds(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ds(i,!!s.multiple,s.defaultValue,!0):Ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[Na]=s}catch(T){Me(t,t.return,T)}}break;case 6:if(ln(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Me(t,t.return,T)}}break;case 3:if(ln(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(e.containerInfo)}catch(T){Me(t,t.return,T)}break;case 4:ln(e,t),Cn(t);break;case 13:ln(e,t),Cn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_m=Ue())),r&4&&By(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(u=ht)||d,ln(e,t),ht=u):ln(e,t),Cn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(f=K=d;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:la(4,p,p.return);break;case 1:Ss(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(T){Me(r,n,T)}}break;case 5:Ss(p,p.return);break;case 22:if(p.memoizedState!==null){Vy(f);continue}}g!==null?(g.return=p,K=g):Vy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G0("display",o))}catch(T){Me(t,t.return,T)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(T){Me(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(e,t),Cn(t),r&4&&By(t);break;case 21:break;default:ln(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wk(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ka(i,""),r.flags&=-33);var s=Hy(t);qf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Hy(t);Gf(t,a,o);break;default:throw Error(W(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lx(t,e,n){K=t,Sk(t)}function Sk(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ht;a=Zl;var u=ht;if(Zl=o,(ht=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?zy(i):l!==null?(l.return=o,K=l):zy(i);for(;s!==null;)K=s,Sk(s),s=s.sibling;K=i,Zl=a,ht=u}Yy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):Yy(t)}}function Yy(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ia(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}ht||e.flags&512&&Kf(e)}catch(p){Me(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function Vy(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function zy(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{td(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Me(e,i,l)}}var s=e.return;try{Kf(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{Kf(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var cx=Math.ceil,tu=gr.ReactCurrentDispatcher,vm=gr.ReactCurrentOwner,en=gr.ReactCurrentBatchConfig,he=0,et=null,Ye=null,st=0,Ut=0,Cs=ci(0),Ge=0,Fa=null,Ui=0,nd=0,ym=0,ca=null,Dt=null,_m=0,$s=1/0,Kn=null,nu=!1,Qf=null,Vr=null,ec=!1,Mr=null,ru=0,ua=0,Xf=null,kc=-1,Sc=0;function St(){return he&6?Ue():kc!==-1?kc:kc=Ue()}function zr(t){return t.mode&1?he&2&&st!==0?st&-st:$D.transition!==null?(Sc===0&&(Sc=aE()),Sc):(t=we,t!==0||(t=window.event,t=t===void 0?16:pE(t.type)),t):1}function vn(t,e,n,r){if(50<ua)throw ua=0,Xf=null,Error(W(185));rl(t,n,r),(!(he&2)||t!==et)&&(t===et&&(!(he&2)&&(nd|=n),Ge===4&&Pr(t,st)),At(t,r),n===1&&he===0&&!(e.mode&1)&&($s=Ue()+500,Ju&&ui()))}function At(t,e){var n=t.callbackNode;$I(t,e);var r=Wc(t,t===et?st:0);if(r===0)n!==null&&ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ey(n),e===1)t.tag===0?zD($y.bind(null,t)):OE($y.bind(null,t)),HD(function(){!(he&6)&&ui()}),n=null;else{switch(lE(r)){case 1:n=zp;break;case 4:n=sE;break;case 16:n=Uc;break;case 536870912:n=oE;break;default:n=Uc}n=Nk(n,Ck.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ck(t,e){if(kc=-1,Sc=0,he&6)throw Error(W(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var r=Wc(t,t===et?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=iu(t,r);else{e=r;var i=he;he|=2;var s=Ik();(et!==t||st!==e)&&(Kn=null,$s=Ue()+500,Ni(t,e));do try{hx();break}catch(a){Tk(t,a)}while(!0);im(),tu.current=s,he=i,Ye!==null?e=0:(et=null,st=0,e=Ge)}if(e!==0){if(e===2&&(i=Cf(t),i!==0&&(r=i,e=Jf(t,i))),e===1)throw n=Fa,Ni(t,0),Pr(t,r),At(t,Ue()),n;if(e===6)Pr(t,r);else{if(i=t.current.alternate,!(r&30)&&!ux(i)&&(e=iu(t,r),e===2&&(s=Cf(t),s!==0&&(r=s,e=Jf(t,s))),e===1))throw n=Fa,Ni(t,0),Pr(t,r),At(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:wi(t,Dt,Kn);break;case 3:if(Pr(t,r),(r&130023424)===r&&(e=_m+500-Ue(),10<e)){if(Wc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rf(wi.bind(null,t,Dt,Kn),e);break}wi(t,Dt,Kn);break;case 4:if(Pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cx(r/1960))-r,10<r){t.timeoutHandle=Rf(wi.bind(null,t,Dt,Kn),r);break}wi(t,Dt,Kn);break;case 5:wi(t,Dt,Kn);break;default:throw Error(W(329))}}}return At(t,Ue()),t.callbackNode===n?Ck.bind(null,t):null}function Jf(t,e){var n=ca;return t.current.memoizedState.isDehydrated&&(Ni(t,e).flags|=256),t=iu(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Zf(e)),t}function Zf(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function ux(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(t,e){for(e&=~ym,e&=~nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gn(e),r=1<<n;t[n]=-1,e&=~r}}function $y(t){if(he&6)throw Error(W(327));Rs();var e=Wc(t,0);if(!(e&1))return At(t,Ue()),null;var n=iu(t,e);if(t.tag!==0&&n===2){var r=Cf(t);r!==0&&(e=r,n=Jf(t,r))}if(n===1)throw n=Fa,Ni(t,0),Pr(t,e),At(t,Ue()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wi(t,Dt,Kn),At(t,Ue()),null}function wm(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&($s=Ue()+500,Ju&&ui())}}function Wi(t){Mr!==null&&Mr.tag===0&&!(he&6)&&Rs();var e=he;he|=1;var n=en.transition,r=we;try{if(en.transition=null,we=1,t)return t()}finally{we=r,en.transition=n,he=e,!(he&6)&&ui()}}function Em(){Ut=Cs.current,xe(Cs)}function Ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WD(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zc();break;case 3:Vs(),xe(Rt),xe(pt),um();break;case 5:cm(r);break;case 4:Vs();break;case 13:xe(Ne);break;case 19:xe(Ne);break;case 10:sm(r.type._context);break;case 22:case 23:Em()}n=n.return}if(et=t,Ye=t=$r(t.current,null),st=Ut=e,Ge=0,Fa=null,ym=nd=Ui=0,Dt=ca=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ti=null}return t}function Tk(t,e){do{var n=Ye;try{if(im(),_c.current=eu,Zc){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zc=!1}if(ji=0,Qe=ze=Oe=null,aa=!1,Aa=0,vm.current=null,n===null||n.return===null){Ge=1,Fa=e,Ye=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Oy(o);if(g!==null){g.flags&=-257,Ay(g,o,a,s,e),g.mode&1&&Ry(s,u,e),e=g,l=u;var _=e.updateQueue;if(_===null){var T=new Set;T.add(l),e.updateQueue=T}else _.add(l);break e}else{if(!(e&1)){Ry(s,u,e),km();break e}l=Error(W(426))}}else if(be&&a.mode&1){var P=Oy(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Ay(P,o,a,s,e),nm(zs(l,a));break e}}s=l=zs(l,a),Ge!==4&&(Ge=2),ca===null?ca=[s]:ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=lk(s,l,e);Iy(s,E);break e;case 1:a=l;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Vr===null||!Vr.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=ck(s,a,e);Iy(s,O);break e}}s=s.return}while(s!==null)}xk(n)}catch(L){e=L,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Ik(){var t=tu.current;return tu.current=eu,t===null?eu:t}function km(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),et===null||!(Ui&268435455)&&!(nd&268435455)||Pr(et,st)}function iu(t,e){var n=he;he|=2;var r=Ik();(et!==t||st!==e)&&(Kn=null,Ni(t,e));do try{dx();break}catch(i){Tk(t,i)}while(!0);if(im(),he=n,tu.current=r,Ye!==null)throw Error(W(261));return et=null,st=0,Ge}function dx(){for(;Ye!==null;)Dk(Ye)}function hx(){for(;Ye!==null&&!FI();)Dk(Ye)}function Dk(t){var e=bk(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,e===null?xk(t):Ye=e,vm.current=null}function xk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sx(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Ye=null;return}}else if(n=ix(n,e,Ut),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Ge===0&&(Ge=5)}function wi(t,e,n){var r=we,i=en.transition;try{en.transition=null,we=1,fx(t,e,n,r)}finally{en.transition=i,we=r}return null}function fx(t,e,n,r){do Rs();while(Mr!==null);if(he&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KI(t,s),t===et&&(Ye=et=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ec||(ec=!0,Nk(Uc,function(){return Rs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=en.transition,en.transition=null;var o=we;we=1;var a=he;he|=4,vm.current=null,ax(t,n),kk(n,t),OD(bf),Hc=!!Pf,bf=Pf=null,t.current=n,lx(n),jI(),he=a,we=o,en.transition=s}else t.current=n;if(ec&&(ec=!1,Mr=t,ru=i),s=t.pendingLanes,s===0&&(Vr=null),HI(n.stateNode),At(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nu)throw nu=!1,t=Qf,Qf=null,t;return ru&1&&t.tag!==0&&Rs(),s=t.pendingLanes,s&1?t===Xf?ua++:(ua=0,Xf=t):ua=0,ui(),null}function Rs(){if(Mr!==null){var t=lE(ru),e=en.transition,n=we;try{if(en.transition=null,we=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,ru=0,he&6)throw Error(W(331));var i=he;for(he|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:la(8,d,s)}var f=d.child;if(f!==null)f.return=d,K=f;else for(;K!==null;){d=K;var p=d.sibling,g=d.return;if(_k(d),d===u){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var _=s.alternate;if(_!==null){var T=_.child;if(T!==null){_.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:la(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break e}K=s.return}}var w=t.current;for(K=w;K!==null;){o=K;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,K=C;else e:for(o=w;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:td(9,a)}}catch(L){Me(a,a.return,L)}if(a===o){K=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,K=O;break e}K=a.return}}if(he=i,ui(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Ku,t)}catch{}r=!0}return r}finally{we=n,en.transition=e}}return!1}function Ky(t,e,n){e=zs(n,e),e=lk(t,e,1),t=Yr(t,e,1),e=St(),t!==null&&(rl(t,1,e),At(t,e))}function Me(t,e,n){if(t.tag===3)Ky(t,t,n);else for(;e!==null;){if(e.tag===3){Ky(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){t=zs(n,t),t=ck(e,t,1),e=Yr(e,t,1),t=St(),e!==null&&(rl(e,1,t),At(e,t));break}}e=e.return}}function px(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(st&n)===n&&(Ge===4||Ge===3&&(st&130023424)===st&&500>Ue()-_m?Ni(t,0):ym|=n),At(t,e)}function Pk(t,e){e===0&&(t.mode&1?(e=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):e=1);var n=St();t=ur(t,e),t!==null&&(rl(t,e,n),At(t,n))}function mx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pk(t,n)}function gx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Pk(t,n)}var bk;bk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,rx(t,e,n);bt=!!(t.flags&131072)}else bt=!1,be&&e.flags&1048576&&AE(e,Gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=Hs(e,pt.current);Ns(e,n),i=hm(null,e,r,t,i,n);var s=fm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(s=!0,$c(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,am(e),i.updater=ed,e.stateNode=i,i._reactInternals=e,Uf(e,r,t,n),e=Bf(null,e,r,!0,s,n)):(e.tag=0,be&&s&&em(e),vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yx(r),t=cn(r,t),i){case 0:e=Hf(null,e,r,t,n);break e;case 1:e=Fy(null,e,r,t,n);break e;case 11:e=My(null,e,r,t,n);break e;case 14:e=Ly(null,e,r,cn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Hf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Fy(t,e,r,i,n);case 3:e:{if(fk(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WE(t,e),Xc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zs(Error(W(423)),e),e=jy(t,e,r,n,i);break e}else if(r!==i){i=zs(Error(W(424)),e),e=jy(t,e,r,n,i);break e}else for(Ht=Br(e.stateNode.containerInfo.firstChild),Bt=e,be=!0,dn=null,n=jE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bs(),r===i){e=dr(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return HE(e),t===null&&Lf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Nf(r,i)?o=null:s!==null&&Nf(r,s)&&(e.flags|=32),hk(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Lf(e),null;case 13:return pk(t,e,n);case 4:return lm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ys(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),My(t,e,r,i,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(qc,r._currentValue),r._currentValue=o,s!==null)if(_n(s.value,o)){if(s.children===i.children&&!Rt.current){e=dr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=nr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ff(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ff(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ns(e,n),i=tn(i),r=r(i),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,i=cn(r,e.pendingProps),i=cn(r.type,i),Ly(t,e,r,i,n);case 15:return uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Ec(t,e),e.tag=1,Ot(r)?(t=!0,$c(e)):t=!1,Ns(e,n),ak(e,r,i),Uf(e,r,i,n),Bf(null,e,r,!0,t,n);case 19:return mk(t,e,n);case 22:return dk(t,e,n)}throw Error(W(156,e.tag))};function Nk(t,e){return iE(t,e)}function vx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new vx(t,e,n,r)}function Sm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yx(t){if(typeof t=="function")return Sm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===Yp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Sm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ps:return Ri(n.children,i,s,e);case Hp:o=8,i|=8;break;case cf:return t=Zt(12,n,e,i|2),t.elementType=cf,t.lanes=s,t;case uf:return t=Zt(13,n,e,i),t.elementType=uf,t.lanes=s,t;case df:return t=Zt(19,n,e,i),t.elementType=df,t.lanes=s,t;case H0:return rd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U0:o=10;break e;case W0:o=9;break e;case Bp:o=11;break e;case Yp:o=14;break e;case Ir:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Zt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ri(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function rd(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=H0,t.lanes=n,t.stateNode={isHidden:!1},t}function Ph(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function bh(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _x(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cm(t,e,n,r,i,s,o,a,l){return t=new _x(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},am(s),t}function wx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rk(t){if(!t)return ti;t=t._reactInternals;e:{if(Ji(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Ot(n))return RE(t,n,e)}return e}function Ok(t,e,n,r,i,s,o,a,l){return t=Cm(n,r,!0,t,i,s,o,a,l),t.context=Rk(null),n=t.current,r=St(),i=zr(n),s=nr(r,i),s.callback=e??null,Yr(n,s,i),t.current.lanes=i,rl(t,i,r),At(t,r),t}function id(t,e,n,r){var i=e.current,s=St(),o=zr(i);return n=Rk(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yr(i,e,o),t!==null&&(vn(t,i,o,s),yc(t,i,o)),o}function su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tm(t,e){Gy(t,e),(t=t.alternate)&&Gy(t,e)}function Ex(){return null}var Ak=typeof reportError=="function"?reportError:function(t){console.error(t)};function Im(t){this._internalRoot=t}sd.prototype.render=Im.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));id(t,e,null,null)};sd.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){id(null,t,null,null)}),e[cr]=null}};function sd(t){this._internalRoot=t}sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=dE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&fE(t)}};function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qy(){}function kx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=su(o);s.call(u)}}var o=Ok(e,r,t,0,null,!1,!1,"",qy);return t._reactRootContainer=o,t[cr]=o.current,Pa(t.nodeType===8?t.parentNode:t),Wi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=su(l);a.call(u)}}var l=Cm(t,0,!1,null,null,!1,!1,"",qy);return t._reactRootContainer=l,t[cr]=l.current,Pa(t.nodeType===8?t.parentNode:t),Wi(function(){id(e,l,n,r)}),l}function ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=su(o);a.call(l)}}id(e,o,t,i)}else o=kx(n,e,t,i,r);return su(o)}cE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qo(e.pendingLanes);n!==0&&($p(e,n|1),At(e,Ue()),!(he&6)&&($s=Ue()+500,ui()))}break;case 13:Wi(function(){var r=ur(t,1);if(r!==null){var i=St();vn(r,t,1,i)}}),Tm(t,1)}};Kp=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=St();vn(e,t,134217728,n)}Tm(t,134217728)}};uE=function(t){if(t.tag===13){var e=zr(t),n=ur(t,e);if(n!==null){var r=St();vn(n,t,e,r)}Tm(t,e)}};dE=function(){return we};hE=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Ef=function(t,e,n){switch(e){case"input":if(pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xu(r);if(!i)throw Error(W(90));Y0(r),pf(r,i)}}}break;case"textarea":z0(t,n);break;case"select":e=n.value,e!=null&&Ds(t,!!n.multiple,e,!1)}};J0=wm;Z0=Wi;var Sx={usingClientEntryPoint:!1,Events:[sl,ys,Xu,Q0,X0,wm]},Uo={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cx={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nE(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Ex,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Ku=tc.inject(Cx),An=tc}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sx;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(e))throw Error(W(200));return wx(t,e,null,n)};$t.createRoot=function(t,e){if(!Dm(t))throw Error(W(299));var n=!1,r="",i=Ak;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cm(t,1,!1,null,null,n,!1,r,i),t[cr]=e.current,Pa(t.nodeType===8?t.parentNode:t),new Im(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=nE(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Wi(t)};$t.hydrate=function(t,e,n){if(!od(e))throw Error(W(200));return ad(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Dm(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ak;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ok(e,null,t,1,n??null,i,!1,s,o),t[cr]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sd(e)};$t.render=function(t,e,n){if(!od(e))throw Error(W(200));return ad(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!od(t))throw Error(W(40));return t._reactRootContainer?(Wi(function(){ad(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};$t.unstable_batchedUpdates=wm;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!od(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return ad(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function Mk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mk)}catch(t){console.error(t)}}Mk(),M0.exports=$t;var xm=M0.exports;const Tx=k0(xm);var Lk,Qy=xm;Lk=Qy.createRoot,Qy.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ja.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const Xy="popstate";function Ix(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ep("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ou(i)}return xx(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dx(){return Math.random().toString(36).substr(2,8)}function Jy(t,e){return{usr:t.state,key:t.key,idx:e}}function ep(t,e,n,r){return n===void 0&&(n=null),ja({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lo(e):e,{state:n,key:e&&e.key||r||Dx()})}function ou(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Lr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ja({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Lr.Pop;let P=d(),E=P==null?null:P-u;u=P,l&&l({action:a,location:T.location,delta:E})}function p(P,E){a=Lr.Push;let w=ep(T.location,P,E);u=d()+1;let C=Jy(w,u),O=T.createHref(w);try{o.pushState(C,"",O)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(O)}s&&l&&l({action:a,location:T.location,delta:1})}function g(P,E){a=Lr.Replace;let w=ep(T.location,P,E);u=d();let C=Jy(w,u),O=T.createHref(w);o.replaceState(C,"",O),s&&l&&l({action:a,location:T.location,delta:0})}function _(P){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof P=="string"?P:ou(P);return w=w.replace(/ $/,"%20"),Be(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let T={get action(){return a},get location(){return t(i,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xy,f),l=P,()=>{i.removeEventListener(Xy,f),l=null}},createHref(P){return e(i,P)},createURL:_,encodeLocation(P){let E=_(P);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(P){return o.go(P)}};return T}var Zy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zy||(Zy={}));function Px(t,e,n){return n===void 0&&(n="/"),bx(t,e,n,!1)}function bx(t,e,n,r){let i=typeof e=="string"?lo(e):e,s=Pm(i.pathname||"/",n);if(s==null)return null;let o=jk(t);Nx(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Bx(s);a=Wx(o[l],u,r)}return a}function jk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Kr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jk(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jx(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Uk(s.path))i(s,o,l)}),e}function Uk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Uk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Nx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ux(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rx=/^:[\w-]+$/,Ox=3,Ax=2,Mx=1,Lx=10,Fx=-2,e_=t=>t==="*";function jx(t,e){let n=t.split("/"),r=n.length;return n.some(e_)&&(r+=Fx),e&&(r+=Ax),n.filter(i=>!e_(i)).reduce((i,s)=>i+(Rx.test(s)?Ox:s===""?Mx:Lx),r)}function Ux(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wx(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=t_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=t_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Kr([s,f.pathname]),pathnameBase:$x(Kr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=Kr([s,f.pathnameBase]))}return o}function t_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Hx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let T=a[f]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const _=a[f];return g&&!_?u[p]=void 0:u[p]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Hx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Bx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Yx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:n?n.startsWith("/")?n:Vx(n,e):e,search:Kx(r),hash:Gx(i)}}function Vx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bm(t,e){let n=zx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=lo(t):(i=ja({},t),Be(!i.pathname||!i.pathname.includes("?"),Nh("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),Nh("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),Nh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Yx(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Kr=t=>t.join("/").replace(/\/\/+/g,"/"),$x=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wk=["post","put","patch","delete"];new Set(Wk);const Qx=["get",...Wk];new Set(Qx);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}const Rm=R.createContext(null),Xx=R.createContext(null),di=R.createContext(null),ld=R.createContext(null),hi=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Hk=R.createContext(null);function Jx(t,e){let{relative:n}=e===void 0?{}:e;co()||Be(!1);let{basename:r,navigator:i}=R.useContext(di),{hash:s,pathname:o,search:a}=Yk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function co(){return R.useContext(ld)!=null}function uo(){return co()||Be(!1),R.useContext(ld).location}function Bk(t){R.useContext(di).static||R.useLayoutEffect(t)}function Om(){let{isDataRoute:t}=R.useContext(hi);return t?dP():Zx()}function Zx(){co()||Be(!1);let t=R.useContext(Rm),{basename:e,future:n,navigator:r}=R.useContext(di),{matches:i}=R.useContext(hi),{pathname:s}=uo(),o=JSON.stringify(bm(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return Bk(()=>{a.current=!0}),R.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Nm(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Kr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function Yk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(di),{matches:i}=R.useContext(hi),{pathname:s}=uo(),o=JSON.stringify(bm(i,r.v7_relativeSplatPath));return R.useMemo(()=>Nm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eP(t,e){return tP(t,e)}function tP(t,e,n,r){co()||Be(!1);let{navigator:i}=R.useContext(di),{matches:s}=R.useContext(hi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=uo(),d;if(e){var f;let P=typeof e=="string"?lo(e):e;l==="/"||(f=P.pathname)!=null&&f.startsWith(l)||Be(!1),d=P}else d=u;let p=d.pathname||"/",g=p;if(l!=="/"){let P=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=Px(t,{pathname:g}),T=oP(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Kr([l,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?l:Kr([l,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&T?R.createElement(ld.Provider,{value:{location:Ua({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lr.Pop}},T):T}function nP(){let t=uP(),e=qx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const rP=R.createElement(nP,null);class iP extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(hi.Provider,{value:this.props.routeContext},R.createElement(Hk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sP(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Rm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(hi.Provider,{value:e},r)}function oP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let g,_=!1,T=null,P=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||rP,l&&(u<0&&p===0?(_=!0,P=null):u===p&&(_=!0,P=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),w=()=>{let C;return g?C=T:_?C=P:f.route.Component?C=R.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,R.createElement(sP,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:C})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?R.createElement(iP,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var Vk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vk||{}),au=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(au||{});function aP(t){let e=R.useContext(Rm);return e||Be(!1),e}function lP(t){let e=R.useContext(Xx);return e||Be(!1),e}function cP(t){let e=R.useContext(hi);return e||Be(!1),e}function zk(t){let e=cP(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function uP(){var t;let e=R.useContext(Hk),n=lP(au.UseRouteError),r=zk(au.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dP(){let{router:t}=aP(Vk.UseNavigateStable),e=zk(au.UseNavigateStable),n=R.useRef(!1);return Bk(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ua({fromRouteId:e},s)))},[t,e])}function n_(t){let{to:e,replace:n,state:r,relative:i}=t;co()||Be(!1);let{future:s,static:o}=R.useContext(di),{matches:a}=R.useContext(hi),{pathname:l}=uo(),u=Om(),d=Nm(e,bm(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return R.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function $n(t){Be(!1)}function hP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Lr.Pop,navigator:s,static:o=!1,future:a}=t;co()&&Be(!1);let l=e.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:s,static:o,future:Ua({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=lo(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:_="default"}=r,T=R.useMemo(()=>{let P=Pm(d,l);return P==null?null:{location:{pathname:P,search:f,hash:p,state:g,key:_},navigationType:i}},[l,d,f,p,g,_,i]);return T==null?null:R.createElement(di.Provider,{value:u},R.createElement(ld.Provider,{children:n,value:T}))}function r_(t){let{children:e,location:n}=t;return eP(tp(e),n)}new Promise(()=>{});function tp(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,tp(r.props.children,s));return}r.type!==$n&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(this,arguments)}function fP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mP(t,e){return t.button===0&&(!e||e==="_self")&&!pP(t)}const gP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vP="6";try{window.__reactRouterVersion=vP}catch{}const yP="startTransition",i_=O0[yP];function _P(t){let{basename:e,children:n,future:r,window:i}=t,s=R.useRef();s.current==null&&(s.current=Ix({window:i,v5Compat:!0}));let o=s.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=R.useCallback(f=>{u&&i_?i_(()=>l(f)):l(f)},[l,u]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.createElement(hP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fr=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,p=fP(e,gP),{basename:g}=R.useContext(di),_,T=!1;if(typeof u=="string"&&EP.test(u)&&(_=u,wP))try{let C=new URL(window.location.href),O=u.startsWith("//")?new URL(C.protocol+u):new URL(u),L=Pm(O.pathname,g);O.origin===C.origin&&L!=null?u=L+O.search+O.hash:T=!0}catch{}let P=Jx(u,{relative:i}),E=kP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function w(C){r&&r(C),C.defaultPrevented||E(C)}return R.createElement("a",np({},p,{href:_||P,onClick:T||s?r:w,ref:n,target:l}))});var s_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(s_||(s_={}));var o_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o_||(o_={}));function kP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Om(),u=uo(),d=Yk(t,{relative:o});return R.useCallback(f=>{if(mP(f,n)){f.preventDefault();let p=r!==void 0?r:ou(u)===ou(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var a_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t,e){if(!t)throw ho(e)},ho=function(t){return new Error("Firebase Database ("+$k.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Am={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new CP;const p=s<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gk=function(t){const e=Kk(t);return Am.encodeByteArray(e,!0)},lu=function(t){return Gk(t).replace(/\./g,"")},cu=function(t){try{return Am.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){return qk(void 0,t)}function qk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!IP(n)||(t[n]=qk(t[n],e[n]));return t}function IP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=()=>DP().__FIREBASE_DEFAULTS__,PP=()=>{if(typeof process>"u"||typeof a_>"u")return;const t=a_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cu(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return xP()||PP()||bP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qk=t=>{var e,n;return(n=(e=Mm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xk=t=>{const e=Qk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jk=()=>{var t;return(t=Mm())===null||t===void 0?void 0:t.config},Zk=t=>{var e;return(e=Mm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lu(JSON.stringify(n)),lu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function NP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RP(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rS(){return $k.NODE_ADMIN===!0}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function OP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="FirebaseError";class Sn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AP,Object.setPrototypeOf(this,Sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Sn(i,a,r)}}function MP(t,e){return t.replace(LP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const LP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return JSON.parse(t)}function $e(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Wa(cu(s[0])||""),n=Wa(cu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},FP=function(t){const e=oS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jP=function(t){const e=oS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ks(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uu(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ha(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(l_(s)&&l_(o)){if(!Ha(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const p=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):f<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const p=(i<<5|i>>>27)+u+l+d+r[f]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function WP(t,e){const n=new HP(t,e);return n.subscribe.bind(n)}class HP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rh),i.error===void 0&&(i.error=Rh),i.complete===void 0&&(i.complete=Rh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rh(){}function Fm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,H(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ud=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=1e3,zP=2,$P=4*60*60*1e3,KP=.5;function c_(t,e=VP,n=zP){const r=e*Math.pow(n,t),i=Math.round(KP*r*(Math.random()-.5)*2);return Math.min($P,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QP(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qP(t){return t===Ei?void 0:t}function QP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const JP={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},ZP=me.INFO,eb={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},tb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class al{constructor(e){this.name=e,this._logLevel=ZP,this._logHandler=tb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const nb=(t,e)=>e.some(n=>t instanceof n);let u_,d_;function rb(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ib(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aS=new WeakMap,ip=new WeakMap,lS=new WeakMap,Oh=new WeakMap,jm=new WeakMap;function sb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aS.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function ob(t){if(ip.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ip.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ab(t){sp=t(sp)}function lb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ah(this),e,...n);return lS.set(r,e.sort?e.sort():[e]),Gr(r)}:ib().includes(t)?function(...e){return t.apply(Ah(this),e),Gr(aS.get(this))}:function(...e){return Gr(t.apply(Ah(this),e))}}function cb(t){return typeof t=="function"?lb(t):(t instanceof IDBTransaction&&ob(t),nb(t,rb())?new Proxy(t,sp):t)}function Gr(t){if(t instanceof IDBRequest)return sb(t);if(Oh.has(t))return Oh.get(t);const e=cb(t);return e!==t&&(Oh.set(t,e),jm.set(e,t)),e}const Ah=t=>jm.get(t);function cS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gr(o.result),l.oldVersion,l.newVersion,Gr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ub=["get","getKey","getAll","getAllKeys","count"],db=["put","add","delete","clear"],Mh=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=db.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ub.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Mh.set(e,s),s}ab(t=>({...t,get:(e,n,r)=>h_(e,n)||t.get(e,n,r),has:(e,n)=>!!h_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",f_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new al("@firebase/app"),pb="@firebase/app-compat",mb="@firebase/analytics-compat",gb="@firebase/analytics",vb="@firebase/app-check-compat",yb="@firebase/app-check",_b="@firebase/auth",wb="@firebase/auth-compat",Eb="@firebase/database",kb="@firebase/data-connect",Sb="@firebase/database-compat",Cb="@firebase/functions",Tb="@firebase/functions-compat",Ib="@firebase/installations",Db="@firebase/installations-compat",xb="@firebase/messaging",Pb="@firebase/messaging-compat",bb="@firebase/performance",Nb="@firebase/performance-compat",Rb="@firebase/remote-config",Ob="@firebase/remote-config-compat",Ab="@firebase/storage",Mb="@firebase/storage-compat",Lb="@firebase/firestore",Fb="@firebase/vertexai",jb="@firebase/firestore-compat",Ub="firebase",Wb="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",Hb={[op]:"fire-core",[pb]:"fire-core-compat",[gb]:"fire-analytics",[mb]:"fire-analytics-compat",[yb]:"fire-app-check",[vb]:"fire-app-check-compat",[_b]:"fire-auth",[wb]:"fire-auth-compat",[Eb]:"fire-rtdb",[kb]:"fire-data-connect",[Sb]:"fire-rtdb-compat",[Cb]:"fire-fn",[Tb]:"fire-fn-compat",[Ib]:"fire-iid",[Db]:"fire-iid-compat",[xb]:"fire-fcm",[Pb]:"fire-fcm-compat",[bb]:"fire-perf",[Nb]:"fire-perf-compat",[Rb]:"fire-rc",[Ob]:"fire-rc-compat",[Ab]:"fire-gcs",[Mb]:"fire-gcs-compat",[Lb]:"fire-fst",[jb]:"fire-fst-compat",[Fb]:"fire-vertex","fire-js":"fire-js",[Ub]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,Bb=new Map,lp=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(lp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of du.values())p_(n,t);for(const n of Bb.values())p_(n,t);return!0}function fi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Zi("app","Firebase",Yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=Wb;function uS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=Jk()),!n)throw qr.create("no-options");const s=du.get(i);if(s){if(Ha(n,s.options)&&Ha(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new XP(i);for(const l of lp.values())o.addComponent(l);const a=new Vb(n,r,o);return du.set(i,a),a}function dd(t=ap){const e=du.get(t);if(!e&&t===ap&&Jk())return uS();if(!e)throw qr.create("no-app",{appName:t});return e}function Mt(t,e,n){var r;let i=(r=Hb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(a.join(" "));return}wn(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-heartbeat-database",$b=1,Ba="firebase-heartbeat-store";let Lh=null;function dS(){return Lh||(Lh=cS(zb,$b,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Lh}async function Kb(t){try{const n=(await dS()).transaction(Ba),r=await n.objectStore(Ba).get(hS(t));return await n.done,r}catch(e){if(e instanceof Sn)hr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function m_(t,e){try{const r=(await dS()).transaction(Ba,"readwrite");await r.objectStore(Ba).put(e,hS(t)),await r.done}catch(n){if(n instanceof Sn)hr.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(r.message)}}}function hS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=1024,qb=30*24*60*60*1e3;class Qb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=qb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g_(),{heartbeatsToSend:r,unsentEntries:i}=Xb(this._heartbeatsCache.heartbeats),s=lu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hr.warn(n),""}}}function g_(){return new Date().toISOString().substring(0,10)}function Xb(t,e=Gb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),v_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(t){return lu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t){wn(new rn("platform-logger",e=>new hb(e),"PRIVATE")),wn(new rn("heartbeat",e=>new Qb(e),"PRIVATE")),Mt(op,f_,t),Mt(op,f_,"esm2017"),Mt("fire-js","")}Zb("");function Um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eN=fS,pS=new Zi("auth","Firebase",fS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new al("@firebase/auth");function tN(t,...e){hu.logLevel<=me.WARN&&hu.warn(`Auth (${es}): ${t}`,...e)}function Tc(t,...e){hu.logLevel<=me.ERROR&&hu.error(`Auth (${es}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Wm(t,...e)}function Ln(t,...e){return Wm(t,...e)}function mS(t,e,n){const r=Object.assign(Object.assign({},eN()),{[e]:n});return new Zi("auth","Firebase",r).create(e,{appName:t.name})}function rr(t){return mS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pS.create(t,...e)}function Z(t,e,...n){if(!t)throw Wm(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tc(e),new Error(e)}function fr(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nN(){return y_()==="http:"||y_()==="https:"}function y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||tS()||"connection"in navigator)?navigator.onLine:!0}function iN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lm()||nS()}get(){return rN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e){fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new ll(3e4,6e4);function pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yr(t,e,n,r,i={}){return vS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=fo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return NP()||(u.referrerPolicy="no-referrer"),gS.fetch()(yS(t,t.config.apiHost,n,a),u)})}async function vS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sN),e);try{const i=new lN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mS(t,d,u);En(t,d)}}catch(i){if(i instanceof Sn)throw i;En(t,"network-request-failed",{message:String(i)})}}async function cl(t,e,n,r,i={}){const s=await yr(t,e,n,r,i);return"mfaPendingCredential"in s&&En(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hm(t.config,i):`${t.config.apiScheme}://${i}`}function aN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),oN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ln(t,e,r);return i.customData._tokenResponse=n,i}function __(t){return t!==void 0&&t.enterprise!==void 0}class cN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uN(t,e){return yr(t,"GET","/v2/recaptchaConfig",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e){return yr(t,"POST","/v1/accounts:delete",e)}async function _S(t,e){return yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hN(t,e=!1){const n=tt(t),r=await n.getIdToken(e),i=Bm(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:da(Fh(i.auth_time)),issuedAtTime:da(Fh(i.iat)),expirationTime:da(Fh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Fh(t){return Number(t)*1e3}function Bm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const i=cu(n);return i?JSON.parse(i):(Tc("Failed to decode base64 JWT payload"),null)}catch(i){return Tc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function w_(t){const e=Bm(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sn&&fN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gs(t,_S(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wS(s.providerUserInfo):[],a=gN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new up(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function mN(t){const e=tt(t);await fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wS(t){return t.map(e=>{var{providerId:n}=e,r=Um(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e){const n=await vS(t,{},async()=>{const r=fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yN(t,e){return yr(t,"POST","/v2/accounts:revokeToken",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await vN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Os;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Os,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new up(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gs(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hN(this,e)}reload(){return mN(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await Gs(this,dN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:O,isAnonymous:L,providerData:j,stsTokenManager:k}=n;Z(C&&k,e,"internal-error");const v=Os.fromJSON(this.name,k);Z(typeof C=="string",e,"internal-error"),Cr(f,e.name),Cr(p,e.name),Z(typeof O=="boolean",e,"internal-error"),Z(typeof L=="boolean",e,"internal-error"),Cr(g,e.name),Cr(_,e.name),Cr(T,e.name),Cr(P,e.name),Cr(E,e.name),Cr(w,e.name);const S=new Zn({uid:C,auth:e,email:p,emailVerified:O,displayName:f,isAnonymous:L,photoURL:_,phoneNumber:g,tenantId:T,stsTokenManager:v,createdAt:E,lastLoginAt:w});return j&&Array.isArray(j)&&(S.providerData=j.map(I=>Object.assign({},I))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Os;i.updateFromServerResponse(n);const s=new Zn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Z(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Os;a.updateFromIdToken(r);const l=new Zn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new up(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function er(t){fr(t instanceof Function,"Expected a class definition");let e=E_.get(t);return e?(fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ES.type="NONE";const k_=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e,n){return`firebase:${t}:${e}:${n}`}class As{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new As(er(k_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||er(k_);const o=Ic(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Zn._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new As(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new As(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DS(e))return"Blackberry";if(xS(e))return"Webos";if(SS(e))return"Safari";if((e.includes("chrome/")||CS(e))&&!e.includes("edge/"))return"Chrome";if(IS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kS(t=Ct()){return/firefox\//i.test(t)}function SS(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CS(t=Ct()){return/crios\//i.test(t)}function TS(t=Ct()){return/iemobile/i.test(t)}function IS(t=Ct()){return/android/i.test(t)}function DS(t=Ct()){return/blackberry/i.test(t)}function xS(t=Ct()){return/webos/i.test(t)}function Ym(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _N(t=Ct()){var e;return Ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wN(){return RP()&&document.documentMode===10}function PS(t=Ct()){return Ym(t)||IS(t)||xS(t)||DS(t)||/windows phone/i.test(t)||TS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e=[]){let n;switch(t){case"Browser":n=S_(Ct());break;case"Worker":n=`${S_(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${es}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e={}){return yr(t,"GET","/v2/passwordPolicy",pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=6;class CN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new EN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await As.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _S(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(rr(this));const n=e?tt(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),n=new CN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await As.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return tt(t)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=WP(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(t){hd=t}function NS(t){return hd.loadJS(t)}function DN(){return hd.recaptchaEnterpriseScript}function xN(){return hd.gapiScript}function PN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bN{constructor(){this.enterprise=new NN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RN="recaptcha-enterprise",RS="NO_RECAPTCHA";class ON{constructor(e){this.type=RN,this.auth=ts(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{uN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new cN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;__(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(RS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&__(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=DN();l.length!==0&&(l+=a),NS(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function T_(t,e,n,r=!1,i=!1){const s=new ON(t);let o;if(i)o=RS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await T_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await T_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e){const n=fi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ha(s,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function MN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LN(t,e,n){const r=ts(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=OS(e),{host:o,port:a}=FN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),jN()}function OS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FN(t){const e=OS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:I_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:I_(o)}}}function I_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function UN(t,e){return yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e){return cl(t,"POST","/v1/accounts:signInWithPassword",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))}async function BN(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Vm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ya(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ya(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,n,"signInWithPassword",WN);case"emailLink":return HN(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,r,"signUpPassword",UN);case"emailLink":return BN(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return cl(t,"POST","/v1/accounts:signInWithIdp",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="http://localhost";class Hi extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Um(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:YN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zN(t){const e=Jo(Zo(t)).link,n=e?Jo(Zo(e)).deep_link_id:null,r=Jo(Zo(t)).deep_link_id;return(r?Jo(Zo(r)).link:null)||r||n||e||t}class zm{constructor(e){var n,r,i,s,o,a;const l=Jo(Zo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=VN((i=l.mode)!==null&&i!==void 0?i:null);Z(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=zN(e);try{return new zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Ya._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zm.parseLink(n);return Z(r,"argument-error"),Ya._fromEmailAndCode(e,r.code,r.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends AS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ul{constructor(){super("facebook.com")}static credential(e){return Hi._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ul{constructor(){super("github.com")}static credential(e){return Hi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ul{constructor(){super("twitter.com")}static credential(e,n){return Hi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e){return cl(t,"POST","/v1/accounts:signUp",pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zn._fromIdTokenResponse(e,r,i),o=D_(r);return new Bi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=D_(r);return new Bi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function D_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Sn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pu(e,n,r,i)}}function MS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(t,s,e,r):s})}async function KN(t,e,n=!1){const r=await Gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){const{auth:r}=t;if(Rn(r.app))return Promise.reject(rr(r));const i="reauthenticate";try{const s=await Gs(t,MS(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Bm(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),Bi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&En(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t,e,n=!1){if(Rn(t.app))return Promise.reject(rr(t));const r="signIn",i=await MS(t,r,e),s=await Bi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function qN(t,e){return LS(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QN(t,e,n){if(Rn(t.app))return Promise.reject(rr(t));const r=ts(t),o=await dp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$N).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FS(t),l}),a=await Bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function XN(t,e,n){return Rn(t.app)?Promise.reject(rr(t)):qN(tt(t),po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FS(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){return yr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=tt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Gs(r,JN(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function eR(t,e,n,r){return tt(t).onIdTokenChanged(e,n,r)}function tR(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function nR(t,e,n,r){return tt(t).onAuthStateChanged(e,n,r)}function rR(t){return tt(t).signOut()}const mu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mu,"1"),this.storage.removeItem(mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1e3,sR=10;class US extends jS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);wN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}US.type="LOCAL";const oR=US;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends jS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WS.type="SESSION";const HS=WS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await aR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=$m("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function cR(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function uR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hR(){return BS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",fR=1,gu="firebaseLocalStorage",VS="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([gu],e?"readwrite":"readonly").objectStore(gu)}function pR(){const t=indexedDB.deleteDatabase(YS);return new dl(t).toPromise()}function hp(){const t=indexedDB.open(YS,fR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gu,{keyPath:VS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gu)?e(r):(r.close(),await pR(),e(await hp()))})})}async function x_(t,e,n){const r=pd(t,!0).put({[VS]:e,value:n});return new dl(r).toPromise()}async function mR(t,e){const n=pd(t,!1).get(e),r=await new dl(n).toPromise();return r===void 0?null:r.value}function P_(t,e){const n=pd(t,!0).delete(e);return new dl(n).toPromise()}const gR=800,vR=3;class zS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(hR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await x_(e,mu,"1"),await P_(e,mu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=pd(i,!1).getAll();return new dl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zS.type="LOCAL";const yR=zS;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t,e){return e?er(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wR(t){return LS(t.auth,new Km(t),t.bypassAuthState)}function ER(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),GN(n,new Km(t),t.bypassAuthState)}async function kR(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),KN(n,new Km(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wR;case"linkViaPopup":case"linkViaRedirect":return kR;case"reauthViaPopup":case"reauthViaRedirect":return ER;default:En(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new ll(2e3,1e4);class Ts extends $S{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SR.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="pendingRedirect",Dc=new Map;class TR extends $S{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await IR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IR(t,e){const n=PR(e),r=xR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function DR(t,e){Dc.set(t._key(),e)}function xR(t){return er(t._redirectPersistence)}function PR(t){return Ic(CR,t.config.apiKey,t.name)}async function bR(t,e,n=!1){if(Rn(t.app))return Promise.reject(rr(t));const r=ts(t),i=_R(r,e),o=await new TR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=10*60*1e3;class RR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NR&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(t,e={}){return yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LR=/^https?/;async function FR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AR(t);for(const n of e)try{if(jR(n))return}catch{}En(t,"unauthorized-domain")}function jR(t){const e=cp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LR.test(n))return!1;if(MR.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new ll(3e4,6e4);function N_(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WR(t){return new Promise((e,n)=>{var r,i,s;function o(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),n(Ln(t,"network-request-failed"))},timeout:UR.get()})}if(!((i=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fn().gapi)===null||s===void 0)&&s.load)o();else{const a=PN("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(Ln(t,"network-request-failed"))},NS(`${xN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xc=null,e})}let xc=null;function HR(t){return xc=xc||WR(t),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new ll(5e3,15e3),YR="__/auth/iframe",VR="emulator/auth/iframe",zR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KR(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hm(e,VR):`https://${t.config.authDomain}/${YR}`,r={apiKey:e.apiKey,appName:t.name,v:es},i=$R.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fo(r).slice(1)}`}async function GR(t){const e=await HR(t),n=Fn().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:KR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zR,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),a=Fn().setTimeout(()=>{s(o)},BR.get());function l(){Fn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QR=500,XR=600,JR="_blank",ZR="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eO(t,e,n,r=QR,i=XR){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qR),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ct().toLowerCase();n&&(a=CS(u)?JR:n),kS(u)&&(e=e||ZR,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,_])=>`${p}${g}=${_},`,"");if(_N(u)&&a!=="_self")return tO(e||"",a),new R_(null);const f=window.open(e||"",a,d);Z(f,t,"popup-blocked");try{f.focus()}catch{}return new R_(f)}function tO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="__/auth/handler",rO="emulator/auth/handler",iO=encodeURIComponent("fac");async function O_(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:es,eventId:i};if(e instanceof AS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof ul){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${iO}=${encodeURIComponent(l)}`:"";return`${sO(t)}?${fo(a).slice(1)}${u}`}function sO({config:t}){return t.emulator?Hm(t,rO):`https://${t.authDomain}/${nO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="webStorageSupport";class oO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HS,this._completeRedirectFn=bR,this._overrideRedirectResult=DR}async _openPopup(e,n,r,i){var s;fr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await O_(e,n,r,cp(),i);return eO(e,o,$m())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await O_(e,n,r,cp(),i);return cR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GR(e),r=new RR(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jh,{type:jh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[jh];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PS()||SS()||Ym()}}const aO=oO;var A_="@firebase/auth",M_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uO(t){wn(new rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(t)},u=new TN(r,i,s,l);return MN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new rn("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(r=>new lO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mt(A_,M_,cO(t)),Mt(A_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=5*60,hO=Zk("authIdTokenMaxAge")||dO;let L_=null;const fO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hO)return;const i=n==null?void 0:n.token;L_!==i&&(L_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hl(t=dd()){const e=fi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AN(t,{popupRedirectResolver:aO,persistence:[yR,oR,HS]}),r=Zk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fO(s.toString());tR(n,o,()=>o(n.currentUser)),eR(n,a=>o(a))}}const i=Qk("auth");return i&&LN(n,`http://${i}`),n}function pO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ln("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uO("Browser");function mO({setActiveClass:t}){return D.jsxs("section",{className:"homepage-container",children:[D.jsxs("div",{children:[D.jsxs("figure",{children:[D.jsx("img",{src:"/logo.svg",alt:"Hasty logo",className:"logo"}),D.jsx("img",{src:"/notifikation.svg",alt:"Notification icon",className:"notification"})]}),D.jsx("article",{children:D.jsx("h1",{children:"få opgaver løst hurtigt, eller tilbyd din hjælp på ingen tid!"})})]}),D.jsxs("div",{className:"search-bar",children:[D.jsx("input",{type:"text",placeholder:"Søg her.."}),D.jsx("img",{src:"/search.webp",alt:"Search icon"}),D.jsx("img",{src:"/filter.webp",alt:"Filter icon"})]}),D.jsxs("div",{className:"category-container",children:[D.jsxs("div",{className:"category-text",children:[D.jsx("h2",{children:"Kategorier"}),D.jsx(Fr,{to:"/klaropgave",className:"textlink",onClick:()=>t(1),children:D.jsx("span",{children:"Vis alle"})})]}),D.jsxs("div",{className:"category-wrapper",children:[D.jsxs("figure",{children:[D.jsx("div",{className:"shadow",children:D.jsx("img",{src:"/hammer.webp",alt:"Hammer icon"})}),D.jsx("figcaption",{children:"Håndværker"})]}),D.jsxs("figure",{children:[D.jsx("div",{className:"shadow",children:D.jsx("img",{src:"/spanner.webp",alt:"VVS icon"})}),D.jsx("figcaption",{children:"VVS"})]}),D.jsxs("figure",{children:[D.jsx("div",{className:"shadow",children:D.jsx("img",{src:"/pruning-shears.webp",alt:"Havearbejde icon"})}),D.jsx("figcaption",{children:"Havearbejde"})]}),D.jsxs("figure",{children:[D.jsx("div",{className:"shadow",children:D.jsx("img",{src:"/box.webp",alt:"Flyning icon"})}),D.jsx("figcaption",{children:"Flytning"})]})]})]}),D.jsxs("div",{className:"task-container",children:[D.jsxs("div",{className:"task-text",children:[D.jsx("h2",{children:"Nyligt oprettede opgaver"}),D.jsx(Fr,{to:"/klaropgave",className:"textlink",onClick:()=>t(1),children:D.jsx("span",{children:"Vis alle"})})]}),D.jsxs("div",{className:"task-wrapper",children:[D.jsxs("section",{children:[D.jsx("figure",{children:D.jsx("img",{src:"/brokensink.webp",alt:"Ødelagt Håndvask"})}),D.jsxs("article",{children:[D.jsxs("div",{children:[D.jsx("h3",{children:"Ødelagt håndvask"}),D.jsx("span",{children:"VVS"})]}),D.jsx("div",{children:D.jsx("span",{className:"pris",children:"500KR"})})]})]}),D.jsxs("section",{children:[D.jsx("figure",{children:D.jsx("img",{src:"/fladcykel.webp",alt:"Punkteret cykeldæk"})}),D.jsxs("article",{children:[D.jsxs("div",{children:[D.jsx("h3",{children:"Punkteret cykel"}),D.jsx("span",{children:"Cykel"})]}),D.jsx("div",{children:D.jsx("span",{className:"pris",children:"200KR"})})]})]}),D.jsxs("section",{children:[D.jsx("figure",{children:D.jsx("img",{src:"/brokensink.webp",alt:"Ødelagt Håndvask"})}),D.jsxs("article",{children:[D.jsxs("div",{children:[D.jsx("h3",{children:"Ødelagt håndvask"}),D.jsx("span",{children:"VVS"})]}),D.jsx("div",{children:D.jsx("span",{className:"pris",children:"500KR"})})]})]})]})]})]})}const gO=[{name:"Håndværker",image:"/hammer.webp"},{name:"Havearbejde",image:"/pruning-shears.webp"},{name:"VVS",image:"/spanner.webp"},{name:"Flytning",image:"/box.webp"},{name:"Rengøring",image:"/cleaning.webp"},{name:"Servering",image:"/serving-dish.webp"},{name:"Mekaniker",image:"/gears.webp"},{name:"Cykel",image:"/wheel.webp"},{name:"Maling",image:"/paint-brush.webp"},{name:"Tech",image:"/laptop.webp"},{name:"EL-arbejde",image:"/wire.webp"},{name:"Begivenhed",image:"/event.webp"},{name:"Levering",image:"/laptop.webp"},{name:"Vinduer",image:"/wire.webp"},{name:"Andet",image:"/event.webp"}];function F_(){const[t,e]=R.useState(null),n=r=>{e(r),console.log(r)};return D.jsxs("section",{className:"step1section",children:[D.jsx("h1",{className:"step1h1",children:"Vælg Kategori"}),D.jsx("div",{className:"boks-container",children:gO.map((r,i)=>D.jsxs("div",{children:[D.jsx("div",{className:`boks ${t===i?"active":""}`,onClick:()=>n(i),children:D.jsx("img",{src:r.image,alt:r.name})}),D.jsx("p",{className:"undertekst",children:r.name})]},i))})]})}function vO(){const[t,e]=R.useState(""),n=r=>{e(r.target.value),console.log(r)};return D.jsxs("section",{className:"step2section",children:[D.jsx("h1",{className:"step1h1",children:"Beskriv din opgave"}),D.jsx("h3",{children:"Kort beskrivelse af opgaven"}),D.jsx("div",{className:"beskriv-boks",children:D.jsx("textarea",{className:"tekst",placeholder:"fx. Skift kæde på cykel med udvendige gear",value:t,onChange:n})})]})}function GS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ze(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GS(t))&&(r&&(r+=" "),r+=e);return r}function $(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ye(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function mi(t,e){const n=$(t);return isNaN(e)?ye(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Gm(t,e){const n=+$(t);return ye(t,n+e)}const qS=6048e5,yO=864e5,md=6e4,gd=36e5,_O=1e3;function wO(t,e){return Gm(t,e*gd)}function fp(t,e){return Gm(t,e*md)}function kn(t,e){const n=$(t);if(isNaN(e))return ye(t,NaN);if(!e)return n;const r=n.getDate(),i=ye(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function qm(t,e){const n=e*3;return kn(t,n)}function EO(t,e){return Gm(t,e*1e3)}function vu(t,e){const n=e*7;return mi(t,n)}function ir(t,e){return kn(t,e*12)}function Yi(t){const e=$(t);return e.setHours(0,0,0,0),e}function yu(t){const e=$(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Va(t,e){const n=Yi(t),r=Yi(e),i=+n-yu(n),s=+r-yu(r);return Math.round((i-s)/yO)}function _u(t,e){const n=$(t),r=$(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Oi(t){const e=$(t);return Math.trunc(e.getMonth()/3)+1}function wu(t,e){const n=$(t),r=$(e),i=n.getFullYear()-r.getFullYear(),s=Oi(n)-Oi(r);return i*4+s}function Eu(t,e){const n=$(t),r=$(e);return n.getFullYear()-r.getFullYear()}function QS(t){const e=$(t);return e.setHours(23,59,59,999),e}function kO(t){const e=$(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}let SO={};function ns(){return SO}function CO(t,e){var a,l;const n=ns(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=$(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function XS(t){const e=$(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}const TO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IO=(t,e,n)=>{let r;const i=TO[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Uh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const DO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bO={date:Uh({formats:DO,defaultWidth:"full"}),time:Uh({formats:xO,defaultWidth:"full"}),dateTime:Uh({formats:PO,defaultWidth:"full"})},NO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RO=(t,e,n,r)=>NO[t];function Wo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const OO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UO=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},WO={ordinalNumber:UO,era:Wo({values:OO,defaultWidth:"wide"}),quarter:Wo({values:AO,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Wo({values:MO,defaultWidth:"wide"}),day:Wo({values:LO,defaultWidth:"wide"}),dayPeriod:Wo({values:FO,defaultWidth:"wide",formattingValues:jO,defaultFormattingWidth:"wide"})};function Ho(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?BO(a,f=>f.test(o)):HO(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function HO(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function BO(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function YO(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const VO=/^(\d+)(th|st|nd|rd)?/i,zO=/\d+/i,$O={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},KO={any:[/^b/i,/^(a|c)/i]},GO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qO={any:[/1/i,/2/i,/3/i,/4/i]},QO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nA={ordinalNumber:YO({matchPattern:VO,parsePattern:zO,valueCallback:t=>parseInt(t,10)}),era:Ho({matchPatterns:$O,defaultMatchWidth:"wide",parsePatterns:KO,defaultParseWidth:"any"}),quarter:Ho({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ho({matchPatterns:QO,defaultMatchWidth:"wide",parsePatterns:XO,defaultParseWidth:"any"}),day:Ho({matchPatterns:JO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),dayPeriod:Ho({matchPatterns:eA,defaultMatchWidth:"any",parsePatterns:tA,defaultParseWidth:"any"})},JS={code:"en-US",formatDistance:IO,formatLong:bO,formatRelative:RO,localize:WO,match:nA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vd(t){const e=$(t),n=ye(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function rA(t){const e=$(t);return Va(e,vd(e))+1}function pr(t,e){var a,l,u,d;const n=ns(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=$(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function qs(t){return pr(t,{weekStartsOn:1})}function ZS(t){const e=$(t),n=e.getFullYear(),r=ye(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=qs(r),s=ye(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=qs(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function iA(t){const e=ZS(t),n=ye(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),qs(n)}function Qm(t){const e=$(t),n=+qs(e)-+iA(e);return Math.round(n/qS)+1}function Xm(t,e){var d,f,p,g;const n=$(t),r=n.getFullYear(),i=ns(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=ye(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=pr(o,e),l=ye(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=pr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function sA(t,e){var a,l,u,d;const n=ns(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Xm(t,e),s=ye(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),pr(s,e)}function eC(t,e){const n=$(t),r=+pr(n,e)-+sA(n,e);return Math.round(r/qS)+1}function ve(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Tr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ve(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ve(n+1,2)},d(t,e){return ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ve(t.getHours()%12||12,e.length)},H(t,e){return ve(t.getHours(),e.length)},m(t,e){return ve(t.getMinutes(),e.length)},s(t,e){return ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ve(i,e.length)}},us={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Tr.y(t,e)},Y:function(t,e,n,r){const i=Xm(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ve(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):ve(s,e.length)},R:function(t,e){const n=ZS(t);return ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return ve(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Tr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=eC(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ve(i,e.length)},I:function(t,e,n){const r=Qm(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Tr.d(t,e)},D:function(t,e,n){const r=rA(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ve(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ve(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ve(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=us.noon:r===0?i=us.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=us.evening:r>=12?i=us.afternoon:r>=4?i=us.morning:i=us.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Tr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Tr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Tr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Tr.s(t,e)},S:function(t,e){return Tr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return W_(r);case"XXXX":case"XX":return ki(r);case"XXXXX":case"XXX":default:return ki(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return W_(r);case"xxxx":case"xx":return ki(r);case"xxxxx":case"xxx":default:return ki(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+U_(r,":");case"OOOO":default:return"GMT"+ki(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+U_(r,":");case"zzzz":default:return"GMT"+ki(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ve(r,e.length)},T:function(t,e,n){const r=t.getTime();return ve(r,e.length)}};function U_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+ve(s,2)}function W_(t,e){return t%60===0?(t>0?"-":"+")+ve(Math.abs(t)/60,2):ki(t,e)}function ki(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ve(Math.trunc(r/60),2),s=ve(r%60,2);return n+i+e+s}const H_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tC=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oA=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return H_(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",H_(r,e)).replace("{{time}}",tC(i,e))},ku={p:tC,P:oA},aA=/^D+$/,lA=/^Y+$/,cA=["D","DD","YY","YYYY"];function nC(t){return aA.test(t)}function rC(t){return lA.test(t)}function pp(t,e,n){const r=uA(t,e,n);if(console.warn(r),cA.includes(t))throw new RangeError(r)}function uA(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function sr(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Su(t){if(!sr(t)&&typeof t!="number")return!1;const e=$(t);return!isNaN(Number(e))}const dA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fA=/^'([^]*?)'?$/,pA=/''/g,mA=/[a-zA-Z]/;function B_(t,e,n){var d,f,p,g,_,T,P,E;const r=ns(),i=(n==null?void 0:n.locale)??r.locale??JS,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((T=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((E=(P=r.locale)==null?void 0:P.options)==null?void 0:E.weekStartsOn)??0,a=$(t);if(!Su(a))throw new RangeError("Invalid time value");let l=e.match(hA).map(w=>{const C=w[0];if(C==="p"||C==="P"){const O=ku[C];return O(w,i.formatLong)}return w}).join("").match(dA).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const C=w[0];if(C==="'")return{isToken:!1,value:gA(w)};if(j_[C])return{isToken:!0,value:w};if(C.match(mA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(w=>{if(!w.isToken)return w.value;const C=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rC(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nC(C))&&pp(C,e,String(t));const O=j_[C[0]];return O(a,C,i.localize,u)}).join("")}function gA(t){const e=t.match(fA);return e?e[1].replace(pA,"'"):t}function Y_(t){return $(t).getDate()}function vA(t){return $(t).getDay()}function jn(t){return $(t).getHours()}function Un(t){return $(t).getMinutes()}function wt(t){return $(t).getMonth()}function or(t){return $(t).getSeconds()}function mp(t){return $(t).getTime()}function re(t){return $(t).getFullYear()}function ni(t,e){const n=$(t),r=$(e);return n.getTime()>r.getTime()}function Vi(t,e){const n=$(t),r=$(e);return+n<+r}function yA(t,e){const n=$(t),r=$(e);return+n==+r}function _A(t,e){const n=Yi(t),r=Yi(e);return+n==+r}function wA(t,e){const n=$(t),r=$(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function gp(t){const e=$(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function EA(t,e){const n=gp(t),r=gp(e);return+n==+r}function kA(t,e){const n=$(t),r=$(e);return n.getFullYear()===r.getFullYear()}function za(t,e){const n=+$(t),[r,i]=[+$(e.start),+$(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function V_(t){let e;return t.forEach(function(n){const r=$(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function z_(t){let e;return t.forEach(n=>{const r=$(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function SA(){return Object.assign({},ns())}function CA(t,e){const n=e instanceof Date?ye(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const TA=10;class iC{constructor(){V(this,"subPriority",0)}validate(e,n){return!0}}class IA extends iC{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class DA extends iC{constructor(){super(...arguments);V(this,"priority",TA);V(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:ye(n,CA(n,Date))}}class ge{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new IA(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class xA extends ge{constructor(){super(...arguments);V(this,"priority",140);V(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const We={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},bn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function He(t,e){return t&&{value:e(t.value),rest:t.rest}}function Re(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Nn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*gd+s*md+o*_O),rest:e.slice(n[0].length)}}function sC(t){return Re(We.anyDigitsSigned,t)}function Fe(t,e){switch(t){case 1:return Re(We.singleDigit,e);case 2:return Re(We.twoDigits,e);case 3:return Re(We.threeDigits,e);case 4:return Re(We.fourDigits,e);default:return Re(new RegExp("^\\d{1,"+t+"}"),e)}}function Cu(t,e){switch(t){case 1:return Re(We.singleDigitSigned,e);case 2:return Re(We.twoDigitsSigned,e);case 3:return Re(We.threeDigitsSigned,e);case 4:return Re(We.fourDigitsSigned,e);default:return Re(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Jm(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oC(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function aC(t){return t%400===0||t%4===0&&t%100!==0}class PA extends ge{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return He(Fe(4,n),s);case"yo":return He(i.ordinalNumber(n,{unit:"year"}),s);default:return He(Fe(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=oC(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class bA extends ge{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return He(Fe(4,n),s);case"Yo":return He(i.ordinalNumber(n,{unit:"year"}),s);default:return He(Fe(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Xm(n,s);if(i.isTwoDigitYear){const l=oC(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),pr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),pr(n,s)}}class NA extends ge{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Cu(r==="R"?4:r.length,n)}set(n,r,i){const s=ye(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),qs(s)}}class RA extends ge{constructor(){super(...arguments);V(this,"priority",130);V(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Cu(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class OA extends ge{constructor(){super(...arguments);V(this,"priority",120);V(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Fe(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class AA extends ge{constructor(){super(...arguments);V(this,"priority",120);V(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Fe(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class MA extends ge{constructor(){super(...arguments);V(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);V(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return He(Re(We.month,n),s);case"MM":return He(Fe(2,n),s);case"Mo":return He(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class LA extends ge{constructor(){super(...arguments);V(this,"priority",110);V(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return He(Re(We.month,n),s);case"LL":return He(Fe(2,n),s);case"Lo":return He(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function FA(t,e,n){const r=$(t),i=eC(r,n)-e;return r.setDate(r.getDate()-i*7),r}class jA extends ge{constructor(){super(...arguments);V(this,"priority",100);V(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Re(We.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return pr(FA(n,i,s),s)}}function UA(t,e){const n=$(t),r=Qm(n)-e;return n.setDate(n.getDate()-r*7),n}class WA extends ge{constructor(){super(...arguments);V(this,"priority",100);V(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Re(We.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return qs(UA(n,i))}}const HA=[31,28,31,30,31,30,31,31,30,31,30,31],BA=[31,29,31,30,31,30,31,31,30,31,30,31];class YA extends ge{constructor(){super(...arguments);V(this,"priority",90);V(this,"subPriority",1);V(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Re(We.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Fe(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=aC(i),o=n.getMonth();return s?r>=1&&r<=BA[o]:r>=1&&r<=HA[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class VA extends ge{constructor(){super(...arguments);V(this,"priority",90);V(this,"subpriority",1);V(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Re(We.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Fe(r.length,n)}}validate(n,r){const i=n.getFullYear();return aC(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Zm(t,e,n){var f,p,g,_;const r=ns(),i=(n==null?void 0:n.weekStartsOn)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((_=(g=r.locale)==null?void 0:g.options)==null?void 0:_.weekStartsOn)??0,s=$(t),o=s.getDay(),l=(e%7+7)%7,u=7-i,d=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return mi(s,d)}class zA extends ge{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Zm(n,i,s),n.setHours(0,0,0,0),n}}class $A extends ge{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return He(Fe(r.length,n),o);case"eo":return He(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Zm(n,i,s),n.setHours(0,0,0,0),n}}class KA extends ge{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return He(Fe(r.length,n),o);case"co":return He(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Zm(n,i,s),n.setHours(0,0,0,0),n}}function GA(t){let n=$(t).getDay();return n===0&&(n=7),n}function qA(t,e){const n=$(t),r=GA(n),i=e-r;return mi(n,i)}class QA extends ge{constructor(){super(...arguments);V(this,"priority",90);V(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Fe(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return He(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return He(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return He(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return He(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=qA(n,i),n.setHours(0,0,0,0),n}}class XA extends ge{constructor(){super(...arguments);V(this,"priority",80);V(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Jm(i),0,0,0),n}}class JA extends ge{constructor(){super(...arguments);V(this,"priority",80);V(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Jm(i),0,0,0),n}}class ZA extends ge{constructor(){super(...arguments);V(this,"priority",80);V(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(Jm(i),0,0,0),n}}class eM extends ge{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Re(We.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class tM extends ge{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Re(We.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class nM extends ge{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Re(We.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class rM extends ge{constructor(){super(...arguments);V(this,"priority",70);V(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Re(We.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Fe(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class iM extends ge{constructor(){super(...arguments);V(this,"priority",60);V(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Re(We.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class sM extends ge{constructor(){super(...arguments);V(this,"priority",50);V(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Re(We.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Fe(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class oM extends ge{constructor(){super(...arguments);V(this,"priority",30);V(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return He(Fe(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class aM extends ge{constructor(){super(...arguments);V(this,"priority",10);V(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Nn(bn.basicOptionalMinutes,n);case"XX":return Nn(bn.basic,n);case"XXXX":return Nn(bn.basicOptionalSeconds,n);case"XXXXX":return Nn(bn.extendedOptionalSeconds,n);case"XXX":default:return Nn(bn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ye(n,n.getTime()-yu(n)-i)}}class lM extends ge{constructor(){super(...arguments);V(this,"priority",10);V(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Nn(bn.basicOptionalMinutes,n);case"xx":return Nn(bn.basic,n);case"xxxx":return Nn(bn.basicOptionalSeconds,n);case"xxxxx":return Nn(bn.extendedOptionalSeconds,n);case"xxx":default:return Nn(bn.extended,n)}}set(n,r,i){return r.timestampIsSet?n:ye(n,n.getTime()-yu(n)-i)}}class cM extends ge{constructor(){super(...arguments);V(this,"priority",40);V(this,"incompatibleTokens","*")}parse(n){return sC(n)}set(n,r,i){return[ye(n,i*1e3),{timestampIsSet:!0}]}}class uM extends ge{constructor(){super(...arguments);V(this,"priority",20);V(this,"incompatibleTokens","*")}parse(n){return sC(n)}set(n,r,i){return[ye(n,i),{timestampIsSet:!0}]}}const dM={G:new xA,y:new PA,Y:new bA,R:new NA,u:new RA,Q:new OA,q:new AA,M:new MA,L:new LA,w:new jA,I:new WA,d:new YA,D:new VA,E:new zA,e:new $A,c:new KA,i:new QA,a:new XA,b:new JA,B:new ZA,h:new eM,H:new tM,K:new nM,k:new rM,m:new iM,s:new sM,S:new oM,X:new aM,x:new lM,t:new cM,T:new uM},hM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pM=/^'([^]*?)'?$/,mM=/''/g,gM=/\S/,vM=/[a-zA-Z]/;function Wh(t,e,n,r){var T,P,E,w,C,O,L,j;const i=SA(),s=(r==null?void 0:r.locale)??i.locale??JS,o=(r==null?void 0:r.firstWeekContainsDate)??((P=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:P.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(E=i.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((O=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:O.weekStartsOn)??i.weekStartsOn??((j=(L=i.locale)==null?void 0:L.options)==null?void 0:j.weekStartsOn)??0;if(e==="")return t===""?$(n):ye(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},u=[new DA],d=e.match(fM).map(k=>{const v=k[0];if(v in ku){const S=ku[v];return S(k,s.formatLong)}return k}).join("").match(hM),f=[];for(let k of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&rC(k)&&pp(k,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&nC(k)&&pp(k,e,t);const v=k[0],S=dM[v];if(S){const{incompatibleTokens:I}=S;if(Array.isArray(I)){const N=f.find(x=>I.includes(x.token)||x.token===v);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${k}\` at the same time`)}else if(S.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);f.push({token:v,fullToken:k});const b=S.run(t,k,s.match,l);if(!b)return ye(n,NaN);u.push(b.setter),t=b.rest}else{if(v.match(vM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(k==="''"?k="'":v==="'"&&(k=yM(k)),t.indexOf(k)===0)t=t.slice(k.length);else return ye(n,NaN)}}if(t.length>0&&gM.test(t))return ye(n,NaN);const p=u.map(k=>k.priority).sort((k,v)=>v-k).filter((k,v,S)=>S.indexOf(k)===v).map(k=>u.filter(v=>v.priority===k).sort((v,S)=>S.subPriority-v.subPriority)).map(k=>k[0]);let g=$(n);if(isNaN(g.getTime()))return ye(n,NaN);const _={};for(const k of p){if(!k.validate(g,l))return ye(n,NaN);const v=k.set(g,_,l);Array.isArray(v)?(g=v[0],Object.assign(_,v[1])):g=v}return ye(n,g)}function yM(t){return t.match(pM)[1].replace(mM,"'")}function _M(t,e){const r=SM(t);let i;if(r.date){const l=CM(r.date,2);i=TM(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=IM(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=DM(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(s+o+a)}const rc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,EM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SM(t){const e={},n=t.split(rc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],rc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=rc.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function CM(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function TM(t,e){if(e===null)return new Date(NaN);const n=t.match(wM);if(!n)return new Date(NaN);const r=!!n[4],i=Bo(n[1]),s=Bo(n[2])-1,o=Bo(n[3]),a=Bo(n[4]),l=Bo(n[5])-1;if(r)return RM(e,a,l)?xM(e,a,l):new Date(NaN);{const u=new Date(0);return!bM(e,s,o)||!NM(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function Bo(t){return t?parseInt(t):1}function IM(t){const e=t.match(EM);if(!e)return NaN;const n=Hh(e[1]),r=Hh(e[2]),i=Hh(e[3]);return OM(n,r,i)?n*gd+r*md+i*1e3:NaN}function Hh(t){return t&&parseFloat(t.replace(",","."))||0}function DM(t){if(t==="Z")return 0;const e=t.match(kM);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return AM(r,i)?n*(r*gd+i*md):NaN}function xM(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const PM=[31,null,31,30,31,30,31,31,30,31,30,31];function lC(t){return t%400===0||t%4===0&&t%100!==0}function bM(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(PM[e]||(lC(t)?29:28))}function NM(t,e){return e>=1&&e<=(lC(t)?366:365)}function RM(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function OM(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function AM(t,e){return e>=0&&e<=59}function MM(t){const e=$(t),n=e.getFullYear(),r=e.getMonth(),i=ye(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Wt(t,e){const n=$(t),r=n.getFullYear(),i=n.getDate(),s=ye(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=MM(s);return n.setMonth(e,Math.min(i,o)),n}function LM(t,e){let n=$(t);return isNaN(+n)?ye(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Wt(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Pc(t,e){const n=$(t);return n.setHours(e),n}function bc(t,e){const n=$(t);return n.setMinutes(e),n}function hs(t,e){const n=$(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return Wt(n,n.getMonth()+i*3)}function Nc(t,e){const n=$(t);return n.setSeconds(e),n}function In(t,e){const n=$(t);return isNaN(+n)?ye(t,NaN):(n.setFullYear(e),n)}function cC(t){const e=$(t);return e.setDate(1),e.setHours(0,0,0,0),e}function FM(t,e){return mi(t,-e)}function Qs(t,e){return kn(t,-e)}function uC(t,e){return qm(t,-e)}function $_(t,e){return vu(t,-e)}function Xs(t,e){return ir(t,-e)}function yd(){return typeof window<"u"}function mo(t){return dC(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bn(t){var e;return(e=(dC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dC(t){return yd()?t instanceof Node||t instanceof Yt(t).Node:!1}function Et(t){return yd()?t instanceof Element||t instanceof Yt(t).Element:!1}function Wn(t){return yd()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function K_(t){return!yd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}function fl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=sn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function jM(t){return["table","td","th"].includes(mo(t))}function _d(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function eg(t){const e=tg(),n=Et(t)?sn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function UM(t){let e=ri(t);for(;Wn(e)&&!Js(e);){if(eg(e))return e;if(_d(e))return null;e=ri(e)}return null}function tg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Js(t){return["html","body","#document"].includes(mo(t))}function sn(t){return Yt(t).getComputedStyle(t)}function wd(t){return Et(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ri(t){if(mo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K_(t)&&t.host||Bn(t);return K_(e)?e.host:e}function hC(t){const e=ri(t);return Js(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wn(e)&&fl(e)?e:hC(e)}function $a(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=hC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Yt(i);if(s){const a=vp(o);return e.concat(o,o.visualViewport||[],fl(i)?i:[],a&&n?$a(a):[])}return e.concat(i,$a(i,[],n))}function vp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Zs=Math.min,Ai=Math.max,Tu=Math.round,ic=Math.floor,ii=t=>({x:t,y:t}),WM={left:"right",right:"left",bottom:"top",top:"bottom"},HM={start:"end",end:"start"};function BM(t,e,n){return Ai(t,Zs(e,n))}function Ed(t,e){return typeof t=="function"?t(e):t}function eo(t){return t.split("-")[0]}function pl(t){return t.split("-")[1]}function YM(t){return t==="x"?"y":"x"}function ng(t){return t==="y"?"height":"width"}function Ka(t){return["top","bottom"].includes(eo(t))?"y":"x"}function rg(t){return YM(Ka(t))}function VM(t,e,n){n===void 0&&(n=!1);const r=pl(t),i=rg(t),s=ng(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Iu(o)),[o,Iu(o)]}function zM(t){const e=Iu(t);return[yp(t),e,yp(e)]}function yp(t){return t.replace(/start|end/g,e=>HM[e])}function $M(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function KM(t,e,n,r){const i=pl(t);let s=$M(eo(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(yp)))),s}function Iu(t){return t.replace(/left|right|bottom|top/g,e=>WM[e])}function GM(t){return{top:0,right:0,bottom:0,left:0,...t}}function fC(t){return typeof t!="number"?GM(t):{top:t,right:t,bottom:t,left:t}}function Du(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function G_(t,e,n){let{reference:r,floating:i}=t;const s=Ka(e),o=rg(e),a=ng(o),l=eo(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(pl(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const qM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=G_(u,r,l),p=r,g={},_=0;for(let T=0;T<a.length;T++){const{name:P,fn:E}=a[T],{x:w,y:C,data:O,reset:L}=await E({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=C??f,g={...g,[P]:{...g[P],...O}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:d,y:f}=G_(u,p,l)),T=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function QM(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Ed(e,t),_=fC(g),P=a[p?f==="floating"?"reference":"floating":f],E=Du(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(P)))==null||n?P:P.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),O=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},L=Du(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:l}):w);return{top:(E.top-L.top+_.top)/O.y,bottom:(L.bottom-E.bottom+_.bottom)/O.y,left:(E.left-L.left+_.left)/O.x,right:(L.right-E.right+_.right)/O.x}}const XM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ed(t,e)||{};if(u==null)return{};const f=fC(d),p={x:n,y:r},g=rg(i),_=ng(g),T=await o.getDimensions(u),P=g==="y",E=P?"top":"left",w=P?"bottom":"right",C=P?"clientHeight":"clientWidth",O=s.reference[_]+s.reference[g]-p[g]-s.floating[_],L=p[g]-s.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=j?j[C]:0;(!k||!await(o.isElement==null?void 0:o.isElement(j)))&&(k=a.floating[C]||s.floating[_]);const v=O/2-L/2,S=k/2-T[_]/2-1,I=Zs(f[E],S),b=Zs(f[w],S),N=I,x=k-T[_]-b,ee=k/2-T[_]/2+v,ne=BM(N,ee,x),q=!l.arrow&&pl(i)!=null&&ee!==ne&&s.reference[_]/2-(ee<N?I:b)-T[_]/2<0,X=q?ee<N?ee-N:ee-x:0;return{[g]:p[g]+X,data:{[g]:ne,centerOffset:ee-ne-X,...q&&{alignmentOffset:X}},reset:q}}}),JM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:T=!0,...P}=Ed(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=eo(i),w=Ka(a),C=eo(a)===a,O=await(l.isRTL==null?void 0:l.isRTL(u.floating)),L=p||(C||!T?[Iu(a)]:zM(a)),j=_!=="none";!p&&j&&L.push(...KM(a,T,_,O));const k=[a,...L],v=await QM(e,P),S=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&S.push(v[E]),f){const ee=VM(i,o,O);S.push(v[ee[0]],v[ee[1]])}if(I=[...I,{placement:i,overflows:S}],!S.every(ee=>ee<=0)){var b,N;const ee=(((b=s.flip)==null?void 0:b.index)||0)+1,ne=k[ee];if(ne)return{data:{index:ee,overflows:I},reset:{placement:ne}};let q=(N=I.filter(X=>X.overflows[0]<=0).sort((X,U)=>X.overflows[1]-U.overflows[1])[0])==null?void 0:N.placement;if(!q)switch(g){case"bestFit":{var x;const X=(x=I.filter(U=>{if(j){const z=Ka(U.placement);return z===w||z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(z=>z>0).reduce((z,G)=>z+G,0)]).sort((U,z)=>U[1]-z[1])[0])==null?void 0:x[0];X&&(q=X);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};async function ZM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=eo(n),a=pl(n),l=Ka(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Ed(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const eL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await ZM(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function pC(t){const e=sn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Tu(n)!==s||Tu(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ig(t){return Et(t)?t:t.contextElement}function Ls(t){const e=ig(t);if(!Wn(e))return ii(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=pC(e);let o=(s?Tu(n.width):n.width)/r,a=(s?Tu(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tL=ii(0);function mC(t){const e=Yt(t);return!tg()||!e.visualViewport?tL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ig(t);let o=ii(1);e&&(r?Et(r)&&(o=Ls(r)):o=Ls(t));const a=nL(s,n,r)?mC(s):ii(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=Yt(s),g=r&&Et(r)?Yt(r):r;let _=p,T=vp(_);for(;T&&r&&g!==_;){const P=Ls(T),E=T.getBoundingClientRect(),w=sn(T),C=E.left+(T.clientLeft+parseFloat(w.paddingLeft))*P.x,O=E.top+(T.clientTop+parseFloat(w.paddingTop))*P.y;l*=P.x,u*=P.y,d*=P.x,f*=P.y,l+=C,u+=O,_=Yt(T),T=vp(_)}}return Du({width:d,height:f,x:l,y:u})}function rL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Bn(r),a=e?_d(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ii(1);const d=ii(0),f=Wn(r);if((f||!f&&!s)&&((mo(r)!=="body"||fl(o))&&(l=wd(r)),Wn(r))){const p=zi(r);u=Ls(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function iL(t){return Array.from(t.getClientRects())}function _p(t,e){const n=wd(t).scrollLeft;return e?e.left+n:zi(Bn(t)).left+n}function sL(t){const e=Bn(t),n=wd(t),r=t.ownerDocument.body,i=Ai(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ai(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_p(t);const a=-n.scrollTop;return sn(r).direction==="rtl"&&(o+=Ai(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function oL(t,e){const n=Yt(t),r=Bn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=tg();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function aL(t,e){const n=zi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Wn(t)?Ls(t):ii(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function q_(t,e,n){let r;if(e==="viewport")r=oL(t,n);else if(e==="document")r=sL(Bn(t));else if(Et(e))r=aL(e,n);else{const i=mC(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Du(r)}function gC(t,e){const n=ri(t);return n===e||!Et(n)||Js(n)?!1:sn(n).position==="fixed"||gC(n,e)}function lL(t,e){const n=e.get(t);if(n)return n;let r=$a(t,[],!1).filter(a=>Et(a)&&mo(a)!=="body"),i=null;const s=sn(t).position==="fixed";let o=s?ri(t):t;for(;Et(o)&&!Js(o);){const a=sn(o),l=eg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fl(o)&&!l&&gC(t,o))?r=r.filter(d=>d!==o):i=a,o=ri(o)}return e.set(t,r),r}function cL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?_d(e)?[]:lL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=q_(e,d,i);return u.top=Ai(f.top,u.top),u.right=Zs(f.right,u.right),u.bottom=Zs(f.bottom,u.bottom),u.left=Ai(f.left,u.left),u},q_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uL(t){const{width:e,height:n}=pC(t);return{width:e,height:n}}function dL(t,e,n){const r=Wn(e),i=Bn(e),s=n==="fixed",o=zi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ii(0);if(r||!r&&!s)if((mo(e)!=="body"||fl(i))&&(a=wd(e)),r){const g=zi(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=_p(i));let u=0,d=0;if(i&&!r&&!s){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-_p(i,g)}const f=o.left+a.scrollLeft-l.x-u,p=o.top+a.scrollTop-l.y-d;return{x:f,y:p,width:o.width,height:o.height}}function Bh(t){return sn(t).position==="static"}function Q_(t,e){if(!Wn(t)||sn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bn(t)===n&&(n=n.ownerDocument.body),n}function vC(t,e){const n=Yt(t);if(_d(t))return n;if(!Wn(t)){let i=ri(t);for(;i&&!Js(i);){if(Et(i)&&!Bh(i))return i;i=ri(i)}return n}let r=Q_(t,e);for(;r&&jM(r)&&Bh(r);)r=Q_(r,e);return r&&Js(r)&&Bh(r)&&!eg(r)?n:r||UM(t)||n}const hL=async function(t){const e=this.getOffsetParent||vC,n=this.getDimensions,r=await n(t.floating);return{reference:dL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fL(t){return sn(t).direction==="rtl"}const pL={convertOffsetParentRelativeRectToViewportRelativeRect:rL,getDocumentElement:Bn,getClippingRect:cL,getOffsetParent:vC,getElementRects:hL,getClientRects:iL,getDimensions:uL,getScale:Ls,isElement:Et,isRTL:fL};function mL(t,e){let n=null,r;const i=Bn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:p}=t.getBoundingClientRect();if(a||e(),!f||!p)return;const g=ic(d),_=ic(i.clientWidth-(u+f)),T=ic(i.clientHeight-(d+p)),P=ic(u),w={rootMargin:-g+"px "+-_+"px "+-T+"px "+-P+"px",threshold:Ai(0,Zs(1,l))||1};let C=!0;function O(L){const j=L[0].intersectionRatio;if(j!==l){if(!C)return o();j?o(!1,j):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(O,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,w)}n.observe(t)}return o(!0),s}function gL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ig(t),d=i||s?[...u?$a(u):[],...$a(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&a?mL(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(E=>{let[w]=E;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let _,T=l?zi(t):null;l&&P();function P(){const E=zi(t);T&&(E.x!==T.x||E.y!==T.y||E.width!==T.width||E.height!==T.height)&&n(),T=E,_=requestAnimationFrame(P)}return n(),()=>{var E;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(_)}}const vL=eL,yL=JM,X_=XM,_L=(t,e,n)=>{const r=new Map,i={platform:pL,...n},s={...i.platform,_c:r};return qM(t,e,{...i,platform:s})};var Rc=typeof document<"u"?R.useLayoutEffect:R.useEffect;function xu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!xu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!xu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function yC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function J_(t,e){const n=yC(t);return Math.round(e*n)/n}function Yh(t){const e=R.useRef(t);return Rc(()=>{e.current=t}),e}function wL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=R.useState(r);xu(p,r)||g(r);const[_,T]=R.useState(null),[P,E]=R.useState(null),w=R.useCallback(U=>{U!==j.current&&(j.current=U,T(U))},[]),C=R.useCallback(U=>{U!==k.current&&(k.current=U,E(U))},[]),O=s||_,L=o||P,j=R.useRef(null),k=R.useRef(null),v=R.useRef(d),S=l!=null,I=Yh(l),b=Yh(i),N=Yh(u),x=R.useCallback(()=>{if(!j.current||!k.current)return;const U={placement:e,strategy:n,middleware:p};b.current&&(U.platform=b.current),_L(j.current,k.current,U).then(z=>{const G={...z,isPositioned:N.current!==!1};ee.current&&!xu(v.current,G)&&(v.current=G,xm.flushSync(()=>{f(G)}))})},[p,e,n,b,N]);Rc(()=>{u===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const ee=R.useRef(!1);Rc(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Rc(()=>{if(O&&(j.current=O),L&&(k.current=L),O&&L){if(I.current)return I.current(O,L,x);x()}},[O,L,x,I,S]);const ne=R.useMemo(()=>({reference:j,floating:k,setReference:w,setFloating:C}),[w,C]),q=R.useMemo(()=>({reference:O,floating:L}),[O,L]),X=R.useMemo(()=>{const U={position:n,left:0,top:0};if(!q.floating)return U;const z=J_(q.floating,d.x),G=J_(q.floating,d.y);return a?{...U,transform:"translate("+z+"px, "+G+"px)",...yC(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:G}},[n,a,q.floating,d.x,d.y]);return R.useMemo(()=>({...d,update:x,refs:ne,elements:q,floatingStyles:X}),[d,x,ne,q,X])}const EL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?X_({element:r.current,padding:i}).fn(n):{}:r?X_({element:r,padding:i}).fn(n):{}}}},kL=(t,e)=>({...vL(t),options:[t,e]}),SL=(t,e)=>({...yL(t),options:[t,e]}),CL=(t,e)=>({...EL(t),options:[t,e]}),_C={...O0},TL=_C.useInsertionEffect,IL=TL||(t=>t());function DL(t){const e=R.useRef(()=>{});return IL(()=>{e.current=t}),R.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var Pu=typeof document<"u"?R.useLayoutEffect:R.useEffect;function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}let Z_=!1,xL=0;const ew=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xL++;function PL(){const[t,e]=R.useState(()=>Z_?ew():void 0);return Pu(()=>{t==null&&e(ew())},[]),R.useEffect(()=>{Z_=!0},[]),t}const bL=_C.useId,wC=bL||PL,NL=R.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:p,d:g,style:{transform:_,...T}={},...P}=e,E=wC(),[w,C]=R.useState(!1);if(Pu(()=>{if(!i)return;sn(i).direction==="rtl"&&C(!0)},[i]),!i)return null;const[O,L]=r.split("-"),j=O==="top"||O==="bottom";let k=f;(j&&o!=null&&o.x||!j&&o!=null&&o.y)&&(k=null);const v=d*2,S=v/2,I=a/2*(u/-8+1),b=l/2*u/4,N=!!g,x=k&&L==="end"?"bottom":"top";let ee=k&&L==="end"?"right":"left";k&&w&&(ee=L==="end"?"left":"right");const ne=(s==null?void 0:s.x)!=null?k||s.x:"",q=(s==null?void 0:s.y)!=null?k||s.y:"",X=g||"M0,0"+(" H"+a)+(" L"+(a-I)+","+(l-b))+(" Q"+a/2+","+l+" "+I+","+(l-b))+" Z",U={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[O];return R.createElement("svg",wp({},P,{"aria-hidden":!0,ref:n,width:N?a:a+v,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[ee]:ne,[x]:q,[O]:j||N?"100%":"calc(100% - "+v/2+"px)",transform:[U,_].filter(z=>!!z).join(" "),...T}}),v>0&&R.createElement("path",{clipPath:"url(#"+E+")",fill:"none",stroke:p,strokeWidth:v+(g?0:1),d:X}),R.createElement("path",{stroke:v&&!g?P.fill:"none",d:X}),R.createElement("clipPath",{id:E},R.createElement("rect",{x:-S,y:S*(N?-1:1),width:a+v,height:a})))});function RL(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const OL=R.createContext(null),AL=R.createContext(null),ML=()=>{var t;return((t=R.useContext(OL))==null?void 0:t.id)||null},LL=()=>R.useContext(AL);function FL(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=wC(),s=R.useRef({}),[o]=R.useState(()=>RL()),a=ML()!=null,[l,u]=R.useState(r.reference),d=DL((g,_,T)=>{s.current.openEvent=g?_:void 0,o.emit("openchange",{open:g,event:_,reason:T,nested:a}),n==null||n(g,_,T)}),f=R.useMemo(()=>({setPositionReference:u}),[]),p=R.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return R.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:p,events:o,floatingId:i,refs:f}),[e,d,p,o,i,f])}function jL(t){t===void 0&&(t={});const{nodeId:e}=t,n=FL({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=R.useState(null),[a,l]=R.useState(null),d=(i==null?void 0:i.reference)||s,f=R.useRef(null),p=LL();Pu(()=>{d&&(f.current=d)},[d]);const g=wL({...t,elements:{...i,...a&&{reference:a}}}),_=R.useCallback(C=>{const O=Et(C)?{getBoundingClientRect:()=>C.getBoundingClientRect(),contextElement:C}:C;l(O),g.refs.setReference(O)},[g.refs]),T=R.useCallback(C=>{(Et(C)||C===null)&&(f.current=C,o(C)),(Et(g.refs.reference.current)||g.refs.reference.current===null||C!==null&&!Et(C))&&g.refs.setReference(C)},[g.refs]),P=R.useMemo(()=>({...g.refs,setReference:T,setPositionReference:_,domReference:f}),[g.refs,T,_]),E=R.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),w=R.useMemo(()=>({...g,...r,refs:P,elements:E,nodeId:e}),[g,P,E,e,r]);return Pu(()=>{r.dataRef.current.floatingContext=w;const C=p==null?void 0:p.nodesRef.current.find(O=>O.id===e);C&&(C.context=w)}),R.useMemo(()=>({...g,context:w,refs:P,elements:E}),[g,P,E,w])}/*!
  react-datepicker v7.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Ep=function(e,n){return Ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},Ep(e,n)};function nt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ep(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var de=function(){return de=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},de.apply(this,arguments)};function On(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var UL=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return F.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},WL=function(t,e){var n=R.useRef(null),r=R.useRef(t);r.current=t;var i=R.useCallback(function(s){var o;n.current&&!n.current.contains(s.target)&&(e&&s.target instanceof HTMLElement&&s.target.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return R.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},kd=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=WL(n,o);return F.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Y;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Y||(Y={}));function EC(){var t=typeof window<"u"?window:globalThis;return t}var ml=12,HL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function _e(t){if(t==null)return new Date;var e=typeof t=="string"?_M(t):$(t);return qn(e)?e:new Date}function Vh(t,e,n,r,i){var s,o=null,a=Mi(n)||Mi(ha()),l=!0;if(Array.isArray(e))return e.forEach(function(d){var f=Wh(t,d,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=qn(f,i)&&t===Pe(f,d,n)),qn(f,i)&&l&&(o=f)}),o;if(o=Wh(t,e,new Date,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=qn(o)&&t===Pe(o,e,n);else if(!qn(o)){var u=((s=e.match(HL))!==null&&s!==void 0?s:[]).map(function(d){var f=d[0];if(f==="p"||f==="P"){var p=ku[f];return a?p(d,a.formatLong):f}return d}).join("");t.length>0&&(o=Wh(t,u.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),qn(o)||(o=new Date(t))}return qn(o)&&l?o:null}function qn(t,e){return Su(t)&&!Vi(t,e??new Date("1/1/1800"))}function Pe(t,e,n){if(n==="en")return B_(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Mi(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&ha()&&Mi(ha())&&(r=Mi(ha())),B_(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Qt(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Pe(t,i,r)||""}function BL(t,e,n){if(!t)return"";var r=Qt(t,n),i=e?Qt(e,n):"";return"".concat(r," - ").concat(i)}function YL(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?Qt(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Qt(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function zh(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return Pc(bc(Nc(t,a),s),r)}function VL(t){return Qm(t)}function zL(t,e){return Pe(t,"ddd",e)}function Oc(t){return Yi(t)}function Qr(t,e,n){var r=Mi(e||ha());return pr(t,{locale:r,weekStartsOn:n})}function Xr(t){return cC(t)}function ea(t){return vd(t)}function tw(t){return gp(t)}function nw(){return Yi(_e())}function rw(t){return QS(t)}function $L(t){return CO(t)}function Dn(t,e){return t&&e?kA(t,e):!t&&!e}function yt(t,e){return t&&e?wA(t,e):!t&&!e}function bu(t,e){return t&&e?EA(t,e):!t&&!e}function ue(t,e){return t&&e?_A(t,e):!t&&!e}function Di(t,e){return t&&e?yA(t,e):!t&&!e}function ta(t,e,n){var r,i=Yi(e),s=QS(n);try{r=za(t,{start:i,end:s})}catch{r=!1}return r}function ha(){var t=EC();return t.__localeId__}function Mi(t){if(typeof t=="string"){var e=EC();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function KL(t,e,n){return e(Pe(t,"EEEE",n))}function GL(t,e){return Pe(t,"EEEEEE",e)}function qL(t,e){return Pe(t,"EEE",e)}function sg(t,e){return Pe(Wt(_e(),t),"LLLL",e)}function kC(t,e){return Pe(Wt(_e(),t),"LLL",e)}function QL(t,e){return Pe(hs(_e(),t),"QQQ",e)}function xn(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return gl(t,{minDate:r,maxDate:i})||s&&s.some(function(d){return d instanceof Date?ue(t,d):ue(t,d.date)})||o&&o.some(function(d){var f=d.start,p=d.end;return za(t,{start:f,end:p})})||a&&!a.some(function(d){return ue(t,d)})||l&&!l.some(function(d){var f=d.start,p=d.end;return za(t,{start:f,end:p})})||u&&!u(_e(t))||!1}function og(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return za(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?ue(t,s):ue(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function SC(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return gl(t,{minDate:r?cC(r):void 0,maxDate:i?kO(i):void 0})||(s==null?void 0:s.some(function(l){return yt(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return yt(t,l)})||a&&!a(_e(t))||!1}function sc(t,e,n,r){var i=re(t),s=wt(t),o=re(e),a=wt(e),l=re(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function XL(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return gl(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return yt(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return yt(a,t)})||!1}function oc(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return gl(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return bu(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return bu(t,l)})||a&&!a(_e(t))||!1}function ac(t,e,n){if(!e||!n||!Su(e)||!Su(n))return!1;var r=re(e),i=re(n);return r<=t&&i>=t}function Ac(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return gl(l,{minDate:r?vd(r):void 0,maxDate:i?XS(i):void 0})||(s==null?void 0:s.some(function(u){return Dn(l,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return Dn(l,u)})||a&&!a(_e(l))||!1}function lc(t,e,n,r){var i=re(t),s=Oi(t),o=re(e),a=Oi(e),l=re(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function gl(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&Va(t,i)<0||s&&Va(t,s)>0)!==null&&n!==void 0?n:!1}function iw(t,e){return e.some(function(n){return jn(n)===jn(t)&&Un(n)===Un(t)&&or(n)===or(t)})}function sw(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&iw(t,r)||i&&!iw(t,i)||s&&!s(t)||!1}function ow(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=_e();i=Pc(i,jn(t)),i=bc(i,Un(t)),i=Nc(i,or(t));var s=_e();s=Pc(s,jn(n)),s=bc(s,Un(n)),s=Nc(s,or(n));var o=_e();o=Pc(o,jn(r)),o=bc(o,Un(r)),o=Nc(o,or(r));var a;try{a=!za(i,{start:s,end:o})}catch{a=!1}return a}function aw(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Qs(t,1);return r&&_u(r,s)>0||i&&i.every(function(o){return _u(o,s)>0})||!1}function lw(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=kn(t,1);return r&&_u(s,r)>0||i&&i.every(function(o){return _u(s,o)>0})||!1}function JL(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=vd(t),o=uC(s,1);return r&&wu(r,o)>0||i&&i.every(function(a){return wu(a,o)>0})||!1}function ZL(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=XS(t),o=qm(s,1);return r&&wu(o,r)>0||i&&i.every(function(a){return wu(o,a)>0})||!1}function cw(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Xs(t,1);return r&&Eu(r,s)>0||i&&i.every(function(o){return Eu(o,s)>0})||!1}function e2(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?ml:i,o=ea(Xs(t,s)),a=jr(o,s).endPeriod,l=r&&re(r);return l&&l>a||!1}function uw(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=ir(t,1);return r&&Eu(s,r)>0||i&&i.every(function(o){return Eu(s,o)>0})||!1}function t2(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?ml:i,o=ir(t,s),a=jr(o,s).startPeriod,l=r&&re(r);return l&&l<a||!1}function CC(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Va(i,e)>=0});return z_(r)}else return n?z_(n):e}function TC(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Va(i,e)<=0});return V_(r)}else return n?V_(n):e}function dw(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(sr(o)){var a=Pe(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var u=Object.keys(o),d=(n=u[0])!==null&&n!==void 0?n:"",f=o[d];if(typeof d=="string"&&Array.isArray(f))for(var p=0,g=f.length;p<g;p++){var _=f[p];if(_){var a=Pe(_,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(d)||(l.push(d),r.set(a,l))}}}}return r}function n2(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function r2(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(sr(i)){var o=Pe(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&n2(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?On(On([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function i2(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,u=i[a];u&&(l=wO(l,jn(u)),l=fp(l,Un(u)),l=EO(l,or(u)));var d=fp(t,(n+1)*r);ni(l,e)&&Vi(l,d)&&u!=null&&o.push(u)}return o}function hw(t){return t<10?"0".concat(t):"".concat(t)}function jr(t,e){e===void 0&&(e=ml);var n=Math.ceil(re(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function s2(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function fw(t){var e=t.getSeconds(),n=t.getMilliseconds();return $(t.getTime()-e*1e3-n)}function o2(t,e){return fw(t).getTime()===fw(e).getTime()}function pw(t){if(!sr(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function mw(t,e){if(!sr(t)||!sr(e))throw new Error("Invalid date received");var n=pw(t),r=pw(e);return Vi(n,r)}function IC(t){return t.key===Y.Space}var a2=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=F.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),u=l?a:new Date;if(i!=null&&i.includes(":")){var d=i.split(":"),f=d[0],p=d[1];u.setHours(Number(f)),u.setMinutes(Number(p))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,u)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?R.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):F.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return F.createElement("div",{className:"react-datepicker__input-time-container"},F.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),F.createElement("div",{className:"react-datepicker-time__input-container"},F.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(R.Component),l2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=R.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return ue(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),xn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return og(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ue(n.props.day,Qr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&ue(r,Qr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=Pe(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=Pe(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ta(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,d=i.startDate,f=i.endDate,p=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!p||!u&&n.isDisabled()?!1:o&&f&&(Vi(p,f)||Di(p,f))?ta(s,p,f):a&&d&&(ni(p,d)||Di(p,d))||l&&d&&!f&&(ni(p,d)||Di(p,d))?ta(s,d,p):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?ue(s,l):ue(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?ue(s,u):ue(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ue(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:ue(o,i)},n.isWeekend=function(){var r=vA(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===wt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(wt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(_e())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return Ze("react-datepicker__day",i,"react-datepicker__day--"+zL(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,u=n.isDisabled()||n.isExcluded()?l:o;return"".concat(u," ").concat(Pe(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=Pe(i,"MM.dd.yyyy"),u=[];return o.has(l)&&u.push.apply(u,o.get(l).holidayNames),n.isExcluded()&&u.push(a==null?void 0:a.filter(function(d){return d instanceof Date?ue(d,i):ue(d==null?void 0:d.date,i)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&ue(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Y_(n.props.day),n.props.day):Y_(n.props.day)},n.render=function(){return F.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&F.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(R.Component),c2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=R.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ue(n.props.date,n.props.selected)&&ue(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ue(n.props.date,n.props.selected)&&ue(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&ue(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,s=i===void 0?e.defaultProps.ariaLabelPrefix:i,o=n.onClick,a={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&ue(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{ref:this.weekNumberEl,className:Ze(a),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(R.Component),u2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return xn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,u=new Date(r),d=0;d<7;d++){var f=new Date(r);f.setDate(f.getDate()+d);var p=!n.isDisabled(f);if(p){u=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,i,s),n.props.showWeekPicker&&n.handleDayClick(u,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):VL(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(F.createElement(c2,de({key:"W"},e.defaultProps,n.props,{weekNumber:s,date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=mi(r,a);return F.createElement(l2,de({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Qr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ue(n.startOfWeek(),n.props.selected)&&ue(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ue(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return F.createElement("div",{className:Ze(n)},this.renderDays())},e}(R.Component),Yo,d2=6,Fs={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},$h=(Yo={},Yo[Fs.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Yo[Fs.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Yo[Fs.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Yo),cc=1;function gw(t,e){return t?Fs.FOUR_COLUMNS:e?Fs.TWO_COLUMNS:Fs.THREE_COLUMNS}var h2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=On([],Array(12),!0).map(function(){return R.createRef()}),n.QUARTER_REFS=On([],Array(4),!0).map(function(){return R.createRef()}),n.isDisabled=function(r){return xn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return og(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:yt(Wt(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:bu(hs(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:yt(Wt(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:bu(hs(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||u)||!p?!1:a&&f?sc(p,f,r,o):l&&d||u&&d&&!f?sc(d,p,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,u=Wt(o,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?yt(u,d):yt(u,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,u=s.selectsRange,d=Wt(o,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||u?yt(d,f):yt(d,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,p=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||u)||!p?!1:a&&f?lc(p,f,r,o):l&&d||u&&d&&!f?lc(d,p,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=mi(r,6);return yt(r,i)||yt(s,i)},n.isCurrentMonth=function(r,i){return re(r)===re(_e())&&i===wt(_e())},n.isCurrentQuarter=function(r,i){return re(r)===re(_e())&&i===Oi(_e())},n.isSelectedMonth=function(r,i,s){return wt(s)===i&&re(r)===re(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return Oi(r)===i&&re(r)===re(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=Qr(Xr(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(_){return n.props.showWeekPicker?Qr(_,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(_){return n.props.showWeekPicker?Qr(_,n.props.locale,n.props.calendarStartDay):n.props.selected},d=n.props.selected?u(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(F.createElement(u2,de({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:wt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=vu(a,1);var p=i&&s>=d2,g=!i&&!n.isWeekInMonth(a);if(p||g)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(Xr(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(Xr(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,u=a.preSelection,d=a.setPreSelection,f=a.minDate,p=a.maxDate,g=a.showFourColumnMonthYearPicker,_=a.showTwoColumnMonthYearPicker;if(u){var T=gw(g,_),P=n.getVerticalOffset(T),E=(o=$h[T])===null||o===void 0?void 0:o.grid,w=function(k,v,S){var I,b,N=v,x=S;switch(k){case Y.ArrowRight:N=kn(v,cc),x=S===11?0:S+cc;break;case Y.ArrowLeft:N=Qs(v,cc),x=S===0?11:S-cc;break;case Y.ArrowUp:N=Qs(v,P),x=!((I=E==null?void 0:E[0])===null||I===void 0)&&I.includes(S)?S+12-P:S-P;break;case Y.ArrowDown:N=kn(v,P),x=!((b=E==null?void 0:E[E.length-1])===null||b===void 0)&&b.includes(S)?S-12+P:S+P;break}return{newCalculatedDate:N,newCalculatedMonth:x}},C=function(k,v,S){for(var I=40,b=k,N=!1,x=0,ee=w(b,v,S),ne=ee.newCalculatedDate,q=ee.newCalculatedMonth;!N;){if(x>=I){ne=v,q=S;break}if(f&&ne<f){b=Y.ArrowRight;var X=w(b,ne,q);ne=X.newCalculatedDate,q=X.newCalculatedMonth}if(p&&ne>p){b=Y.ArrowLeft;var X=w(b,ne,q);ne=X.newCalculatedDate,q=X.newCalculatedMonth}if(XL(ne,n.props)){var X=w(b,ne,q);ne=X.newCalculatedDate,q=X.newCalculatedMonth}else N=!0;x++}return{newCalculatedDate:ne,newCalculatedMonth:q}};if(i===Y.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),d==null||d(l));return}var O=C(i,u,s),L=O.newCalculatedDate,j=O.newCalculatedMonth;switch(i){case Y.ArrowRight:case Y.ArrowLeft:case Y.ArrowUp:case Y.ArrowDown:n.handleMonthNavigation(j,L);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=$h[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Y.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=hs(n.props.day,i);oc(s,n.props)||n.handleDayClick(tw(s),r)},n.onQuarterMouseEnter=function(r){var i=hs(n.props.day,r);oc(i,n.props)||n.handleDayMouseEnter(tw(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Y.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Y.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,qm(n.props.preSelection,1));break;case Y.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,uC(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=Wt(o,r);return{isDisabled:(i=(a||l||u||d)&&SC(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,u=i.monthClassName,d=u?u(Wt(s,r)):void 0,f=n.getSelection();return Ze("react-datepicker__month-text","react-datepicker__month-".concat(r),d,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(s,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?sc(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=wt(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Oi(n.props.preSelection),s=oc(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,u=i.day,d=i.locale,f=Wt(u,r),p=n.isDisabled(f)||n.isExcluded(f)?l:o;return"".concat(p," ").concat(Pe(f,"MMMM yyyy",d))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,u=i.minDate,d=i.maxDate,f=i.excludeDates,p=i.includeDates,g=i.filterDate,_=i.preSelection,T=i.disabledKeyboardNavigation,P=(u||d||f||p||g)&&oc(hs(s,r),n.props);return Ze("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":P,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!T&&_&&n.isSelectedQuarter(s,r,_)&&!P,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?lc(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,u=kC(r,a),d=sg(r,a);return o?o(r,u,d,l):s?d:u},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=QL(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,u=(r=$h[gw(o,s)])===null||r===void 0?void 0:r.grid;return u==null?void 0:u.map(function(d,f){return F.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(p,g){return F.createElement("div",{ref:n.MONTH_REFS[p],key:g,onClick:function(_){n.onMonthClick(_,p)},onKeyDown:function(_){IC(_)&&(_.preventDefault(),_.key=Y.Enter),n.onMonthKeyDown(_,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:Number(n.getTabIndex(p)),className:n.getMonthClassNames(p),"aria-disabled":n.isMonthDisabled(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(a,p)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,p,l):void 0},n.getMonthContent(p))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return F.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return F.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,a)},onKeyDown:function(u){n.onQuarterKeyDown(u,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return Ze("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return F.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Pe(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(R.Component),f2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return F.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?F.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return F.createElement(kd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),p2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return F.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return F.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return F.createElement(f2,de({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return kC(s,n.props.locale)}:function(s){return sg(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return F.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(R.Component);function m2(t,e){for(var n=[],r=Xr(t),i=Xr(e);!ni(r,i);)n.push(_e(r)),r=kn(r,1);return n}var g2=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=mp(i),o=Dn(r.props.date,i)&&yt(r.props.date,i);return F.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?F.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Pe(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:m2(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=Ze({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return F.createElement(kd,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),v2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Xr(n.props.minDate),i=Xr(n.props.maxDate),s=[];!ni(r,i);){var o=mp(r);s.push(F.createElement("option",{key:o,value:o},Pe(r,n.props.dateFormat,n.props.locale))),r=kn(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return F.createElement("select",{value:mp(Xr(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Pe(n.props.date,n.props.dateFormat,n.props.locale);return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},F.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return F.createElement(g2,de({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=_e(r);Dn(n.props.date,i)&&yt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(R.Component),y2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&ow(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&sw(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&o2(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&ow(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&sw(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(jn(r)*3600+Un(r)*60+or(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Y.Space&&(r.preventDefault(),r.key=Y.Enter),(r.key===Y.ArrowUp||r.key===Y.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Y.ArrowDown||r.key===Y.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Y.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=n.props.format?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||_e(),l=Oc(a),u=n.props.injectTimes&&n.props.injectTimes.sort(function(P,E){return P.getTime()-E.getTime()}),d=60*s2(a),f=d/o,p=0;p<f;p++){var g=fp(l,p*o);if(i.push(g),u){var _=i2(l,g,p,o,u);i=i.concat(_)}}var T=i.reduce(function(P,E){return E.getTime()<=a.getTime()?E:P},i[0]);return i.map(function(P){return F.createElement("li",{key:P.valueOf(),onClick:n.handleClick.bind(n,P),className:n.liClasses(P),ref:function(E){P===T&&(n.centerLi=E)},onKeyDown:function(E){n.handleOnKeyDown(E,P)},tabIndex:P===T?0:-1,role:"option","aria-selected":n.isSelectedTime(P)?"true":void 0,"aria-disabled":n.isDisabledTime(P)?"true":void 0},Pe(P,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?F.createElement(F.Fragment,null):F.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},F.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return F.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),F.createElement("div",{className:"react-datepicker__time"},F.createElement("div",{className:"react-datepicker__time-box"},F.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(R.Component),vw=3,_2=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=On([],Array(r.props.yearItemNumber),!0).map(function(){return R.createRef()}),r.isDisabled=function(i){return xn(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return og(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,u,d=r.props,f=d.date,p=d.yearItemNumber;if(!(f===void 0||p===void 0)){var g=jr(f,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-g<0?r.updateFocusOnPaginate(p-(g-i)):i-g>=p?r.updateFocusOnPaginate(Math.abs(p-(i-g))):(u=(l=r.YEAR_REFS[i-g])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,s){return ue(i,s)},r.isCurrentYear=function(i){return i===re(_e())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Dn(In(_e(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Dn(In(_e(),i),r.props.endDate)},r.isInRange=function(i){return ac(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,u=s.startDate,d=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&d?ac(i,r.selectingDate(),d):a&&u||l&&u&&!d?ac(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,u=In(_e(),i);return l?Dn(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):Dn(u,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,u=o.selectsRange,d=In(_e(),i);return l||u?Dn(d,(s=r.selectingDate())!==null&&s!==void 0?s:null):Dn(d,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,u=s.includeDates,d=s.filterDate,f=ea(In(r.props.date,i)),p=(o||a||l||u||d)&&Ac(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ue(f,ea(r.props.selected))&&ue(f,ea(r.props.preSelection))&&!p}},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(ea(In(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,u=r.props,d=u.date,f=u.yearItemNumber,p=u.handleOnKeyDown;if(l!==Y.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Y.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Y.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ir(r.props.preSelection,1));break;case Y.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Xs(r.props.preSelection,1));break;case Y.ArrowUp:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var g=jr(d,f).startPeriod,_=vw,T=s-_;if(T<g){var P=f%_;s>=g&&s<g+P?_=P:_+=P,T=s-_}r.handleYearNavigation(T,Xs(r.props.preSelection,_));break}case Y.ArrowDown:{if(d===void 0||f===void 0||r.props.preSelection==null)break;var E=jr(d,f).endPeriod,_=vw,T=s+_;if(T>E){var P=f%_;s<=E&&s>E-P?_=P:_+=P,T=s+_}r.handleYearNavigation(T,ir(r.props.preSelection,_));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,u=s.selected,d=s.excludeDates,f=s.includeDates,p=s.filterDate,g=s.yearClassName;return Ze("react-datepicker__year-text","react-datepicker__year-".concat(i),o?g==null?void 0:g(In(o,i)):void 0,{"react-datepicker__year-text--selected":u?i===re(u):void 0,"react-datepicker__year-text--disabled":(a||l||d||f||p)&&Ac(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=re(r.props.preSelection),o=Ac(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return Ze("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var u=jr(s,o),d=u.startPeriod,f=u.endPeriod,p=function(T){r.push(F.createElement("div",{ref:g.YEAR_REFS[T-d],onClick:function(P){n.onYearClick(P,T)},onKeyDown:function(P){IC(P)&&(P.preventDefault(),P.key=Y.Enter),n.onYearKeyDown(P,T)},tabIndex:Number(g.getYearTabIndex(T)),className:g.getYearClassNames(T),onMouseEnter:g.props.usePointerEvent?void 0:function(P){return a(P,T)},onPointerEnter:g.props.usePointerEvent?function(P){return a(P,T)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(P){return l(P,T)},onPointerLeave:g.props.usePointerEvent?function(P){return l(P,T)}:void 0,key:T,"aria-current":g.isCurrentYear(T)?"date":void 0},g.getYearContent(T)))},g=this,_=d;_<=f;_++)p(_);return F.createElement("div",{className:this.getYearContainerClassNames()},F.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(R.Component);function w2(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=re(n)<=o),r&&a&&(a=re(r)>=o),a&&i.push(o)}return i}var E2=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(f){return F.createElement("div",{className:a===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":a===f?"true":void 0},a===f?F.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=r.props.minDate?re(r.props.minDate):null,d=r.props.maxDate?re(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(F.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(F.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},F.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:w2(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=R.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=Ze({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return F.createElement(kd,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(R.Component),k2=function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?re(n.props.minDate):1900,i=n.props.maxDate?re(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(F.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return F.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return F.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},F.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),F.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return F.createElement(E2,de({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return F.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(R.Component),S2=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],C2=function(t){var e=(t.className||"").split(/\s+/);return S2.some(function(n){return e.indexOf(n)>=0})},T2=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;C2(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=CC(r.props),u=TC(r.props),d=_e(),f=a||o||s;return f||(l&&Vi(d,l)?l:u&&ni(d,u)?u:d)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:kn(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Qs(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:In(_e(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleMonthChange=function(i){var s,o;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),(o=(s=r.props).setOpen)===null||o===void 0||o.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:In(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:Wt(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:In(Wt(o,wt(i)),re(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=Qr(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(F.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=mi(s,a),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return F.createElement("div",{key:a,"aria-label":Pe(l,"EEEE",r.props.locale),className:Ze("react-datepicker__day-name",d)},u)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?KL(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?qL(i,s):GL(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Xs(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=cw(r.state.date,r.props);break;case r.props.showYearPicker:s=e2(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=JL(r.state.date,r.props);break;default:s=aw(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],a=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--previous--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.previousMonthButtonLabel,p=f===void 0?e.defaultProps.previousMonthButtonLabel:f,g=d.previousYearButtonLabel,_=g===void 0?e.defaultProps.previousYearButtonLabel:g,T=r.props,P=T.previousMonthAriaLabel,E=P===void 0?typeof p=="string"?p:"Previous Month":P,w=T.previousYearAriaLabel,C=w===void 0?typeof _=="string"?_:"Previous Year":w;return F.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?C:E},F.createElement("span",{className:o.join(" ")},u?_:p))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:ir(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=uw(r.state.date,r.props);break;case r.props.showYearPicker:s=t2(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=ZL(r.state.date,r.props);break;default:s=lw(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,d=r.props,f=d.nextMonthButtonLabel,p=f===void 0?e.defaultProps.nextMonthButtonLabel:f,g=d.nextYearButtonLabel,_=g===void 0?e.defaultProps.nextYearButtonLabel:g,T=r.props,P=T.nextMonthAriaLabel,E=P===void 0?typeof p=="string"?p:"Next Month":P,w=T.nextYearAriaLabel,C=w===void 0?typeof _=="string"?_:"Next Year":w;return F.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?C:E},F.createElement("span",{className:a.join(" ")},u?_:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),F.createElement("h2",{className:s.join(" ")},Pe(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return F.createElement(k2,de({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:re(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return F.createElement(p2,de({},e.defaultProps,r.props,{month:wt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return F.createElement(v2,de({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(nw(),i),r.props.setPreSelection&&r.props.setPreSelection(nw())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return F.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return F.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),F.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),F.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=aw(r.state.date,r.props),d=lw(r.state.date,r.props),f=cw(r.state.date,r.props),p=uw(r.state.date,r.props),g=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return F.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,de(de({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),g&&F.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,u=l===void 0?e.defaultProps.yearItemNumber:l,d=jr(s,u),f=d.startPeriod,p=d.endPeriod;return F.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(f," - ").concat(p):re(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ir(r.state.date,l):Qs(r.state.date,l),d=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<a;++f){var p=f-d+l,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ir(u,p):kn(u,p),_="month-".concat(f),T=f<a-1,P=f>0;o.push(F.createElement("div",{key:_,ref:function(E){r.monthContainer=E??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:g,i:f}),F.createElement(h2,de({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:T,monthShowsDuplicateDaysStart:P}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return F.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),F.createElement(_2,de({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return F.createElement(y2,de({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&qn(i)&&!!r.props.selected,o=s?"".concat(hw(i.getHours()),":").concat(hw(i.getMinutes())):"";if(r.props.showTimeInput)return F.createElement(a2,de({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=jr(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=re(r.state.date):l="".concat(sg(wt(r.state.date),r.props.locale)," ").concat(re(r.state.date)),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return F.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=R.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ml}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!ue(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!yt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ue(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||UL;return F.createElement(kd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},F.createElement(n,{className:Ze("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(R.Component),I2=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return typeof e=="string"?F.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):F.isValidElement(e)?F.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):F.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},F.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},DC=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Tx.createPortal(this.props.children,this.el)},e}(R.Component),D2="[tabindex], a, button, input, select, textarea",x2=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},xC=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(D2),1,-1).filter(x2)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=R.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?F.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},F.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,F.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(R.Component);function P2(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=R.useRef(null),o=jL(de({open:!i,whileElementsMounted:gL,placement:n.popperPlacement,middleware:On([SL({padding:15}),kL(10),CL({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=de(de({},n),{hidePopper:i,popperProps:de(de({},o),{arrowRef:s})});return F.createElement(t,de({},a))};return e}var b2=function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,d=n.popperOnKeyDown,f=n.portalId,p=n.portalHost,g=n.popperProps,_=n.showArrow,T=void 0;if(!o){var P=Ze("react-datepicker-popper",r);T=F.createElement(xC,{enableTabLoop:u},F.createElement("div",{ref:g.refs.setFloating,style:g.floatingStyles,className:P,"data-placement":g.placement,onKeyDown:d},a,_&&F.createElement(NL,{ref:g.arrowRef,context:g.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(T=R.createElement(this.props.popperContainer,{},T)),f&&!o&&(T=F.createElement(DC,{portalId:f,portalHost:p},T));var E=Ze("react-datepicker-wrapper",i);return F.createElement(F.Fragment,null,F.createElement("div",{ref:g.refs.setReference,className:E},l),T)},e}(R.Component),N2=P2(b2),yw="react-datepicker-ignore-onclickoutside";function R2(t,e){return t&&e?wt(t)!==wt(e)||re(t)!==re(e):t!==e}var Kh="Date input not valid.",O2=function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:_e()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return qn(a)?On(On([],s,!0),[de(de({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=CC(r.props),a=TC(r.props),l=o&&Vi(s,Oc(o))?o:a&&ni(s,rw(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:dw(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(de(de({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(de(de({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Gh},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return sr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var l=o[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,o),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:A2});var u=r.props,d=u.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,p=u.strictParsing,g=p===void 0?e.defaultProps.strictParsing:p,_=u.selectsRange,T=u.startDate,P=u.endDate,E=(l==null?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(_){var w=E.split("-",2).map(function(I){return I.trim()}),C=w[0],O=w[1],L=Vh(C??"",f,r.props.locale,g),j=Vh(O??"",f,r.props.locale,g),k=(T==null?void 0:T.getTime())!==(L==null?void 0:L.getTime()),v=(P==null?void 0:P.getTime())!==(j==null?void 0:j.getTime());if(!k&&!v||L&&xn(L,r.props)||j&&xn(j,r.props))return;(s=(i=r.props).onChange)===null||s===void 0||s.call(i,[L,j],l)}else{var S=Vh(E,f,r.props.locale,g,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&S&&!ue(S,r.props.selected)&&(S=LM(r.props.selected,{hours:jn(S),minutes:Un(S),seconds:or(S)})),(S||!E)&&r.setSelected(S,l,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!mw(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,u,d=i;if(r.props.showYearPicker){if(d!==null&&Ac(re(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&SC(d,r.props))return}else if(d!==null&&xn(d,r.props))return;var f=r.props,p=f.onChange,g=f.selectsRange,_=f.startDate,T=f.endDate,P=f.selectsMultiple,E=f.selectedDates,w=f.minTime,C=f.swapRange;if(!Di(r.props.selected,d)||r.props.allowSameDay||g||P)if(d!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=zh(d,{hour:jn(r.props.selected),minute:Un(r.props.selected),second:or(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(d=zh(d,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),g){var O=!_&&!T,L=_&&!T,j=_&&T;O?p==null||p([d,null],s):L&&(d===null?p==null||p([null,null],s):mw(d,_)?C?p==null||p([d,_],s):p==null||p([d,null],s):p==null||p([_,d],s)),j&&(p==null||p([d,null],s))}else if(P){if(d!==null)if(!(E!=null&&E.length))p==null||p([d],s);else{var k=E.some(function(S){return ue(S,d)});if(k){var v=E.filter(function(S){return!ue(S,d)});p==null||p(v,s)}else p==null||p(On(On([],E,!0),[d],!1),s)}}else p==null||p(d,s);o||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=sr(r.props.minDate),o=sr(r.props.maxDate),a=!0;if(i){var l=Oc(i);if(s&&o)a=ta(i,r.props.minDate,r.props.maxDate);else if(s){var u=Oc(r.props.minDate);a=ni(i,u)||Di(l,u)}else if(o){var d=rw(r.props.maxDate);a=Vi(i,d)||Di(l,d)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:zh(a,{hour:jn(i),minute:Un(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,u,d;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===Y.ArrowDown||f===Y.ArrowUp||f===Y.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(f===Y.ArrowDown||f===Y.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var _=_e(r.state.preSelection);f===Y.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Gh?(r.handleSelect(_,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(_)):r.setOpen(!1)):f===Y.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f===Y.Tab&&r.setOpen(!1),r.inputOk()||(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:Kh})}},r.onPortalKeyDown=function(i){var s=i.key;s===Y.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,u,d,f=r.props,p=f.minDate,g=f.maxDate,_=f.disabledKeyboardNavigation,T=f.showWeekPicker,P=f.shouldCloseOnSelect,E=f.locale,w=f.calendarStartDay,C=f.adjustDateOnChange,O=f.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!_){var L=i.key,j=i.shiftKey,k=_e(r.state.preSelection),v=function(ne,q){var X=q;switch(ne){case Y.ArrowRight:X=T?vu(q,1):mi(q,1);break;case Y.ArrowLeft:X=T?$_(q,1):FM(q,1);break;case Y.ArrowUp:X=$_(q,1);break;case Y.ArrowDown:X=vu(q,1);break;case Y.PageUp:X=j?Xs(q,1):Qs(q,1);break;case Y.PageDown:X=j?ir(q,1):kn(q,1);break;case Y.Home:X=Qr(q,E,w);break;case Y.End:X=$L(q);break}return X},S=function(ne,q){for(var X=40,U=ne,z=!1,G=0,Q=v(ne,q);!z;){if(G>=X){Q=q;break}p&&Q<p&&(U=Y.ArrowRight,Q=xn(p,r.props)?v(U,Q):p),g&&Q>g&&(U=Y.ArrowLeft,Q=xn(g,r.props)?v(U,Q):g),xn(Q,r.props)?((U===Y.PageUp||U===Y.Home)&&(U=Y.ArrowRight),(U===Y.PageDown||U===Y.End)&&(U=Y.ArrowLeft),Q=v(U,Q)):z=!0,G++}return Q};if(L===Y.Enter){i.preventDefault(),r.handleSelect(k,i),!P&&r.setPreSelection(k);return}else if(L===Y.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Kh});return}var I=null;switch(L){case Y.ArrowLeft:case Y.ArrowRight:case Y.ArrowUp:case Y.ArrowDown:case Y.PageUp:case Y.PageDown:case Y.Home:case Y.End:I=S(L,k);break}if(!I){(d=(u=r.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:Kh});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Gh}),C&&r.setSelected(I),r.setPreSelection(I),O){var b=wt(k),N=wt(I),x=re(k),ee=re(I);b!==N||x!==ee?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Y.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:F.createElement(T2,de({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:r2(r.modifyHolidays()),outsideClickIgnoreClass:yw,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",d;return r.props.selectsRange?d="Selected start date: ".concat(Qt(r.props.startDate,{dateFormat:u,locale:a}),". ").concat(r.props.endDate?"End date: "+Qt(r.props.endDate,{dateFormat:u,locale:a}):""):r.props.showTimeSelectOnly?d="Selected time: ".concat(Qt(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?d="Selected year: ".concat(Qt(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?d="Selected month: ".concat(Qt(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?d="Selected quarter: ".concat(Qt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(Qt(r.props.selected,{dateFormat:u,locale:a})),F.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},r.renderDateInput=function(){var i,s,o,a=Ze(r.props.className,(i={},i[yw]=r.state.open,i)),l=r.props.customInput||F.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",d=r.props,f=d.dateFormat,p=f===void 0?e.defaultProps.dateFormat:f,g=d.locale,_=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?BL(r.props.startDate,r.props.endDate,{dateFormat:p,locale:g}):r.props.selectsMultiple?YL((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:g}):Qt(r.props.selected,{dateFormat:p,locale:g});return R.cloneElement(l,(s={},s[u]=function(T){r.input=T},s.value=_,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Ze(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,u=i.endDate,d=i.clearButtonTitle,f=i.clearButtonClassName,p=f===void 0?"":f,g=i.ariaLabelClose,_=g===void 0?"Close":g,T=i.selectedDates;return s&&(a!=null||l!=null||u!=null||T!=null&&T.length)?F.createElement("button",{type:"button",className:Ze("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":_,onClick:r.onClearClick,title:d,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ml,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&R2(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dw(this.props.highlightDates)}),!r.focused&&!Di(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),F.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&F.createElement(I2,de({icon:i,className:Ze(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?F.createElement(xC,{enableTabLoop:this.props.enableTabLoop},F.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=F.createElement(DC,de({portalId:this.props.portalId},this.props),r)),F.createElement("div",null,this.renderInputContainer(),r)}return F.createElement(N2,de({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(R.Component),A2="input",Gh="navigate";function M2({taskData:t,handleInputChange:e}){const[n,r]=R.useState(t.type||null),[i,s]=R.useState(t.date||null),[o,a]=R.useState(t.location||""),l=u=>{if(!u)return"Vælg Dato";const d={day:"numeric",month:"long"};return new Intl.DateTimeFormat("da-DK",d).format(u)};return D.jsxs("section",{children:[D.jsx("div",{className:"stepthree-container",children:D.jsx("h1",{className:"stepthreeh1",children:"Dato & Sted"})}),D.jsxs("div",{className:"boks-container-stepthree",children:[D.jsxs("div",{children:[D.jsx("div",{className:`boks-stepthree ${n===0?"active":""}`,onClick:()=>r(0),children:D.jsx("img",{src:"./haster.webp",alt:"Fast clock icon"})}),D.jsx("p",{className:"undertekst-stepthree",children:"Hurtigst muligt"})]}),D.jsxs("div",{children:[D.jsx("div",{className:`boks-stepthree ${n===1?"active":""}`,onClick:()=>r(1),children:D.jsx("img",{src:"./calender.webp",alt:"Calender icon"})}),D.jsx("p",{className:"undertekst-stepthree",children:"Specifik dato"})]})]}),D.jsxs("div",{className:"adresse-div",children:[D.jsx("h4",{children:"Adresse"}),D.jsxs("div",{className:"adresse-boks",children:[D.jsx("img",{src:"./location.webp",alt:"Location pin icon"}),D.jsx("input",{type:"text",placeholder:"Skriv her",value:o,onChange:u=>a(u.target.value)})]})]}),D.jsxs("div",{className:"dato-div",children:[D.jsx("h4",{children:"Vælg Dato"}),D.jsxs("div",{className:"dato-boks",children:[D.jsx("img",{src:"./calender.webp",alt:"Calender icon"}),D.jsx(O2,{selected:i,onChange:u=>s(u),dateFormat:"dd/MM/yyyy",className:"date-picker",placeholderText:"Vælg en dato",customInput:D.jsx("input",{type:"text",value:l(i),readOnly:!0,className:"date-input"})})]})]})]})}function L2({taskData:t,handleInputChange:e}){return D.jsxs("section",{className:"step4section",children:[D.jsx("h1",{className:"step1h1",children:"Uddyb beskrivelse"}),D.jsx("h3",{className:"tekst-step4",children:"Uddybende beskrivelse af opgaven, så opgaven kan blive løst lige som du ønsker det"}),D.jsx("div",{className:"beskriv-boks",children:D.jsx("textarea",{className:"tekst",placeholder:"Beskriv her...",name:"description",value:t.description,onChange:e})})]})}function F2({taskData:t,handleInputChange:e,handleImageChange:n}){return D.jsxs("section",{className:"step5section",children:[D.jsx("h1",{className:"step1h1",children:"Tilføj billeder"}),D.jsx("div",{className:"beskriv-boks",children:D.jsx("input",{type:"file",accept:"image/*",onChange:n})}),D.jsx("h2",{className:"prish2",children:"Sæt din pris"}),D.jsx("div",{className:"pris-boks",children:D.jsx("input",{type:"text",name:"price",value:t.price,onChange:e,placeholder:"Angiv pris",className:"pris-tekst"})})]})}function j2({setActiveClass:t}){const[e,n]=R.useState(1),r=5,[i,s]=R.useState({title:"",description:"",category:"",price:"",date:"",location:"",type:"",picture:null}),o=Om(),a=e/r*100,l=g=>{const{name:_,value:T}=g.target;s(P=>({...P,[_]:T}))},u=g=>{const _=g.target.files[0];s(T=>({...T,picture:_}))},d=g=>{s(_=>({..._,category:g}))},f=()=>{t(1),o("/klaropgave",{state:{taskData:i}}),console.log("Opgaven er indsendt:",i)},p=()=>{switch(e){case 1:return D.jsx(F_,{taskData:i,handleCategoryChange:d});case 2:return D.jsx(vO,{taskData:i,handleInputChange:l});case 3:return D.jsx(M2,{taskData:i,handleInputChange:l});case 4:return D.jsx(L2,{taskData:i,handleInputChange:l});case 5:return D.jsx(F2,{taskData:i,handleInputChange:l,handleImageChange:u});default:return D.jsx(F_,{taskData:i,handleCategoryChange:d})}};return D.jsxs("div",{className:"create-task-container",children:[D.jsx("div",{className:"stepbystep-boks",children:D.jsx("div",{className:"filled",style:{width:`${a}%`,transition:"width 0.5s ease"}})}),p(),e<r&&D.jsx("button",{className:"nextbtn",onClick:()=>n(e+1),children:"Næste"}),e>1&&D.jsx("button",{className:"previousbtn",onClick:()=>n(e-1),children:D.jsx("img",{src:"./tilbagepil.svg",alt:"Tilbage Knap"})}),e===r&&D.jsx("button",{className:"submitbtn",onClick:f,children:"Opret opgave"})]})}function U2(){const t=uo(),{taskData:e}=t.state||{};return e?D.jsxs("section",{className:"udfør-opgaver",children:[D.jsx("div",{children:D.jsx("img",{src:URL.createObjectURL(e.picture),alt:"Uploaded"})}),D.jsxs("div",{children:[D.jsxs("div",{className:"titel-pris",children:[D.jsxs("h2",{children:["Titel: ",e.title]}),D.jsx("span",{children:D.jsxs("h4",{children:[e.price,"kr."]})})]}),D.jsx("div",{className:"kategori",children:D.jsx("span",{children:D.jsxs("h3",{children:["Kategori: ",e.category]})})})]})]}):D.jsx("div",{children:"Ingen opgave at vise"})}var _w={};const ww="@firebase/database",Ew="1.0.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PC="";function W2(t){PC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new H2(e)}}catch{}return new B2},xi=bC("localStorage"),Y2=bC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new al("@firebase/database"),V2=function(){let t=1;return function(){return t++}}(),NC=function(t){const e=YP(t),n=new UP;n.update(e);const r=n.digest();return Am.encodeByteArray(r)},vl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vl.apply(null,r):typeof r=="object"?e+=$e(r):e+=r,e+=" "}return e};let fa=null,kw=!0;const z2=function(t,e){H(!e,"Can't turn on custom loggers persistently."),js.logLevel=me.VERBOSE,fa=js.log.bind(js)},ft=function(...t){if(kw===!0&&(kw=!1,fa===null&&Y2.get("logging_enabled")===!0&&z2()),fa){const e=vl.apply(null,t);fa(e)}},yl=function(t){return function(...e){ft(t,...e)}},kp=function(...t){const e="FIREBASE INTERNAL ERROR: "+vl(...t);js.error(e)},mr=function(...t){const e=`FIREBASE FATAL ERROR: ${vl(...t)}`;throw js.error(e),new Error(e)},Lt=function(...t){const e="FIREBASE WARNING: "+vl(...t);js.warn(e)},$2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},RC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},K2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},to="[MIN_NAME]",$i="[MAX_NAME]",go=function(t,e){if(t===e)return 0;if(t===to||e===$i)return-1;if(e===to||t===$i)return 1;{const n=Sw(t),r=Sw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},G2=function(t,e){return t===e?0:t<e?-1:1},Vo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$e(e))},ag=function(t){if(typeof t!="object"||t===null)return $e(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=$e(e[r]),n+=":",n+=ag(t[e[r]]);return n+="}",n},OC=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const AC=function(t){H(!RC(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},q2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Q2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function X2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const J2=new RegExp("^-?(0*)\\d{1,10}$"),Z2=-2147483648,eF=2147483647,Sw=function(t){if(J2.test(t)){const e=Number(t);if(e>=Z2&&e<=eF)return e}return null},vo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},tF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lt(e)}}class Mc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="5",MC="v",LC="s",FC="r",jC="f",UC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WC="ls",HC="p",Sp="ac",BC="websocket",YC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function iF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zC(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let r;if(e===BC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===YC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);iF(t)&&(n.ns=t.namespace);const i=[];return jt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.counters_={}}incrementCounter(e,n=1){vr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return TP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh={},Qh={};function cg(t){const e=t.toString();return qh[e]||(qh[e]=new sF),qh[e]}function oF(t,e){const n=t.toString();return Qh[n]||(Qh[n]=e()),Qh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="start",lF="close",cF="pLPCommand",uF="pRTLPCB",$C="id",KC="pw",GC="ser",dF="cb",hF="seg",fF="ts",pF="d",mF="dframe",qC=1870,QC=30,gF=qC-QC,vF=25e3,yF=3e4;class Is{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yl(e),this.stats_=cg(n),this.urlFn=l=>(this.appCheckToken&&(l[Sp]=this.appCheckToken),zC(n,YC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new aF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yF)),K2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ug((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Cw)this.id=a,this.password=l;else if(o===lF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Cw]="t",r[GC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[MC]=lg,this.transportSessionId&&(r[LC]=this.transportSessionId),this.lastSessionId&&(r[WC]=this.lastSessionId),this.applicationId&&(r[HC]=this.applicationId),this.appCheckToken&&(r[Sp]=this.appCheckToken),typeof location<"u"&&location.hostname&&UC.test(location.hostname)&&(r[FC]=jC);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Is.forceAllow_=!0}static forceDisallow(){Is.forceDisallow_=!0}static isAvailable(){return Is.forceAllow_?!0:!Is.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q2()&&!Q2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Gk(n),i=OC(r,gF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[mF]="t",r[$C]=e,r[KC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ug{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=V2(),window[cF+this.uniqueCallbackIdentifier]=e,window[uF+this.uniqueCallbackIdentifier]=n,this.myIFrame=ug.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ft("frame writing exception"),a.stack&&ft(a.stack),ft(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[$C]=this.myID,e[KC]=this.myPW,e[GC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+QC+r.length<=qC;){const o=this.pendingSegs.shift();r=r+"&"+hF+i+"="+o.seg+"&"+fF+i+"="+o.ts+"&"+pF+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(vF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=16384,wF=45e3;let Nu=null;typeof MozWebSocket<"u"?Nu=MozWebSocket:typeof WebSocket<"u"&&(Nu=WebSocket);class hn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yl(this.connId),this.stats_=cg(n),this.connURL=hn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[MC]=lg,typeof location<"u"&&location.hostname&&UC.test(location.hostname)&&(o[FC]=jC),n&&(o[LC]=n),r&&(o[WC]=r),i&&(o[Sp]=i),s&&(o[HC]=s),zC(e,BC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xi.set("previous_websocket_failure",!0);try{let r;rS(),this.mySock=new Nu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Nu!==null&&!hn.forceDisallow_}static previouslyFailed(){return xi.isInMemoryStorage||xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){xi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wa(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=$e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=OC(n,_F);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Is,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=hn&&hn.isAvailable();let r=n&&!hn.previouslyFailed();if(e.webSocketOnly&&(n||Lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[hn];else{const i=this.transports_=[];for(const s of Ga.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ga.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ga.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=6e4,kF=5e3,SF=10*1024,CF=100*1024,Xh="t",Tw="d",TF="s",Iw="r",IF="e",Dw="o",xw="a",Pw="n",bw="p",DF="h";class xF{constructor(e,n,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yl("c:"+this.id+":"),this.transportManager_=new Ga(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xh in e){const n=e[Xh];n===xw?this.upgradeIfSecondaryHealthy_():n===Iw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Dw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Vo("t",e),r=Vo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Vo("t",e),r=Vo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Vo(Xh,e);if(Tw in e){const r=e[Tw];if(n===DF){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Pw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TF?this.onConnectionShutdown_(r):n===Iw?this.onReset_(r):n===IF?kp("Server Error: "+r):n===Dw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lg!==r&&Lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends JC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ru}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=32,Rw=768;class ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function pe(){return new ke("")}function le(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function si(t){return t.pieces_.length-t.pieceNum_}function Se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function ZC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function eT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function Ke(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ke(n,0)}function se(t){return t.pieceNum_>=t.pieces_.length}function kt(t,e){const n=le(t),r=le(e);if(n===null)return e;if(n===r)return kt(Se(t),Se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nT(t,e){if(si(t)!==si(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(si(t)>si(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class bF{constructor(e,n){this.errorPrefix_=n,this.parts_=eT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ud(this.parts_[r]);rT(this)}}function NF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ud(e),rT(t)}function RF(t){const e=t.parts_.pop();t.byteLength_-=ud(e),t.parts_.length>0&&(t.byteLength_-=1)}function rT(t){if(t.byteLength_>Rw)throw new Error(t.errorPrefix_+"has a key path longer than "+Rw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Nw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Nw+") or object contains a cycle "+Si(t))}function Si(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends JC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dg}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=1e3,OF=60*5*1e3,Ow=30*1e3,AF=1.3,MF=3e4,LF="server_kill",Aw=3;class ar extends XC{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ar.nextPersistentConnectionId_++,this.log_=yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zo,this.maxReconnectDelay_=OF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ru.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_($e(s)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new cd,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ar.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vr(e,"w")){const r=Ks(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ow)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=FP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$e(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):kp("Unrecognized action received from server: "+$e(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MF&&(this.reconnectDelay_=zo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ar.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(f){H(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,a=new xF(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Lt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(LF)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Lt(f),l())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rp(this.interruptReasons_)&&(this.reconnectDelay_=zo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ag(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ke(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Aw&&(this.reconnectDelay_=Ow,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Aw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+PC.replace(/\./g,"-")]=1,Lm()?e["framework.cordova"]=1:nS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ru.getInstance().currentlyOnline();return rp(this.interruptReasons_)&&e}}ar.nextPersistentConnectionId_=0;ar.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ie(to,e),i=new ie(to,n);return this.compare(r,i)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc;class iT extends Sd{static get __EMPTY_NODE(){return uc}static set __EMPTY_NODE(e){uc=e}compare(e,n){return go(e.name,n.name)}isDefinedOn(e){throw ho("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ie.MIN}maxPost(){return new ie($i,uc)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new ie(e,uc)}toString(){return".key"}}const Us=new iT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xe.RED,this.left=i??Nt.EMPTY_NODE,this.right=s??Nt.EMPTY_NODE}copy(e,n,r,i,s){return new Xe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class FF{copy(e,n,r,i,s){return this}insert(e,n,r){return new Xe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(e,n=Nt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(e){return new Nt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new dc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new dc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new dc(this.root_,null,this.comparator_,!0,e)}}Nt.EMPTY_NODE=new FF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t,e){return go(t.name,e.name)}function hg(t,e){return go(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp;function UF(t){Cp=t}const sT=function(t){return typeof t=="number"?"number:"+AC(t):"string:"+t},oT=function(t){if(t.isLeafNode()){const e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vr(e,".sv"),"Priority must be a string or number.")}else H(t===Cp||t.isEmpty(),"priority of unexpected type.");H(t===Cp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mw;class qe{constructor(e,n=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oT(this.priorityNode_)}static set __childrenNodeConstructor(e){Mw=e}static get __childrenNodeConstructor(){return Mw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return se(e)?this:le(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=le(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||si(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Se(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=AC(this.value_):e+=this.value_,this.lazyHash_=NC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=qe.VALUE_TYPE_ORDER.indexOf(n),s=qe.VALUE_TYPE_ORDER.indexOf(r);return H(i>=0,"Unknown leaf type: "+n),H(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aT,lT;function WF(t){aT=t}function HF(t){lT=t}class BF extends Sd{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?go(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie($i,new qe("[PRIORITY-POST]",lT))}makePost(e,n){const r=aT(e);return new ie(n,new qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new BF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=Math.log(2);class VF{constructor(e){const n=s=>parseInt(Math.log(s)/YF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ou=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let f,p;if(d===0)return null;if(d===1)return f=t[l],p=n?n(f):f,new Xe(p,f.node,Xe.BLACK,null,null);{const g=parseInt(d/2,10)+l,_=i(l,g),T=i(g+1,u);return f=t[g],p=n?n(f):f,new Xe(p,f.node,Xe.BLACK,_,T)}},s=function(l){let u=null,d=null,f=t.length;const p=function(_,T){const P=f-_,E=f;f-=_;const w=i(P+1,E),C=t[P],O=n?n(C):C;g(new Xe(O,C.node,T,null,w))},g=function(_){u?(u.left=_,u=_):(d=_,u=_)};for(let _=0;_<l.count;++_){const T=l.nextBitIsOne(),P=Math.pow(2,l.count-(_+1));T?p(P,Xe.BLACK):(p(P,Xe.BLACK),p(P,Xe.RED))}return d},o=new VF(t.length),a=s(o);return new Nt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;const ds={};class tr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return H(ds&&Le,"ChildrenNode.ts has not been loaded"),Jh=Jh||new tr({".priority":ds},{".priority":Le}),Jh}get(e){const n=Ks(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return vr(this.indexSet_,e.toString())}addIndex(e,n){H(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ie.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Ou(r,e.getCompare()):a=ds;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new tr(d,u)}addToIndexes(e,n){const r=uu(this.indexes_,(i,s)=>{const o=Ks(this.indexSet_,s);if(H(o,"Missing index implementation for "+s),i===ds)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ie.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Ou(a,o.getCompare())}else return ds;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ie(e.name,a))),l.insert(e,e.node)}});return new tr(r,this.indexSet_)}removeFromIndexes(e,n){const r=uu(this.indexes_,i=>{if(i===ds)return i;{const s=n.get(e.name);return s?i.remove(new ie(e.name,s)):i}});return new tr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class J{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oT(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $o||($o=new J(new Nt(hg),null,tr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$o:n}}getChild(e){const n=le(e);return n===null?this:this.getImmediateChild(n).getChild(Se(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(H(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ie(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?$o:this.priorityNode_;return new J(i,o,s)}}updateChild(e,n){const r=le(e);if(r===null)return n;{H(le(e)!==".priority"||si(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Se(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Le,(o,a)=>{n[o]=a.val(e),r++,s&&J.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sT(this.getPriority().val())+":"),this.forEachChild(Le,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":NC(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ie(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Le),i=n.getIterator(Le);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zF extends J{constructor(){super(new Nt(hg),J.EMPTY_NODE,tr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const _l=new zF;Object.defineProperties(ie,{MIN:{value:new ie(to,J.EMPTY_NODE)},MAX:{value:new ie($i,_l)}});iT.__EMPTY_NODE=J.EMPTY_NODE;qe.__childrenNodeConstructor=J;UF(_l);HF(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=!0;function Je(t,e=null){if(t===null)return J.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new qe(n,Je(e))}if(!(t instanceof Array)&&$F){const n=[];let r=!1;if(jt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Je(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ie(o,l)))}}),n.length===0)return J.EMPTY_NODE;const s=Ou(n,jF,o=>o.name,hg);if(r){const o=Ou(n,Le.getCompare());return new J(s,Je(e),new tr({".priority":o},{".priority":Le}))}else return new J(s,Je(e),tr.Default)}else{let n=J.EMPTY_NODE;return jt(t,(r,i)=>{if(vr(t,r)&&r.substring(0,1)!=="."){const s=Je(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Je(e))}}WF(Je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF extends Sd{constructor(e){super(),this.indexPath_=e,H(!se(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?go(e.name,n.name):s}makePost(e,n){const r=Je(e),i=J.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(n,i)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,_l);return new ie($i,e)}toString(){return eT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF extends Sd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?go(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(e,n){const r=Je(e);return new ie(n,r)}toString(){return".value"}}const qF=new GF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){return{type:"value",snapshotNode:t}}function no(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Qa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function QF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(qa(n,a)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(no(n,r)):o.trackChildChange(Qa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Le,(i,s)=>{n.hasChild(i)||r.trackChildChange(qa(i,s))}),n.isLeafNode()||n.forEachChild(Le,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Qa(i,s,o))}else r.trackChildChange(no(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.indexedFilter_=new fg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xa.getStartPost_(e),this.endPost_=Xa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ie(n,r))||(r=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=J.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(J.EMPTY_NODE);const s=this;return n.forEachChild(Le,(o,a)=>{s.matches(new ie(o,a))||(i=i.updateImmediateChild(o,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ie(n,r))||(r=J.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=J.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(J.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(p,g)=>f(g,p)}else o=this.index_.getCompare();const a=e;H(a.numChildren()===this.limit_,"");const l=new ie(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let p=i.getChildAfterChild(this.index_,u,this.reverse_);for(;p!=null&&(p.name===n||a.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);const g=p==null?1:o(p,l);if(d&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Qa(n,r,f)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(qa(n,f));const T=a.updateImmediateChild(n,J.EMPTY_NODE);return p!=null&&this.rangedFilter_.matches(p)?(s!=null&&s.trackChildChange(no(p.name,p.node)),T.updateImmediateChild(p.name,p.node)):T}}else return r.isEmpty()?e:d&&o(u,l)>=0?(s!=null&&(s.trackChildChange(qa(u.name,u.node)),s.trackChildChange(no(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,J.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:to}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const e=new pg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JF(t){return t.loadsAllData()?new fg(t.getIndex()):t.hasLimit()?new XF(t):new Xa(t)}function Lw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===qF?n="$value":t.index_===Us?n="$key":(H(t.index_ instanceof KF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$e(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=$e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+$e(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=$e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+$e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Fw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends XC{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Au.getListenId_(e,r),a={};this.listens_[o]=a;const l=Lw(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),Ks(this.listens_,o)===a){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",i(p,null)}})}unlisten(e,n){const r=Au.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Lw(e._queryParams),r=e._path.toString(),i=new cd;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Wa(a.responseText)}catch{Lt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Lt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(){return{value:null,children:new Map}}function uT(t,e,n){if(se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=le(e);t.children.has(r)||t.children.set(r,Mu());const i=t.children.get(r);e=Se(e),uT(i,e,n)}}function Tp(t,e,n){t.value!==null?n(e,t.value):e4(t,(r,i)=>{const s=new ke(e.toString()+"/"+r);Tp(i,s,n)})}function e4(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&jt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=10*1e3,n4=30*1e3,r4=5*60*1e3;class i4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new t4(e);const r=jw+(n4-jw)*Math.random();pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;jt(e,(i,s)=>{s>0&&vr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*r4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function dT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function gg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=pn.ACK_USER_WRITE,this.source=dT()}operationForChild(e){if(se(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new Lu(pe(),n,this.revert)}}else return H(le(this.path)===e,"operationForChild called for unrelated child."),new Lu(Se(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.source=e,this.path=n,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return se(this.path)?new Ja(this.source,pe()):new Ja(this.source,Se(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=pn.OVERWRITE}operationForChild(e){return se(this.path)?new Ki(this.source,pe(),this.snap.getImmediateChild(e)):new Ki(this.source,Se(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=pn.MERGE}operationForChild(e){if(se(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new Ki(this.source,pe(),n.value):new Za(this.source,pe(),n)}else return H(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Za(this.source,Se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(se(e))return this.isFullyInitialized()&&!this.filtered_;const n=le(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function o4(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(QF(o.childName,o.snapshotNode))}),Ko(t,i,"child_removed",e,r,n),Ko(t,i,"child_added",e,r,n),Ko(t,i,"child_moved",s,r,n),Ko(t,i,"child_changed",e,r,n),Ko(t,i,"value",e,r,n),i}function Ko(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>l4(t,a,l)),o.forEach(a=>{const l=a4(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function a4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function l4(t,e,n){if(e.childName==null||n.childName==null)throw ho("Should only compare child_ events.");const r=new ie(e.childName,e.snapshotNode),i=new ie(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t,e){return{eventCache:t,serverCache:e}}function ma(t,e,n,r){return Cd(new oi(e,n,r),t.serverCache)}function hT(t,e,n,r){return Cd(t.eventCache,new oi(e,n,r))}function Fu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;const c4=()=>(Zh||(Zh=new Nt(G2)),Zh);class De{constructor(e,n=c4()){this.value=e,this.children=n}static fromObject(e){let n=new De(null);return jt(e,(r,i)=>{n=n.set(new ke(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pe(),value:this.value};if(se(e))return null;{const r=le(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Se(e),n);return s!=null?{path:Ke(new ke(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(se(e))return this;{const n=le(e),r=this.children.get(n);return r!==null?r.subtree(Se(e)):new De(null)}}set(e,n){if(se(e))return new De(n,this.children);{const r=le(e),s=(this.children.get(r)||new De(null)).set(Se(e),n),o=this.children.insert(r,s);return new De(this.value,o)}}remove(e){if(se(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=le(e),r=this.children.get(n);if(r){const i=r.remove(Se(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new De(null):new De(this.value,s)}else return this}}get(e){if(se(e))return this.value;{const n=le(e),r=this.children.get(n);return r?r.get(Se(e)):null}}setTree(e,n){if(se(e))return n;{const r=le(e),s=(this.children.get(r)||new De(null)).setTree(Se(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new De(this.value,o)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ke(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(se(e))return null;{const s=le(e),o=this.children.get(s);return o?o.findOnPath_(Se(e),Ke(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,r){if(se(e))return this;{this.value&&r(n,this.value);const i=le(e),s=this.children.get(i);return s?s.foreachOnPath_(Se(e),Ke(n,i),r):new De(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ke(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.writeTree_=e}static empty(){return new yn(new De(null))}}function ga(t,e,n){if(se(e))return new yn(new De(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=kt(i,e);return s=s.updateChild(o,n),new yn(t.writeTree_.set(i,s))}else{const i=new De(n),s=t.writeTree_.setTree(e,i);return new yn(s)}}}function Uw(t,e,n){let r=t;return jt(n,(i,s)=>{r=ga(r,Ke(e,i),s)}),r}function Ww(t,e){if(se(e))return yn.empty();{const n=t.writeTree_.setTree(e,new De(null));return new yn(n)}}function Ip(t,e){return rs(t,e)!=null}function rs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(kt(n.path,e)):null}function Hw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(r,i)=>{e.push(new ie(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ie(r,i.value))}),e}function Jr(t,e){if(se(e))return t;{const n=rs(t,e);return n!=null?new yn(new De(n)):new yn(t.writeTree_.subtree(e))}}function Dp(t){return t.writeTree_.isEmpty()}function ro(t,e){return fT(pe(),t.writeTree_,e)}function fT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(H(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=fT(Ke(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ke(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t,e){return vT(e,t)}function u4(t,e,n,r,i){H(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ga(t.visibleWrites,e,n)),t.lastWriteId=r}function d4(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function h4(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f4(a,r.path)?i=!1:fn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return p4(t),!0;if(r.snap)t.visibleWrites=Ww(t.visibleWrites,r.path);else{const a=r.children;jt(a,l=>{t.visibleWrites=Ww(t.visibleWrites,Ke(r.path,l))})}return!0}else return!1}function f4(t,e){if(t.snap)return fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fn(Ke(t.path,n),e))return!0;return!1}function p4(t){t.visibleWrites=pT(t.allWrites,m4,pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m4(t){return t.visible}function pT(t,e,n){let r=yn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)fn(n,o)?(a=kt(n,o),r=ga(r,a,s.snap)):fn(o,n)&&(a=kt(o,n),r=ga(r,pe(),s.snap.getChild(a)));else if(s.children){if(fn(n,o))a=kt(n,o),r=Uw(r,a,s.children);else if(fn(o,n))if(a=kt(o,n),se(a))r=Uw(r,pe(),s.children);else{const l=Ks(s.children,le(a));if(l){const u=l.getChild(Se(a));r=ga(r,pe(),u)}}}else throw ho("WriteRecord should have .snap or .children")}}return r}function mT(t,e,n,r,i){if(!r&&!i){const s=rs(t.visibleWrites,e);if(s!=null)return s;{const o=Jr(t.visibleWrites,e);if(Dp(o))return n;if(n==null&&!Ip(o,pe()))return null;{const a=n||J.EMPTY_NODE;return ro(o,a)}}}else{const s=Jr(t.visibleWrites,e);if(!i&&Dp(s))return n;if(!i&&n==null&&!Ip(s,pe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(fn(u.path,e)||fn(e,u.path))},a=pT(t.allWrites,o,e),l=n||J.EMPTY_NODE;return ro(a,l)}}}function g4(t,e,n){let r=J.EMPTY_NODE;const i=rs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Le,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Jr(t.visibleWrites,e);return n.forEachChild(Le,(o,a)=>{const l=ro(Jr(s,new ke(o)),a);r=r.updateImmediateChild(o,l)}),Hw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Jr(t.visibleWrites,e);return Hw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function v4(t,e,n,r,i){H(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ke(e,n);if(Ip(t.visibleWrites,s))return null;{const o=Jr(t.visibleWrites,s);return Dp(o)?i.getChild(n):ro(o,i.getChild(n))}}function y4(t,e,n,r){const i=Ke(e,n),s=rs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Jr(t.visibleWrites,i);return ro(o,r.getNode().getImmediateChild(n))}else return null}function _4(t,e){return rs(t.visibleWrites,e)}function w4(t,e,n,r,i,s,o){let a;const l=Jr(t.visibleWrites,e),u=rs(l,pe());if(u!=null)a=u;else if(n!=null)a=ro(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=p.getNext();for(;g&&d.length<i;)f(g,r)!==0&&d.push(g),g=p.getNext();return d}else return[]}function E4(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function ju(t,e,n,r){return mT(t.writeTree,t.treePath,e,n,r)}function vg(t,e){return g4(t.writeTree,t.treePath,e)}function Bw(t,e,n,r){return v4(t.writeTree,t.treePath,e,n,r)}function Uu(t,e){return _4(t.writeTree,Ke(t.treePath,e))}function k4(t,e,n,r,i,s){return w4(t.writeTree,t.treePath,e,n,r,i,s)}function yg(t,e,n){return y4(t.writeTree,t.treePath,e,n)}function gT(t,e){return vT(Ke(t.treePath,e),t.writeTree)}function vT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Qa(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,qa(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,no(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Qa(r,e.snapshotNode,i.oldSnap));else throw ho("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const yT=new C4;class _g{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new oi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gi(this.viewCache_),s=k4(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){return{filter:t}}function I4(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function D4(t,e,n,r,i){const s=new S4;let o,a;if(n.type===pn.OVERWRITE){const u=n;u.source.fromUser?o=xp(t,e,u.path,u.snap,r,i,s):(H(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!se(u.path),o=Wu(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===pn.MERGE){const u=n;u.source.fromUser?o=P4(t,e,u.path,u.children,r,i,s):(H(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Pp(t,e,u.path,u.children,r,i,a,s))}else if(n.type===pn.ACK_USER_WRITE){const u=n;u.revert?o=R4(t,e,u.path,r,i,s):o=b4(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===pn.LISTEN_COMPLETE)o=N4(t,e,n.path,r,s);else throw ho("Unknown operation type: "+n.type);const l=s.getChanges();return x4(e,o,l),{viewCache:o,changes:l}}function x4(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Fu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cT(Fu(e)))}}function _T(t,e,n,r,i,s){const o=e.eventCache;if(Uu(r,n)!=null)return e;{let a,l;if(se(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Gi(e),d=u instanceof J?u:J.EMPTY_NODE,f=vg(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=ju(r,Gi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=le(n);if(u===".priority"){H(si(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const f=Bw(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=o.getNode()}else{const d=Se(n);let f;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const p=Bw(r,n,o.getNode(),l);p!=null?f=o.getNode().getImmediateChild(u).updateChild(d,p):f=o.getNode().getImmediateChild(u)}else f=yg(r,u,e.serverCache);f!=null?a=t.filter.updateChild(o.getNode(),u,f,d,i,s):a=o.getNode()}}return ma(e,a,o.isFullyInitialized()||se(n),t.filter.filtersNodes())}}function Wu(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(se(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const g=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),g,null)}else{const g=le(n);if(!l.isCompleteForPath(n)&&si(n)>1)return e;const _=Se(n),P=l.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=d.updatePriority(l.getNode(),P):u=d.updateChild(l.getNode(),g,P,_,yT,null)}const f=hT(e,u,l.isFullyInitialized()||se(n),d.filtersNodes()),p=new _g(i,f,s);return _T(t,f,n,i,p,a)}function xp(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const d=new _g(i,e,s);if(se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ma(e,u,!0,t.filter.filtersNodes());else{const f=le(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ma(e,u,a.isFullyInitialized(),a.isFiltered());else{const p=Se(n),g=a.getNode().getImmediateChild(f);let _;if(se(p))_=r;else{const T=d.getCompleteChild(f);T!=null?ZC(p)===".priority"&&T.getChild(tT(p)).isEmpty()?_=T:_=T.updateChild(p,r):_=J.EMPTY_NODE}if(g.equals(_))l=e;else{const T=t.filter.updateChild(a.getNode(),f,_,p,d,o);l=ma(e,T,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Yw(t,e){return t.eventCache.isCompleteForChild(e)}function P4(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=Ke(n,l);Yw(e,le(d))&&(a=xp(t,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=Ke(n,l);Yw(e,le(d))||(a=xp(t,a,d,u,i,s,o))}),a}function Vw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Pp(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;se(n)?u=r:u=new De(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,p)=>{if(d.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),_=Vw(t,g,p);l=Wu(t,l,new ke(f),_,i,s,o,a)}}),u.children.inorderTraversal((f,p)=>{const g=!e.serverCache.isCompleteForChild(f)&&p.value===null;if(!d.hasChild(f)&&!g){const _=e.serverCache.getNode().getImmediateChild(f),T=Vw(t,_,p);l=Wu(t,l,new ke(f),T,i,s,o,a)}}),l}function b4(t,e,n,r,i,s,o){if(Uu(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(se(n)){let u=new De(null);return l.getNode().forEachChild(Us,(d,f)=>{u=u.set(new ke(d),f)}),Pp(t,e,n,u,i,s,a,o)}else return e}else{let u=new De(null);return r.foreach((d,f)=>{const p=Ke(n,d);l.isCompleteForPath(p)&&(u=u.set(d,l.getNode().getChild(p)))}),Pp(t,e,n,u,i,s,a,o)}}function N4(t,e,n,r,i){const s=e.serverCache,o=hT(e,s.getNode(),s.isFullyInitialized()||se(n),s.isFiltered());return _T(t,o,n,r,yT,i)}function R4(t,e,n,r,i,s){let o;if(Uu(r,n)!=null)return e;{const a=new _g(r,e,i),l=e.eventCache.getNode();let u;if(se(n)||le(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=ju(r,Gi(e));else{const f=e.serverCache.getNode();H(f instanceof J,"serverChildren would be complete if leaf node"),d=vg(r,f)}d=d,u=t.filter.updateFullNode(l,d,s)}else{const d=le(n);let f=yg(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?u=t.filter.updateChild(l,d,f,Se(n),a,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,J.EMPTY_NODE,Se(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ju(r,Gi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Uu(r,pe())!=null,ma(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new fg(r.getIndex()),s=JF(r);this.processor_=T4(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(J.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(J.EMPTY_NODE,a.getNode(),null),d=new oi(l,o.isFullyInitialized(),i.filtersNodes()),f=new oi(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Cd(f,d),this.eventGenerator_=new s4(this.query_)}get query(){return this.query_}}function A4(t){return t.viewCache_.serverCache.getNode()}function M4(t){return Fu(t.viewCache_)}function L4(t,e){const n=Gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!se(e)&&!n.getImmediateChild(le(e)).isEmpty())?n.getChild(e):null}function zw(t){return t.eventRegistrations_.length===0}function F4(t,e){t.eventRegistrations_.push(e)}function $w(t,e,n){const r=[];if(n){H(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Kw(t,e,n,r){e.type===pn.MERGE&&e.source.queryId!==null&&(H(Gi(t.viewCache_),"We should always have a full cache before handling merges"),H(Fu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=D4(t.processor_,i,e,n,r);return I4(t.processor_,s.viewCache),H(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,wT(t,s.changes,s.viewCache.eventCache.getNode(),null)}function j4(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Le,(s,o)=>{r.push(no(s,o))}),n.isFullyInitialized()&&r.push(cT(n.getNode())),wT(t,r,n.getNode(),e)}function wT(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return o4(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class ET{constructor(){this.views=new Map}}function U4(t){H(!Hu,"__referenceConstructor has already been defined"),Hu=t}function W4(){return H(Hu,"Reference.ts has not been loaded"),Hu}function H4(t){return t.views.size===0}function wg(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return H(s!=null,"SyncTree gave us an op for an invalid query."),Kw(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Kw(o,e,n,r));return s}}function kT(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ju(n,i?r:null),l=!1;a?l=!0:r instanceof J?(a=vg(n,r),l=!1):(a=J.EMPTY_NODE,l=!1);const u=Cd(new oi(a,l,!1),new oi(r,i,!1));return new O4(e,u)}return o}function B4(t,e,n,r,i,s){const o=kT(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),F4(o,n),j4(o,n)}function Y4(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ai(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat($w(u,n,r)),zw(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat($w(l,n,r)),zw(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ai(t)&&s.push(new(W4())(e._repo,e._path)),{removed:s,events:o}}function ST(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zr(t,e){let n=null;for(const r of t.views.values())n=n||L4(r,e);return n}function CT(t,e){if(e._queryParams.loadsAllData())return Id(t);{const r=e._queryIdentifier;return t.views.get(r)}}function TT(t,e){return CT(t,e)!=null}function ai(t){return Id(t)!=null}function Id(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu;function V4(t){H(!Bu,"__referenceConstructor has already been defined"),Bu=t}function z4(){return H(Bu,"Reference.ts has not been loaded"),Bu}let $4=1;class Gw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=E4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IT(t,e,n,r,i){return u4(t.pendingWriteTree_,e,n,r,i),i?El(t,new Ki(dT(),e,n)):[]}function Pi(t,e,n=!1){const r=d4(t.pendingWriteTree_,e);if(h4(t.pendingWriteTree_,e)){let s=new De(null);return r.snap!=null?s=s.set(pe(),!0):jt(r.children,o=>{s=s.set(new ke(o),!0)}),El(t,new Lu(r.path,s,n))}else return[]}function wl(t,e,n){return El(t,new Ki(mg(),e,n))}function K4(t,e,n){const r=De.fromObject(n);return El(t,new Za(mg(),e,r))}function G4(t,e){return El(t,new Ja(mg(),e))}function q4(t,e,n){const r=kg(t,n);if(r){const i=Sg(r),s=i.path,o=i.queryId,a=kt(s,e),l=new Ja(gg(o),a);return Cg(t,s,l)}else return[]}function DT(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||TT(o,e))){const l=Y4(o,e,n,r);H4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const d=u.findIndex(p=>p._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(p,g)=>ai(g));if(d&&!f){const p=t.syncPointTree_.subtree(s);if(!p.isEmpty()){const g=Z4(p);for(let _=0;_<g.length;++_){const T=g[_],P=T.query,E=NT(t,T);t.listenProvider_.startListening(va(P),el(t,P),E.hashFn,E.onComplete)}}}!f&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(va(e),null):u.forEach(p=>{const g=t.queryToTagMap.get(Dd(p));t.listenProvider_.stopListening(va(p),g)}))}ej(t,u)}return a}function xT(t,e,n,r){const i=kg(t,r);if(i!=null){const s=Sg(i),o=s.path,a=s.queryId,l=kt(o,e),u=new Ki(gg(a),l,n);return Cg(t,o,u)}else return[]}function Q4(t,e,n,r){const i=kg(t,r);if(i){const s=Sg(i),o=s.path,a=s.queryId,l=kt(o,e),u=De.fromObject(n),d=new Za(gg(a),l,u);return Cg(t,o,d)}else return[]}function X4(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(p,g)=>{const _=kt(p,i);s=s||Zr(g,_),o=o||ai(g)});let a=t.syncPointTree_.get(i);a?(o=o||ai(a),s=s||Zr(a,pe())):(a=new ET,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=J.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,_)=>{const T=Zr(_,pe());T&&(s=s.updateImmediateChild(g,T))}));const u=TT(a,e);if(!u&&!e._queryParams.loadsAllData()){const p=Dd(e);H(!t.queryToTagMap.has(p),"View does not exist, but we have a tag");const g=tj();t.queryToTagMap.set(p,g),t.tagToQueryMap.set(g,p)}const d=Td(t.pendingWriteTree_,i);let f=B4(a,e,n,d,s,l);if(!u&&!o&&!r){const p=CT(a,e);f=f.concat(nj(t,e,p))}return f}function Eg(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=kt(o,e),u=Zr(a,l);if(u)return u});return mT(i,e,s,n,!0)}function J4(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const f=kt(u,n);r=r||Zr(d,f)});let i=t.syncPointTree_.get(n);i?r=r||Zr(i,pe()):(i=new ET,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new oi(r,!0,!1):null,a=Td(t.pendingWriteTree_,e._path),l=kT(i,e,a,s?o.getNode():J.EMPTY_NODE,s);return M4(l)}function El(t,e){return PT(e,t.syncPointTree_,null,Td(t.pendingWriteTree_,pe()))}function PT(t,e,n,r){if(se(t.path))return bT(t,e,n,r);{const i=e.get(pe());n==null&&i!=null&&(n=Zr(i,pe()));let s=[];const o=le(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,d=gT(r,o);s=s.concat(PT(a,l,u,d))}return i&&(s=s.concat(wg(i,t,r,n))),s}}function bT(t,e,n,r){const i=e.get(pe());n==null&&i!=null&&(n=Zr(i,pe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=gT(r,o),d=t.operationForChild(o);d&&(s=s.concat(bT(d,a,l,u)))}),i&&(s=s.concat(wg(i,t,r,n))),s}function NT(t,e){const n=e.query,r=el(t,n);return{hashFn:()=>(A4(e)||J.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?q4(t,n._path,r):G4(t,n._path);{const s=X2(i,n);return DT(t,n,null,s)}}}}function el(t,e){const n=Dd(e);return t.queryToTagMap.get(n)}function Dd(t){return t._path.toString()+"$"+t._queryIdentifier}function kg(t,e){return t.tagToQueryMap.get(e)}function Sg(t){const e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function Cg(t,e,n){const r=t.syncPointTree_.get(e);H(r,"Missing sync point for query tag that we're tracking");const i=Td(t.pendingWriteTree_,e);return wg(r,n,i,null)}function Z4(t){return t.fold((e,n,r)=>{if(n&&ai(n))return[Id(n)];{let i=[];return n&&(i=ST(n)),jt(r,(s,o)=>{i=i.concat(o)}),i}})}function va(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(z4())(t._repo,t._path):t}function ej(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Dd(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function tj(){return $4++}function nj(t,e,n){const r=e._path,i=el(t,e),s=NT(t,n),o=t.listenProvider_.startListening(va(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)H(!ai(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,d,f)=>{if(!se(u)&&d&&ai(d))return[Id(d).query];{let p=[];return d&&(p=p.concat(ST(d).map(g=>g.query))),jt(f,(g,_)=>{p=p.concat(_)}),p}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(va(d),el(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tg(n)}node(){return this.node_}}class Ig{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ke(this.path_,e);return new Ig(this.syncTree_,n)}node(){return Eg(this.syncTree_,this.path_)}}const rj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qw=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ij(t[".sv"],e,n);if(typeof t[".sv"]=="object")return sj(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ij=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},sj=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const i=e.node();if(H(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},oj=function(t,e,n,r){return Dg(e,new Ig(n,t),r)},RT=function(t,e,n){return Dg(t,new Tg(e),n)};function Dg(t,e,n){const r=t.getPriority().val(),i=qw(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=qw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new qe(a,Je(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qe(i))),o.forEachChild(Le,(a,l)=>{const u=Dg(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Pg(t,e){let n=e instanceof ke?e:new ke(e),r=t,i=le(n);for(;i!==null;){const s=Ks(r.node.children,i)||{children:{},childCount:0};r=new xg(i,r,s),n=Se(n),i=le(n)}return r}function yo(t){return t.node.value}function OT(t,e){t.node.value=e,bp(t)}function AT(t){return t.node.childCount>0}function aj(t){return yo(t)===void 0&&!AT(t)}function xd(t,e){jt(t.node.children,(n,r)=>{e(new xg(n,t,r))})}function MT(t,e,n,r){n&&!r&&e(t),xd(t,i=>{MT(i,e,!0,r)}),n&&r&&e(t)}function lj(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function kl(t){return new ke(t.parent===null?t.name:kl(t.parent)+"/"+t.name)}function bp(t){t.parent!==null&&cj(t.parent,t.name,t)}function cj(t,e,n){const r=aj(n),i=vr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,bp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,bp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=/[\[\].#$\/\u0000-\u001F\u007F]/,dj=/[\[\].#$\u0000-\u001F\u007F]/,ef=10*1024*1024,LT=function(t){return typeof t=="string"&&t.length!==0&&!uj.test(t)},FT=function(t){return typeof t=="string"&&t.length!==0&&!dj.test(t)},hj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FT(t)},fj=function(t,e,n,r){bg(Fm(t,"value"),e,n)},bg=function(t,e,n){const r=n instanceof ke?new bF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Si(r));if(typeof e=="function")throw new Error(t+"contains a function "+Si(r)+" with contents = "+e.toString());if(RC(e))throw new Error(t+"contains "+e.toString()+" "+Si(r));if(typeof e=="string"&&e.length>ef/3&&ud(e)>ef)throw new Error(t+"contains a string greater than "+ef+" utf8 bytes "+Si(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(jt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!LT(o)))throw new Error(t+" contains an invalid key ("+o+") "+Si(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NF(r,o),bg(t,a,r),RF(r)}),i&&s)throw new Error(t+' contains ".value" child '+Si(r)+" in addition to actual children.")}},jT=function(t,e,n,r){if(!FT(n))throw new Error(Fm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jT(t,e,n)},mj=function(t,e){if(le(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},gj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!LT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hj(n))throw new Error(Fm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function UT(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!nT(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Hn(t,e,n){UT(t,n),yj(t,r=>fn(r,e)||fn(e,r))}function yj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(_j(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function _j(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fa&&ft("event: "+n.toString()),vo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="repo_interrupt",Ej=25;class kj{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mu(),this.transactionQueueTree_=new xg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sj(t,e,n){if(t.stats_=cg(t.repoInfo_),t.forceRestClient_||tF())t.server_=new Au(t.repoInfo_,(r,i,s,o)=>{Qw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Xw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ar(t.repoInfo_,e,(r,i,s,o)=>{Qw(t,r,i,s,o)},r=>{Xw(t,r)},r=>{Tj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=oF(t.repoInfo_,()=>new i4(t.stats_,t.server_)),t.infoData_=new ZF,t.infoSyncTree_=new Gw({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=wl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Rg(t,"connected",!1),t.serverSyncTree_=new Gw({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Hn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Cj(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ng(t){return rj({timestamp:Cj(t)})}function Qw(t,e,n,r,i){t.dataUpdateCount++;const s=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=uu(n,u=>Je(u));o=Q4(t.serverSyncTree_,s,l,i)}else{const l=Je(n);o=xT(t.serverSyncTree_,s,l,i)}else if(r){const l=uu(n,u=>Je(u));o=K4(t.serverSyncTree_,s,l)}else{const l=Je(n);o=wl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=bd(t,s)),Hn(t.eventQueue_,a,o)}function Xw(t,e){Rg(t,"connected",e),e===!1&&xj(t)}function Tj(t,e){jt(e,(n,r)=>{Rg(t,n,r)})}function Rg(t,e,n){const r=new ke("/.info/"+e),i=Je(n);t.infoData_.updateSnapshot(r,i);const s=wl(t.infoSyncTree_,r,i);Hn(t.eventQueue_,r,s)}function WT(t){return t.nextWriteId_++}function Ij(t,e,n){const r=J4(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Je(i).withIndex(e._queryParams.getIndex());X4(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=wl(t.serverSyncTree_,e._path,s);else{const a=el(t.serverSyncTree_,e);o=xT(t.serverSyncTree_,e._path,s,a)}return Hn(t.eventQueue_,e._path,o),DT(t.serverSyncTree_,e,n,null,!0),s},i=>(Pd(t,"get for query "+$e(e)+" failed: "+i),Promise.reject(new Error(i))))}function Dj(t,e,n,r,i){Pd(t,"set",{path:e.toString(),value:n,priority:r});const s=Ng(t),o=Je(n,r),a=Eg(t.serverSyncTree_,e),l=RT(o,a,s),u=WT(t),d=IT(t.serverSyncTree_,e,l,u,!0);UT(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(p,g)=>{const _=p==="ok";_||Lt("set at "+e+" failed: "+p);const T=Pi(t.serverSyncTree_,u,!_);Hn(t.eventQueue_,e,T),bj(t,i,p,g)});const f=zT(t,e);bd(t,f),Hn(t.eventQueue_,f,[])}function xj(t){Pd(t,"onDisconnectEvents");const e=Ng(t),n=Mu();Tp(t.onDisconnect_,pe(),(i,s)=>{const o=oj(i,s,t.serverSyncTree_,e);uT(n,i,o)});let r=[];Tp(n,pe(),(i,s)=>{r=r.concat(wl(t.serverSyncTree_,i,s));const o=zT(t,i);bd(t,o)}),t.onDisconnect_=Mu(),Hn(t.eventQueue_,pe(),r)}function Pj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wj)}function Pd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ft(n,...e)}function bj(t,e,n,r){e&&vo(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function HT(t,e,n){return Eg(t.serverSyncTree_,e,n)||J.EMPTY_NODE}function Og(t,e=t.transactionQueueTree_){if(e||Nd(t,e),yo(e)){const n=YT(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Nj(t,kl(e),n)}else AT(e)&&xd(e,n=>{Og(t,n)})}function Nj(t,e,n){const r=n.map(u=>u.currentWriteId),i=HT(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];H(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=kt(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{Pd(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let p=0;p<n.length;p++)n[p].status=2,d=d.concat(Pi(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&f.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();Nd(t,Pg(t.transactionQueueTree_,e)),Og(t,t.transactionQueueTree_),Hn(t.eventQueue_,e,d);for(let p=0;p<f.length;p++)vo(f[p])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Lt("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}bd(t,e)}},o)}function bd(t,e){const n=BT(t,e),r=kl(n),i=YT(t,n);return Rj(t,i,r),r}function Rj(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=kt(n,l.path);let d=!1,f;if(H(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ej)d=!0,f="maxretry",i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0));else{const p=HT(t,l.path,o);l.currentInputSnapshot=p;const g=e[a].update(p.val());if(g!==void 0){bg("transaction failed: Data returned ",g,l.path);let _=Je(g);typeof g=="object"&&g!=null&&vr(g,".priority")||(_=_.updatePriority(p.getPriority()));const P=l.currentWriteId,E=Ng(t),w=RT(_,p,E);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=w,l.currentWriteId=WT(t),o.splice(o.indexOf(P),1),i=i.concat(IT(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(Pi(t.serverSyncTree_,P,!0))}else d=!0,f="nodata",i=i.concat(Pi(t.serverSyncTree_,l.currentWriteId,!0))}Hn(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}Nd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vo(r[a]);Og(t,t.transactionQueueTree_)}function BT(t,e){let n,r=t.transactionQueueTree_;for(n=le(e);n!==null&&yo(r)===void 0;)r=Pg(r,n),e=Se(e),n=le(e);return r}function YT(t,e){const n=[];return VT(t,e,n),n.sort((r,i)=>r.order-i.order),n}function VT(t,e,n){const r=yo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xd(e,i=>{VT(t,i,n)})}function Nd(t,e){const n=yo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,OT(e,n.length>0?n:void 0)}xd(e,r=>{Nd(t,r)})}function zT(t,e){const n=kl(BT(t,e)),r=Pg(t.transactionQueueTree_,e);return lj(r,i=>{tf(t,i)}),tf(t,r),MT(r,i=>{tf(t,i)}),n}function tf(t,e){const n=yo(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(H(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(H(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Pi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?OT(e,void 0):n.length=s+1,Hn(t.eventQueue_,kl(e),i);for(let o=0;o<r.length;o++)vo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Aj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Lt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Jw=function(t,e){const n=Mj(t),r=n.namespace;n.domain==="firebase.com"&&mr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$2();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new VC(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ke(n.pathString)}},Mj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=Oj(t.substring(d,f)));const p=Aj(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())}}class Fj{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return se(this._path)?null:ZC(this._path)}get ref(){return new _r(this._repo,this._path)}get _queryIdentifier(){const e=Fw(this._queryParams),n=ag(e);return n==="{}"?"default":n}get _queryObject(){return Fw(this._queryParams)}isEqual(e){if(e=tt(e),!(e instanceof Ag))return!1;const n=this._repo===e._repo,r=nT(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PF(this._path)}}class _r extends Ag{constructor(e,n){super(e,n,new pg,!1)}get parent(){const e=tT(this._path);return e===null?null:new _r(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class tl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ke(e),r=Np(this.ref,e);return new tl(this._node.getChild(n),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new tl(i,Np(this.ref,r),Le)))}hasChild(e){const n=new ke(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nf(t,e){return t=tt(t),t._checkNotDeleted("ref"),e!==void 0?Np(t._root,e):t._root}function Np(t,e){return t=tt(t),le(t._path)===null?pj("child","path",e):jT("child","path",e),new _r(t._repo,Ke(t._path,e))}function Zw(t,e){t=tt(t),mj("set",t._path),fj("set",e,t._path);const n=new cd;return Dj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function e0(t){t=tt(t);const e=new jj(()=>{}),n=new Mg(e);return Ij(t._repo,t,n).then(r=>new tl(r,new _r(t._repo,t._path),t._queryParams.getIndex()))}class Mg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Lj("value",this,new tl(e.snapshotNode,new _r(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Fj(this,e,n):null}matches(e){return e instanceof Mg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}U4(_r);V4(_r);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="FIREBASE_DATABASE_EMULATOR_HOST",Rp={};let Wj=!1;function Hj(t,e,n,r){t.repoInfo_=new VC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Bj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Jw(s,i),a=o.repoInfo,l;typeof process<"u"&&_w&&(l=_w[Uj]),l?(s=`http://${l}?ns=${a.namespace}`,o=Jw(s,i),a=o.repoInfo):o.repoInfo.secure;const u=new rF(t.name,t.options,e);gj("Invalid Firebase Database URL",o),se(o.path)||mr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Vj(a,t,u,new nF(t.name,n));return new zj(d,t)}function Yj(t,e){const n=Rp[e];(!n||n[t.key]!==t)&&mr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Pj(t),delete n[t.key]}function Vj(t,e,n,r){let i=Rp[e.name];i||(i={},Rp[e.name]=i);let s=i[t.toURLString()];return s&&mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new kj(t,Wj,n,r),i[t.toURLString()]=s,s}class zj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Sj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _r(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Yj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mr("Cannot call "+e+" on a deleted database.")}}function $j(t=dd(),e){const n=fi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Xk("database");r&&Kj(n,...r)}return n}function Kj(t,e,n,r={}){t=tt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&mr("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&mr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Mc(Mc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:eS(r.mockUserToken,t.app.options.projectId);s=new Mc(o)}Hj(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){W2(es),wn(new rn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Bj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Mt(ww,Ew,t),Mt(ww,Ew,"esm2017")}ar.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ar.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Gj();const qj="/Hasty/default-user.webp",t0="/Hasty/turtle.png",n0="/Hasty/elephant.png",r0="/Hasty/cat.png",i0="/Hasty/dog.png",s0="/Hasty/hare.png";function Qj(){return D.jsx("section",{className:"loader",children:D.jsx("figure",{children:D.jsx("img",{src:"/loader.gif",alt:"loader"})})})}const Xj=({rating:t,reviews:e})=>D.jsxs("div",{className:"star-rating",children:[D.jsx("span",{className:"rating-number",children:t}),[...Array(5)].map((r,i)=>{const s=i+1;return D.jsx("span",{className:"star",children:s<=t?D.jsx("span",{className:"filled-star",children:D.jsx("img",{src:"/filledstar.svg",alt:"Udfyldt stjerne"})}):D.jsx("span",{className:"empty-star",children:D.jsx("img",{src:"/emptystar.svg",alt:"Tom stjerne"})})},i)}),D.jsxs("span",{className:"reviews",children:["(",e,")"]})]});function Jj(){const t=hl(),e=t.currentUser,n=$j(),[r,i]=R.useState(""),[s,o]=R.useState(""),[a,l]=R.useState(""),[u,d]=R.useState(""),[f,p]=R.useState(!0),[g,_]=R.useState(""),[T,P]=R.useState(""),[E,w]=R.useState(!1),[C,O]=R.useState(0),[L,j]=R.useState(""),[k,v]=R.useState(""),[S,I]=R.useState(!1),[b,N]=R.useState(""),x={Skilpadde:t0,Elefant:n0,Kat:r0,Hund:i0,Hare:s0},ee={Skilpadde:"Du er skilpadde rank, stadig begynder. Udfør flere opgaver for at stige i rank",Elefant:"Du på vej opad, nu elefant rank! Udfør flere opgaver for at stige i rank",Kat:"Du er rank kat!  Fortsæt med at udføre opgaver for at nå næste niveau",Hund:"Du er rank hund, du er der næsten! Udfør flere opgaver for at komme i højeste rank",Hare:"Tillykke du er nu en ægte Hasty-Hare"};R.useEffect(()=>{e&&(async()=>{p(!0);const te=nf(n,"users/"+e.uid);try{const ae=await e0(te);if(ae.exists()){const Ve=ae.val();i(Ve.name||""),o(Ve.profileImage||""),_(Ve.creationDate||""),O(Ve.completedTasks||0),P(Ve.profileDescription||"")}else console.log("Ingen bruger data fundet!")}catch(ae){console.error("Fejl ved hentning af brugerdata: ",ae),l("Der opstod en fejl ved hentning af brugerdata.")}finally{p(!1)}})()},[e,n]),R.useEffect(()=>{if(e){const Q=nf(n,"users/"+e.uid);(async()=>{const Ve=(await e0(Q)).val();if(!Ve||!Ve.creationDate){const on={year:"numeric",month:"long",day:"numeric"},Gt=new Date().toLocaleDateString("da-DK",on);await Zw(Q,{...Ve,creationDate:Gt}),_(Gt)}})()}},[e,n]);const ne=async Q=>{if(Q.preventDefault(),r===""){l("Alle felter skal udfyldes");return}try{const te=nf(n,"users/"+e.uid);await Zw(te,{name:r,profileImage:s,creationDate:g,profileDescription:T,completedTasks:C}),d("Profil opdateret!"),l(""),w(!1),setTimeout(()=>{d("")},2e3)}catch(te){console.error("Fejl ved opdatering af profil: ",te),l("Kunne ikke opdatere profil: "+te.message)}},q=()=>{rR(t).then(()=>{console.log("Bruger logget ud!")}).catch(Q=>{console.error("Fejl ved logout: ",Q)})},X=Q=>{const te=Q.target.files[0];if(te){const ae=new FileReader;ae.onloadend=()=>{o(ae.result)},ae.readAsDataURL(te)}},U=()=>{document.getElementById("file-input").click()},z=()=>{w(!0)};R.useEffect(()=>{const te=(ae=>ae<=5?"Skilpadde":ae<=10?"Elefant":ae<=15?"Kat":ae<=20?"Hund":"Hare")(C);j(te),v(x[te]),N(ee[te])},[C]);const G=()=>{I(!S)};return D.jsx("section",{className:"profile-wrapper",children:D.jsxs("div",{className:"profile-page",children:[f?D.jsx(Qj,{}):D.jsxs("form",{onSubmit:ne,className:"profilelementer",children:[D.jsx("div",{onClick:U,style:{cursor:"pointer"},children:D.jsx("img",{src:s||qj,alt:"Profilbillede",style:{width:"200px",height:"200px",borderRadius:"50%",marginTop:"-100px",objectFit:"cover",boxShadow:"0px 2px 16.5px rgba(0, 0, 0, 0.25)"}})}),D.jsx("input",{type:"text",value:r,onChange:Q=>i(Q.target.value),placeholder:"Navn",style:{background:E?"rgba(255, 255, 255, 0.5)":"transparent",border:E?"1px solid #ccc":"none"},disabled:!E}),D.jsx("input",{id:"file-input",type:"file",accept:"image/*",onChange:X,style:{display:"none"}}),D.jsx("p",{className:"text-error",children:a}),D.jsx("p",{className:"text-success",children:u}),D.jsx("button",{className:"nextbtn btn2",type:"button",onClick:E?ne:z,children:E?"Gem Ændringer":"Rediger Profil"}),D.jsx("button",{className:"nextbtn",type:"button",onClick:q,children:"Log Ud"})]}),D.jsx(Xj,{rating:3,reviews:34}),D.jsx("div",{className:"oprettelsesdato",children:D.jsxs("h2",{children:["Medlem siden: ",g]})}),D.jsxs("div",{className:"profilopgaver",children:[D.jsxs("article",{children:[D.jsx("h2",{children:"13"}),D.jsx("span",{children:"Opgaver oprettet"})]}),D.jsxs("article",{children:[D.jsx("h2",{children:"2"}),D.jsx("span",{children:"Igangværende opgaver"})]}),D.jsxs("article",{children:[D.jsx("h2",{children:C}),D.jsx("span",{children:"Udførte opgaver"})]})]}),D.jsx("div",{className:"profiledescription",children:D.jsx("textarea",{type:"text",id:"description",value:T,onChange:Q=>P(Q.target.value),name:"description",placeholder:"Tilføj en kort tekst om dig selv og dine kompetencer",style:{background:E?"rgba(255, 255, 255, 0.5)":"transparent"},disabled:!E})}),D.jsx("div",{className:"profil-rang",children:D.jsx("img",{src:k,alt:L,onClick:G,style:{cursor:"pointer"}})}),S&&D.jsxs("div",{className:"rankcontainer",children:[D.jsx("p",{children:"Rank System"}),D.jsxs("div",{className:"rankdescription",children:[D.jsx("div",{className:C<=5?"active":"",children:D.jsx("img",{src:t0,alt:"Skilpadde"})}),D.jsx("div",{className:C>5&&C<=10?"active":"",children:D.jsx("img",{src:n0,alt:"Elefant"})}),D.jsx("div",{className:C>10&&C<=15?"active":"",children:D.jsx("img",{src:r0,alt:"Kat"})}),D.jsx("div",{className:C>15&&C<=20?"active":"",children:D.jsx("img",{src:i0,alt:"Hund"})}),D.jsx("div",{className:C>20?"active":"",children:D.jsx("img",{src:s0,alt:"Hare"})})]}),D.jsxs("div",{className:"rank-beskrivelse",children:[D.jsx("p",{children:b})," "]})]})]})})}function Zj(){const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,s]=R.useState(""),[o,a]=R.useState(""),l=hl();function u(f){if(f.preventDefault(),t===""||n===""||i===""){a("Alle felter skal udfyldes");return}QN(l,n,i).then(async p=>{const g=p.user;console.log(g);try{await ZN(g,{displayName:t}),console.log("User profile updated with name")}catch(_){console.error("Error updating profile: ",_),a("Kunne ikke opdatere profil")}await d(g.uid,n)}).catch(p=>{let g=p.code.replace(/-/g," ").replace("auth/","");switch(console.log(g),g){case"email already in use":a("Email allerede i brug");break;default:a(g);break}})}async function d(f,p){const g=`https://hasty-f0e75-default-rtdb.firebaseio.com/users/${f}.json`,_=await fetch(g,{method:"PUT",body:JSON.stringify({name:t,mail:p}),headers:{"Content-Type":"application/json"}});if(_.ok){const T=await _.json();console.log("New user created: ",T)}else console.log("Sorry, something went wrong")}return D.jsx("section",{className:"login-form",children:D.jsxs("form",{onSubmit:u,children:[D.jsx("img",{src:"/logo.svg",className:"logo",alt:"Hasty Logo"}),D.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Navn"}),D.jsx("input",{type:"email",value:n,onChange:f=>r(f.target.value),placeholder:"Mail"}),D.jsx("input",{type:"password",value:i,onChange:f=>s(f.target.value),placeholder:"Kodeord"}),D.jsx("p",{className:"text-error",children:o}),D.jsx("button",{children:"Opret Konto"}),D.jsxs("p",{className:"text-center",children:["Er du allerede oprettet?"," ",D.jsx(Fr,{className:"text-link",to:"/sign-in",children:"Login"})]})]})})}function eU(){const[t,e]=R.useState(""),n=hl();function r(i){i.preventDefault();const s=i.target.mail.value,o=i.target.password.value;XN(n,s,o).then(a=>{const l=a.user;console.log(l)}).catch(a=>{let l=a.code;switch(console.log(l),l=l.replace(/-/g," ").replace("auth/",""),l){case"invalid credential":e("Forkert adgangskode");break;case"too many attempts":e("For mange forsøg");break}})}return D.jsx("section",{className:"login-form",children:D.jsxs("form",{onSubmit:r,children:[D.jsx("img",{src:"/logo.svg",className:"logo",alt:"Hasty Logo"}),D.jsx("input",{type:"email",name:"mail",placeholder:"Mail",required:!0}),D.jsx("input",{type:"password",name:"password",placeholder:"Kodeord",required:!0}),D.jsx("p",{className:"text-error",children:t}),D.jsx("button",{type:"submit",children:"Login"}),D.jsxs("p",{className:"text-center",children:["Er du ikke medlem endnu?"," ",D.jsx(Fr,{className:"text-link",to:"/sign-up",children:"Opret konto"})]})]})})}function tU({activeClass:t,setActiveClass:e}){const n=parseInt(t,10);return D.jsx("nav",{children:D.jsxs("ul",{children:[D.jsx("li",{className:n===0?"active":"",children:D.jsx(Fr,{to:"/",onClick:()=>e(0),children:D.jsx("img",{src:"/home.webp",alt:"Home icon"})})}),D.jsx("li",{className:n===1?"active":"",children:D.jsx(Fr,{to:"/klaropgave",onClick:()=>e(1),children:D.jsx("img",{src:"/tasks.webp",alt:"Tasks icon"})})}),D.jsx("li",{className:n===2?"active":"",children:D.jsx(Fr,{to:"/opretopgave",onClick:()=>e(2),children:D.jsx("img",{src:"/addtask.webp",alt:"Add task icon"})})}),D.jsx("li",{className:n===3?"active":"",children:D.jsx(Fr,{to:"/profile",onClick:()=>e(3),children:D.jsx("img",{src:"/user.webp",alt:"Bruger icon"})})})]})})}var nU="firebase",rU="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt(nU,rU,"app");const $T="@firebase/installations",Lg="0.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=1e4,GT=`w:${Lg}`,qT="FIS_v2",iU="https://firebaseinstallations.googleapis.com/v1",sU=60*60*1e3,oU="installations",aU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qi=new Zi(oU,aU,lU);function QT(t){return t instanceof Sn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT({projectId:t}){return`${iU}/projects/${t}/installations`}function JT(t){return{token:t.token,requestStatus:2,expiresIn:uU(t.expiresIn),creationTime:Date.now()}}async function ZT(t,e){const r=(await e.json()).error;return qi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function e1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cU(t,{refreshToken:e}){const n=e1(t);return n.append("Authorization",dU(e)),n}async function t1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function uU(t){return Number(t.replace("s","000"))}function dU(t){return`${qT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=XT(t),i=e1(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:qT,appId:t.appId,sdkVersion:GT},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await t1(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:JT(u.authToken)}}else throw await ZT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/^[cdef][\w-]{21}$/,Op="";function mU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gU(t);return pU.test(n)?n:Op}catch{return Op}}function gU(t){return fU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;function i1(t,e){const n=Rd(t);s1(n,e),vU(n,e)}function s1(t,e){const n=r1.get(t);if(n)for(const r of n)r(e)}function vU(t,e){const n=yU();n&&n.postMessage({key:t,fid:e}),_U()}let bi=null;function yU(){return!bi&&"BroadcastChannel"in self&&(bi=new BroadcastChannel("[Firebase] FID Change"),bi.onmessage=t=>{s1(t.data.key,t.data.fid)}),bi}function _U(){r1.size===0&&bi&&(bi.close(),bi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="firebase-installations-database",EU=1,Qi="firebase-installations-store";let rf=null;function Fg(){return rf||(rf=cS(wU,EU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qi)}}})),rf}async function Yu(t,e){const n=Rd(t),i=(await Fg()).transaction(Qi,"readwrite"),s=i.objectStore(Qi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&i1(t,e.fid),e}async function o1(t){const e=Rd(t),r=(await Fg()).transaction(Qi,"readwrite");await r.objectStore(Qi).delete(e),await r.done}async function Od(t,e){const n=Rd(t),i=(await Fg()).transaction(Qi,"readwrite"),s=i.objectStore(Qi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&i1(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(t){let e;const n=await Od(t.appConfig,r=>{const i=kU(r),s=SU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Op?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kU(t){const e=t||{fid:mU(),registrationStatus:0};return a1(e)}function SU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(qi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=CU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TU(t)}:{installationEntry:e}}async function CU(t,e){try{const n=await hU(t,e);return Yu(t.appConfig,n)}catch(n){throw QT(n)&&n.customData.serverCode===409?await o1(t.appConfig):await Yu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TU(t){let e=await o0(t.appConfig);for(;e.registrationStatus===1;)await n1(100),e=await o0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await jg(t);return r||n}return e}function o0(t){return Od(t,e=>{if(!e)throw qi.create("installation-not-found");return a1(e)})}function a1(t){return IU(t)?{fid:t.fid,registrationStatus:0}:t}function IU(t){return t.registrationStatus===1&&t.registrationTime+KT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU({appConfig:t,heartbeatServiceProvider:e},n){const r=xU(t,n),i=cU(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:GT,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await t1(()=>fetch(r,a));if(l.ok){const u=await l.json();return JT(u)}else throw await ZT("Generate Auth Token",l)}function xU(t,{fid:e}){return`${XT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t,e=!1){let n;const r=await Od(t.appConfig,s=>{if(!l1(s))throw qi.create("not-registered");const o=s.authToken;if(!e&&NU(o))return s;if(o.requestStatus===1)return n=PU(t,e),s;{if(!navigator.onLine)throw qi.create("app-offline");const a=OU(s);return n=bU(t,a),a}});return n?await n:r.authToken}async function PU(t,e){let n=await a0(t.appConfig);for(;n.authToken.requestStatus===1;)await n1(100),n=await a0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ug(t,e):r}function a0(t){return Od(t,e=>{if(!l1(e))throw qi.create("not-registered");const n=e.authToken;return AU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function bU(t,e){try{const n=await DU(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Yu(t.appConfig,r),n}catch(n){if(QT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await o1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Yu(t.appConfig,r)}throw n}}function l1(t){return t!==void 0&&t.registrationStatus===2}function NU(t){return t.requestStatus===2&&!RU(t)}function RU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sU}function OU(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function AU(t){return t.requestStatus===1&&t.requestTime+KT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MU(t){const e=t,{installationEntry:n,registrationPromise:r}=await jg(e);return r?r.catch(console.error):Ug(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e=!1){const n=t;return await FU(n),(await Ug(n,e)).token}async function FU(t){const{registrationPromise:e}=await jg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){if(!t||!t.options)throw sf("App Configuration");if(!t.name)throw sf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function sf(t){return qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="installations",UU="installations-internal",WU=t=>{const e=t.getProvider("app").getImmediate(),n=jU(e),r=fi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},HU=t=>{const e=t.getProvider("app").getImmediate(),n=fi(e,c1).getImmediate();return{getId:()=>MU(n),getToken:i=>LU(n,i)}};function BU(){wn(new rn(c1,WU,"PUBLIC")),wn(new rn(UU,HU,"PRIVATE"))}BU();Mt($T,Lg);Mt($T,Lg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="analytics",YU="firebase_id",VU="origin",zU=60*1e3,$U="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new al("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vt=new Zi("analytics","Analytics",KU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){if(!t.startsWith(Wg)){const e=Vt.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function u1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function QU(t,e){const n=qU("firebase-js-sdk-policy",{createScriptURL:GU}),r=document.createElement("script"),i=`${Wg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function XU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function JU(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await u1(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ft.error(a)}t("config",i,s)}async function ZU(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await u1(n);for(const l of o){const u=a.find(f=>f.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ft.error(s)}}function e3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await ZU(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await JU(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ft.error(a)}}return i}function t3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=e3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function n3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=30,i3=1e3;class s3{constructor(e={},n=i3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const d1=new s3;function o3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function a3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:o3(r)},s=$U.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Vt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function l3(t,e=d1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Vt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new d3;return setTimeout(async()=>{a.abort()},zU),h1({appId:r,apiKey:i,measurementId:s},o,a,e)}async function h1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=d1){var s;const{appId:o,measurementId:a}=t;try{await c3(r,e)}catch(l){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await a3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!u3(u)){if(i.deleteThrottleMetadata(o),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?c_(n,i.intervalMillis,r3):c_(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,f),Ft.debug(`Calling attemptFetch again in ${d} millis`),h1(t,f,r,i)}}function c3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function u3(t){if(!(t instanceof Sn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class d3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function h3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(){if(iS())try{await sS()}catch(t){return Ft.warn(Vt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ft.warn(Vt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function p3(t,e,n,r,i,s,o){var a;const l=l3(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ft.error(g)),e.push(l);const u=f3().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,u]);n3(s)||QU(s,d.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[VU]="firebase",p.update=!0,f!=null&&(p[YU]=f),i("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.app=e}_delete(){return delete ya[this.app.options.appId],Promise.resolve()}}let ya={},l0=[];const c0={};let of="dataLayer",g3="gtag",u0,f1,d0=!1;function v3(){const t=[];if(tS()&&t.push("This is a browser extension environment."),OP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vt.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}function y3(t,e,n){v3();const r=t.options.appId;if(!r)throw Vt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vt.create("no-api-key");if(ya[r]!=null)throw Vt.create("already-exists",{id:r});if(!d0){XU(of);const{wrappedGtag:s,gtagCore:o}=t3(ya,l0,c0,of,g3);f1=s,u0=o,d0=!0}return ya[r]=p3(t,l0,c0,e,u0,of,n),new m3(t)}function _3(t=dd()){t=tt(t);const e=fi(t,Vu);return e.isInitialized()?e.getImmediate():w3(t)}function w3(t,e={}){const n=fi(t,Vu);if(n.isInitialized()){const i=n.getImmediate();if(Ha(e,n.getOptions()))return i;throw Vt.create("already-initialized")}return n.initialize({options:e})}function E3(t,e,n,r){t=tt(t),h3(f1,ya[t.app.options.appId],e,n,r).catch(i=>Ft.error(i))}const h0="@firebase/analytics",f0="0.10.9";function k3(){wn(new rn(Vu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return y3(r,i,n)},"PUBLIC")),wn(new rn("analytics-internal",t,"PRIVATE")),Mt(h0,f0),Mt(h0,f0,"esm2017");function t(e){try{const n=e.getProvider(Vu).getImmediate();return{logEvent:(r,i,s)=>E3(n,r,i,s)}}catch(n){throw Vt.create("interop-component-reg-failed",{reason:n})}}}k3();var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,v){function S(){}S.prototype=v.prototype,k.D=v.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(I,b,N){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return v.prototype[b].apply(I,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,v,S){S||(S=0);var I=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)I[b]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(b=0;16>b;++b)I[b]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=k.g[0],S=k.g[1],b=k.g[2];var N=k.g[3],x=v+(N^S&(b^N))+I[0]+3614090360&4294967295;v=S+(x<<7&4294967295|x>>>25),x=N+(b^v&(S^b))+I[1]+3905402710&4294967295,N=v+(x<<12&4294967295|x>>>20),x=b+(S^N&(v^S))+I[2]+606105819&4294967295,b=N+(x<<17&4294967295|x>>>15),x=S+(v^b&(N^v))+I[3]+3250441966&4294967295,S=b+(x<<22&4294967295|x>>>10),x=v+(N^S&(b^N))+I[4]+4118548399&4294967295,v=S+(x<<7&4294967295|x>>>25),x=N+(b^v&(S^b))+I[5]+1200080426&4294967295,N=v+(x<<12&4294967295|x>>>20),x=b+(S^N&(v^S))+I[6]+2821735955&4294967295,b=N+(x<<17&4294967295|x>>>15),x=S+(v^b&(N^v))+I[7]+4249261313&4294967295,S=b+(x<<22&4294967295|x>>>10),x=v+(N^S&(b^N))+I[8]+1770035416&4294967295,v=S+(x<<7&4294967295|x>>>25),x=N+(b^v&(S^b))+I[9]+2336552879&4294967295,N=v+(x<<12&4294967295|x>>>20),x=b+(S^N&(v^S))+I[10]+4294925233&4294967295,b=N+(x<<17&4294967295|x>>>15),x=S+(v^b&(N^v))+I[11]+2304563134&4294967295,S=b+(x<<22&4294967295|x>>>10),x=v+(N^S&(b^N))+I[12]+1804603682&4294967295,v=S+(x<<7&4294967295|x>>>25),x=N+(b^v&(S^b))+I[13]+4254626195&4294967295,N=v+(x<<12&4294967295|x>>>20),x=b+(S^N&(v^S))+I[14]+2792965006&4294967295,b=N+(x<<17&4294967295|x>>>15),x=S+(v^b&(N^v))+I[15]+1236535329&4294967295,S=b+(x<<22&4294967295|x>>>10),x=v+(b^N&(S^b))+I[1]+4129170786&4294967295,v=S+(x<<5&4294967295|x>>>27),x=N+(S^b&(v^S))+I[6]+3225465664&4294967295,N=v+(x<<9&4294967295|x>>>23),x=b+(v^S&(N^v))+I[11]+643717713&4294967295,b=N+(x<<14&4294967295|x>>>18),x=S+(N^v&(b^N))+I[0]+3921069994&4294967295,S=b+(x<<20&4294967295|x>>>12),x=v+(b^N&(S^b))+I[5]+3593408605&4294967295,v=S+(x<<5&4294967295|x>>>27),x=N+(S^b&(v^S))+I[10]+38016083&4294967295,N=v+(x<<9&4294967295|x>>>23),x=b+(v^S&(N^v))+I[15]+3634488961&4294967295,b=N+(x<<14&4294967295|x>>>18),x=S+(N^v&(b^N))+I[4]+3889429448&4294967295,S=b+(x<<20&4294967295|x>>>12),x=v+(b^N&(S^b))+I[9]+568446438&4294967295,v=S+(x<<5&4294967295|x>>>27),x=N+(S^b&(v^S))+I[14]+3275163606&4294967295,N=v+(x<<9&4294967295|x>>>23),x=b+(v^S&(N^v))+I[3]+4107603335&4294967295,b=N+(x<<14&4294967295|x>>>18),x=S+(N^v&(b^N))+I[8]+1163531501&4294967295,S=b+(x<<20&4294967295|x>>>12),x=v+(b^N&(S^b))+I[13]+2850285829&4294967295,v=S+(x<<5&4294967295|x>>>27),x=N+(S^b&(v^S))+I[2]+4243563512&4294967295,N=v+(x<<9&4294967295|x>>>23),x=b+(v^S&(N^v))+I[7]+1735328473&4294967295,b=N+(x<<14&4294967295|x>>>18),x=S+(N^v&(b^N))+I[12]+2368359562&4294967295,S=b+(x<<20&4294967295|x>>>12),x=v+(S^b^N)+I[5]+4294588738&4294967295,v=S+(x<<4&4294967295|x>>>28),x=N+(v^S^b)+I[8]+2272392833&4294967295,N=v+(x<<11&4294967295|x>>>21),x=b+(N^v^S)+I[11]+1839030562&4294967295,b=N+(x<<16&4294967295|x>>>16),x=S+(b^N^v)+I[14]+4259657740&4294967295,S=b+(x<<23&4294967295|x>>>9),x=v+(S^b^N)+I[1]+2763975236&4294967295,v=S+(x<<4&4294967295|x>>>28),x=N+(v^S^b)+I[4]+1272893353&4294967295,N=v+(x<<11&4294967295|x>>>21),x=b+(N^v^S)+I[7]+4139469664&4294967295,b=N+(x<<16&4294967295|x>>>16),x=S+(b^N^v)+I[10]+3200236656&4294967295,S=b+(x<<23&4294967295|x>>>9),x=v+(S^b^N)+I[13]+681279174&4294967295,v=S+(x<<4&4294967295|x>>>28),x=N+(v^S^b)+I[0]+3936430074&4294967295,N=v+(x<<11&4294967295|x>>>21),x=b+(N^v^S)+I[3]+3572445317&4294967295,b=N+(x<<16&4294967295|x>>>16),x=S+(b^N^v)+I[6]+76029189&4294967295,S=b+(x<<23&4294967295|x>>>9),x=v+(S^b^N)+I[9]+3654602809&4294967295,v=S+(x<<4&4294967295|x>>>28),x=N+(v^S^b)+I[12]+3873151461&4294967295,N=v+(x<<11&4294967295|x>>>21),x=b+(N^v^S)+I[15]+530742520&4294967295,b=N+(x<<16&4294967295|x>>>16),x=S+(b^N^v)+I[2]+3299628645&4294967295,S=b+(x<<23&4294967295|x>>>9),x=v+(b^(S|~N))+I[0]+4096336452&4294967295,v=S+(x<<6&4294967295|x>>>26),x=N+(S^(v|~b))+I[7]+1126891415&4294967295,N=v+(x<<10&4294967295|x>>>22),x=b+(v^(N|~S))+I[14]+2878612391&4294967295,b=N+(x<<15&4294967295|x>>>17),x=S+(N^(b|~v))+I[5]+4237533241&4294967295,S=b+(x<<21&4294967295|x>>>11),x=v+(b^(S|~N))+I[12]+1700485571&4294967295,v=S+(x<<6&4294967295|x>>>26),x=N+(S^(v|~b))+I[3]+2399980690&4294967295,N=v+(x<<10&4294967295|x>>>22),x=b+(v^(N|~S))+I[10]+4293915773&4294967295,b=N+(x<<15&4294967295|x>>>17),x=S+(N^(b|~v))+I[1]+2240044497&4294967295,S=b+(x<<21&4294967295|x>>>11),x=v+(b^(S|~N))+I[8]+1873313359&4294967295,v=S+(x<<6&4294967295|x>>>26),x=N+(S^(v|~b))+I[15]+4264355552&4294967295,N=v+(x<<10&4294967295|x>>>22),x=b+(v^(N|~S))+I[6]+2734768916&4294967295,b=N+(x<<15&4294967295|x>>>17),x=S+(N^(b|~v))+I[13]+1309151649&4294967295,S=b+(x<<21&4294967295|x>>>11),x=v+(b^(S|~N))+I[4]+4149444226&4294967295,v=S+(x<<6&4294967295|x>>>26),x=N+(S^(v|~b))+I[11]+3174756917&4294967295,N=v+(x<<10&4294967295|x>>>22),x=b+(v^(N|~S))+I[2]+718787259&4294967295,b=N+(x<<15&4294967295|x>>>17),x=S+(N^(b|~v))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+v&4294967295,k.g[1]=k.g[1]+(b+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+b&4294967295,k.g[3]=k.g[3]+N&4294967295}r.prototype.u=function(k,v){v===void 0&&(v=k.length);for(var S=v-this.blockSize,I=this.B,b=this.h,N=0;N<v;){if(b==0)for(;N<=S;)i(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<v;)if(I[b++]=k.charCodeAt(N++),b==this.blockSize){i(this,I),b=0;break}}else for(;N<v;)if(I[b++]=k[N++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var v=1;v<k.length-8;++v)k[v]=0;var S=8*this.o;for(v=k.length-8;v<k.length;++v)k[v]=S&255,S/=256;for(this.u(k),k=Array(16),v=S=0;4>v;++v)for(var I=0;32>I;I+=8)k[S++]=this.g[v]>>>I&255;return k};function s(k,v){var S=a;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=v(k)}function o(k,v){this.h=v;for(var S=[],I=!0,b=k.length-1;0<=b;b--){var N=k[b]|0;I&&N==v||(S[b]=N,I=!1)}this.g=S}var a={};function l(k){return-128<=k&&128>k?s(k,function(v){return new o([v|0],0>v?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return P(u(-k));for(var v=[],S=1,I=0;k>=S;I++)v[I]=k/S|0,S*=4294967296;return new o(v,0)}function d(k,v){if(k.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(k.charAt(0)=="-")return P(d(k.substring(1),v));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(v,8)),I=f,b=0;b<k.length;b+=8){var N=Math.min(8,k.length-b),x=parseInt(k.substring(b,b+N),v);8>N?(N=u(Math.pow(v,N)),I=I.j(N).add(u(x))):(I=I.j(S),I=I.add(u(x)))}return I}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var k=0,v=1,S=0;S<this.g.length;S++){var I=this.i(S);k+=(0<=I?I:4294967296+I)*v,v*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(T(this))return"-"+P(this).toString(k);for(var v=u(Math.pow(k,6)),S=this,I="";;){var b=O(S,v).g;S=E(S,b.j(v));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=b,_(S))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(var v=0;v<k.g.length;v++)if(k.g[v]!=0)return!1;return!0}function T(k){return k.h==-1}t.l=function(k){return k=E(this,k),T(k)?-1:_(k)?0:1};function P(k){for(var v=k.g.length,S=[],I=0;I<v;I++)S[I]=~k.g[I];return new o(S,~k.h).add(p)}t.abs=function(){return T(this)?P(this):this},t.add=function(k){for(var v=Math.max(this.g.length,k.g.length),S=[],I=0,b=0;b<=v;b++){var N=I+(this.i(b)&65535)+(k.i(b)&65535),x=(N>>>16)+(this.i(b)>>>16)+(k.i(b)>>>16);I=x>>>16,N&=65535,x&=65535,S[b]=x<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(k,v){return k.add(P(v))}t.j=function(k){if(_(this)||_(k))return f;if(T(this))return T(k)?P(this).j(P(k)):P(P(this).j(k));if(T(k))return P(this.j(P(k)));if(0>this.l(g)&&0>k.l(g))return u(this.m()*k.m());for(var v=this.g.length+k.g.length,S=[],I=0;I<2*v;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<k.g.length;b++){var N=this.i(I)>>>16,x=this.i(I)&65535,ee=k.i(b)>>>16,ne=k.i(b)&65535;S[2*I+2*b]+=x*ne,w(S,2*I+2*b),S[2*I+2*b+1]+=N*ne,w(S,2*I+2*b+1),S[2*I+2*b+1]+=x*ee,w(S,2*I+2*b+1),S[2*I+2*b+2]+=N*ee,w(S,2*I+2*b+2)}for(I=0;I<v;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=v;I<2*v;I++)S[I]=0;return new o(S,0)};function w(k,v){for(;(k[v]&65535)!=k[v];)k[v+1]+=k[v]>>>16,k[v]&=65535,v++}function C(k,v){this.g=k,this.h=v}function O(k,v){if(_(v))throw Error("division by zero");if(_(k))return new C(f,f);if(T(k))return v=O(P(k),v),new C(P(v.g),P(v.h));if(T(v))return v=O(k,P(v)),new C(P(v.g),v.h);if(30<k.g.length){if(T(k)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,I=v;0>=I.l(k);)S=L(S),I=L(I);var b=j(S,1),N=j(I,1);for(I=j(I,2),S=j(S,2);!_(I);){var x=N.add(I);0>=x.l(k)&&(b=b.add(S),N=x),I=j(I,1),S=j(S,1)}return v=E(k,b.j(v)),new C(b,v)}for(b=f;0<=k.l(v);){for(S=Math.max(1,Math.floor(k.m()/v.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=u(S),x=N.j(v);T(x)||0<x.l(k);)S-=I,N=u(S),x=N.j(v);_(N)&&(N=p),b=b.add(N),k=E(k,x)}return new C(b,k)}t.A=function(k){return O(this,k).h},t.and=function(k){for(var v=Math.max(this.g.length,k.g.length),S=[],I=0;I<v;I++)S[I]=this.i(I)&k.i(I);return new o(S,this.h&k.h)},t.or=function(k){for(var v=Math.max(this.g.length,k.g.length),S=[],I=0;I<v;I++)S[I]=this.i(I)|k.i(I);return new o(S,this.h|k.h)},t.xor=function(k){for(var v=Math.max(this.g.length,k.g.length),S=[],I=0;I<v;I++)S[I]=this.i(I)^k.i(I);return new o(S,this.h^k.h)};function L(k){for(var v=k.g.length+1,S=[],I=0;I<v;I++)S[I]=k.i(I)<<1|k.i(I-1)>>>31;return new o(S,k.h)}function j(k,v){var S=v>>5;v%=32;for(var I=k.g.length-S,b=[],N=0;N<I;N++)b[N]=0<v?k.i(N+S)>>>v|k.i(N+S+1)<<32-v:k.i(N+S);return new o(b,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,p1=o}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,m){return c==Array.prototype||c==Object.prototype||(c[h]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var h=0;h<c.length;++h){var m=c[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var m=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var A=c[y];if(!(A in m))break e;m=m[A]}c=c[c.length-1],y=m[c],h=h(y),h!=y&&h!=null&&e(m,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var m=0,y=!1,A={next:function(){if(!y&&m<c.length){var M=m++;return{value:h(M,c[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,m){return c.call.apply(c.bind,arguments)}function f(c,h,m){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),c.apply(h,A)}}return function(){return c.apply(h,arguments)}}function p(c,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(c,h){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function _(c,h){function m(){}m.prototype=h.prototype,c.aa=h.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(y,A,M){for(var B=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)B[Ee-2]=arguments[Ee];return h.prototype[A].apply(y,B)}}function T(c){const h=c.length;if(0<h){const m=Array(h);for(let y=0;y<h;y++)m[y]=c[y];return m}return[]}function P(c,h){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(l(y)){const A=c.length||0,M=y.length||0;c.length=A+M;for(let B=0;B<M;B++)c[A+B]=y[B]}else c.push(y)}}class E{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(c){return/^[\s\xa0]*$/.test(c)}function C(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var L=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function j(c,h,m){for(const y in c)h.call(m,c[y],y,c)}function k(c,h){for(const m in c)h.call(void 0,c[m],m,c)}function v(c){const h={};for(const m in c)h[m]=c[m];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,h){let m,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(m in y)c[m]=y[m];for(let M=0;M<S.length;M++)m=S[M],Object.prototype.hasOwnProperty.call(y,m)&&(c[m]=y[m])}}function b(c){var h=1;c=c.split(":");const m=[];for(;0<h&&c.length;)m.push(c.shift()),h--;return c.length&&m.push(c.join(":")),m}function N(c){a.setTimeout(()=>{throw c},0)}function x(){var c=z;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class ee{constructor(){this.h=this.g=null}add(h,m){const y=ne.get();y.set(h,m),this.h?this.h.next=y:this.g=y,this.h=y}}var ne=new E(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,z=new ee,G=()=>{const c=a.Promise.resolve(void 0);X=()=>{c.then(Q)}};var Q=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(m){N(m)}var h=ne;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}U=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return c}();function on(c,h){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(L){e:{try{O(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else m=="mouseover"?h=c.fromElement:m=="mouseout"&&(h=c.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Gt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&on.aa.h.call(this)}}_(on,ae);var Gt={2:"touch",3:"pen",4:"mouse"};on.prototype.h=function(){on.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),y1=0;function _1(c,h,m,y,A){this.listener=c,this.proxy=null,this.src=h,this.type=m,this.capture=!!y,this.ha=A,this.key=++y1,this.da=this.fa=!1}function Cl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tl(c){this.src=c,this.g={},this.h=0}Tl.prototype.add=function(c,h,m,y,A){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var B=Md(c,h,y,A);return-1<B?(h=c[B],m||(h.fa=!1)):(h=new _1(h,this.src,M,!!y,A),h.fa=m,c.push(h)),h};function Ad(c,h){var m=h.type;if(m in c.g){var y=c.g[m],A=Array.prototype.indexOf.call(y,h,void 0),M;(M=0<=A)&&Array.prototype.splice.call(y,A,1),M&&(Cl(h),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Md(c,h,m,y){for(var A=0;A<c.length;++A){var M=c[A];if(!M.da&&M.listener==h&&M.capture==!!m&&M.ha==y)return A}return-1}var Ld="closure_lm_"+(1e6*Math.random()|0),Fd={};function zg(c,h,m,y,A){if(Array.isArray(h)){for(var M=0;M<h.length;M++)zg(c,h[M],m,y,A);return null}return m=Gg(m),c&&c[Yn]?c.K(h,m,u(y)?!!y.capture:!!y,A):w1(c,h,m,!1,y,A)}function w1(c,h,m,y,A,M){if(!h)throw Error("Invalid event type");var B=u(A)?!!A.capture:!!A,Ee=Ud(c);if(Ee||(c[Ld]=Ee=new Tl(c)),m=Ee.add(h,m,y,B,M),m.proxy)return m;if(y=E1(),m.proxy=y,y.src=c,y.listener=m,c.addEventListener)Ve||(A=B),A===void 0&&(A=!1),c.addEventListener(h.toString(),y,A);else if(c.attachEvent)c.attachEvent(Kg(h.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function E1(){function c(m){return h.call(c.src,c.listener,m)}const h=k1;return c}function $g(c,h,m,y,A){if(Array.isArray(h))for(var M=0;M<h.length;M++)$g(c,h[M],m,y,A);else y=u(y)?!!y.capture:!!y,m=Gg(m),c&&c[Yn]?(c=c.i,h=String(h).toString(),h in c.g&&(M=c.g[h],m=Md(M,m,y,A),-1<m&&(Cl(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete c.g[h],c.h--)))):c&&(c=Ud(c))&&(h=c.g[h.toString()],c=-1,h&&(c=Md(h,m,y,A)),(m=-1<c?h[c]:null)&&jd(m))}function jd(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[Yn])Ad(h.i,c);else{var m=c.type,y=c.proxy;h.removeEventListener?h.removeEventListener(m,y,c.capture):h.detachEvent?h.detachEvent(Kg(m),y):h.addListener&&h.removeListener&&h.removeListener(y),(m=Ud(h))?(Ad(m,c),m.h==0&&(m.src=null,h[Ld]=null)):Cl(c)}}}function Kg(c){return c in Fd?Fd[c]:Fd[c]="on"+c}function k1(c,h){if(c.da)c=!0;else{h=new on(h,this);var m=c.listener,y=c.ha||c.src;c.fa&&jd(c),c=m.call(y,h)}return c}function Ud(c){return c=c[Ld],c instanceof Tl?c:null}var Wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(c){return typeof c=="function"?c:(c[Wd]||(c[Wd]=function(h){return c.handleEvent(h)}),c[Wd])}function at(){te.call(this),this.i=new Tl(this),this.M=this,this.F=null}_(at,te),at.prototype[Yn]=!0,at.prototype.removeEventListener=function(c,h,m,y){$g(this,c,h,m,y)};function mt(c,h){var m,y=c.F;if(y)for(m=[];y;y=y.F)m.push(y);if(c=c.M,y=h.type||h,typeof h=="string")h=new ae(h,c);else if(h instanceof ae)h.target=h.target||c;else{var A=h;h=new ae(y,c),I(h,A)}if(A=!0,m)for(var M=m.length-1;0<=M;M--){var B=h.g=m[M];A=Il(B,y,!0,h)&&A}if(B=h.g=c,A=Il(B,y,!0,h)&&A,A=Il(B,y,!1,h)&&A,m)for(M=0;M<m.length;M++)B=h.g=m[M],A=Il(B,y,!1,h)&&A}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var m=c.g[h],y=0;y<m.length;y++)Cl(m[y]);delete c.g[h],c.h--}}this.F=null},at.prototype.K=function(c,h,m,y){return this.i.add(String(c),h,!1,m,y)},at.prototype.L=function(c,h,m,y){return this.i.add(String(c),h,!0,m,y)};function Il(c,h,m,y){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,M=0;M<h.length;++M){var B=h[M];if(B&&!B.da&&B.capture==m){var Ee=B.listener,rt=B.ha||B.src;B.fa&&Ad(c.i,B),A=Ee.call(rt,y)!==!1&&A}}return A&&!y.defaultPrevented}function qg(c,h,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function Qg(c){c.g=qg(()=>{c.g=null,c.i&&(c.i=!1,Qg(c))},c.l);const h=c.h;c.h=null,c.m.apply(null,h)}class S1 extends te{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Qg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _o(c){te.call(this),this.h=c,this.g={}}_(_o,te);var Xg=[];function Jg(c){j(c.g,function(h,m){this.g.hasOwnProperty(m)&&jd(h)},c),c.g={}}_o.prototype.N=function(){_o.aa.N.call(this),Jg(this)},_o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hd=a.JSON.stringify,C1=a.JSON.parse,T1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bd(){}Bd.prototype.h=null;function Zg(c){return c.h||(c.h=c.i())}function I1(){}var wo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yd(){ae.call(this,"d")}_(Yd,ae);function Vd(){ae.call(this,"c")}_(Vd,ae);var is={},ev=null;function zd(){return ev=ev||new at}is.La="serverreachability";function tv(c){ae.call(this,is.La,c)}_(tv,ae);function Eo(c){const h=zd();mt(h,new tv(h))}is.STAT_EVENT="statevent";function nv(c,h){ae.call(this,is.STAT_EVENT,c),this.stat=h}_(nv,ae);function gt(c){const h=zd();mt(h,new nv(h,c))}is.Ma="timingevent";function rv(c,h){ae.call(this,is.Ma,c),this.size=h}_(rv,ae);function ko(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function So(){this.g=!0}So.prototype.xa=function(){this.g=!1};function D1(c,h,m,y,A,M){c.info(function(){if(c.g)if(M)for(var B="",Ee=M.split("&"),rt=0;rt<Ee.length;rt++){var fe=Ee[rt].split("=");if(1<fe.length){var lt=fe[0];fe=fe[1];var ct=lt.split("_");B=2<=ct.length&&ct[1]=="type"?B+(lt+"="+fe+"&"):B+(lt+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+m+`
`+B})}function x1(c,h,m,y,A,M,B){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+m+`
`+M+" "+B})}function ss(c,h,m,y){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+b1(c,m)+(y?" "+y:"")})}function P1(c,h){c.info(function(){return"TIMEOUT: "+h})}So.prototype.info=function(){};function b1(c,h){if(!c.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var y=m[c];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var M=A[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<A.length;B++)A[B]=""}}}}return Hd(m)}catch{return h}}var $d={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},N1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kd;function Dl(){}_(Dl,Bd),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},Kd=new Dl;function wr(c,h,m,y){this.j=c,this.i=h,this.l=m,this.R=y||1,this.U=new _o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iv}function iv(){this.i=null,this.g="",this.h=!1}var sv={},Gd={};function qd(c,h,m){c.L=1,c.v=Nl(Vn(h)),c.m=m,c.P=!0,ov(c,null)}function ov(c,h){c.F=Date.now(),xl(c),c.A=Vn(c.v);var m=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),wv(m.i,"t",y),c.C=0,m=c.j.J,c.h=new iv,c.g=jv(c.j,m?h:null,!c.m),0<c.O&&(c.M=new S1(p(c.Y,c,c.g),c.O)),h=c.U,m=c.g,y=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(Xg[0]=A.toString()),A=Xg);for(var M=0;M<A.length;M++){var B=zg(m,A[M],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Eo(),D1(c.i,c.u,c.A,c.l,c.R,c.m)}wr.prototype.ca=function(c){c=c.target;const h=this.M;h&&zn(c)==3?h.j():this.Y(c)},wr.prototype.Y=function(c){try{if(c==this.g)e:{const ct=zn(this.g);var h=this.g.Ba();const ls=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Dv(this.g)))){this.J||ct!=4||h==7||(h==8||0>=ls?Eo(3):Eo(2)),Qd(this);var m=this.g.Z();this.X=m;t:if(av(this)){var y=Dv(this.g);c="";var A=y.length,M=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Co(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,c+=this.h.i.decode(y[h],{stream:!(M&&h==A-1)});y.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,x1(this.i,this.u,this.A,this.l,this.R,ct,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,rt=this.g;if((Ee=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ee)){var fe=Ee;break t}}fe=null}if(m=fe)ss(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xd(this,m);else{this.o=!1,this.s=3,gt(12),gi(this),Co(this);break e}}if(this.P){m=!0;let an;for(;!this.J&&this.C<B.length;)if(an=R1(this,B),an==Gd){ct==4&&(this.s=4,gt(14),m=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(an==sv){this.s=4,gt(15),ss(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else ss(this.i,this.l,an,null),Xd(this,an);if(av(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||B.length!=0||this.h.h||(this.s=1,gt(16),m=!1),this.o=this.o&&m,!m)ss(this.i,this.l,B,"[Invalid Chunked Response]"),gi(this),Co(this);else if(0<B.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),rh(lt),lt.M=!0,gt(11))}}else ss(this.i,this.l,B,null),Xd(this,B);ct==4&&gi(this),this.o&&!this.J&&(ct==4?Av(this.j,this):(this.o=!1,xl(this)))}else q1(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),gi(this),Co(this)}}}catch{}finally{}};function av(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function R1(c,h){var m=c.C,y=h.indexOf(`
`,m);return y==-1?Gd:(m=Number(h.substring(m,y)),isNaN(m)?sv:(y+=1,y+m>h.length?Gd:(h=h.slice(y,y+m),c.C=y+m,h)))}wr.prototype.cancel=function(){this.J=!0,gi(this)};function xl(c){c.S=Date.now()+c.I,lv(c,c.I)}function lv(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ko(p(c.ba,c),h)}function Qd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}wr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(P1(this.i,this.A),this.L!=2&&(Eo(),gt(17)),gi(this),this.s=2,Co(this)):lv(this,this.S-c)};function Co(c){c.j.G==0||c.J||Av(c.j,c)}function gi(c){Qd(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,Jg(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Xd(c,h){try{var m=c.j;if(m.G!=0&&(m.g==c||Jd(m.h,c))){if(!c.K&&Jd(m.h,c)&&m.G==3){try{var y=m.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Fl(m),Ml(m);else break e;nh(m),gt(18)}}else m.za=A[1],0<m.za-m.T&&37500>A[2]&&m.F&&m.v==0&&!m.C&&(m.C=ko(p(m.Za,m),6e3));if(1>=dv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else yi(m,11)}else if((c.K||m.g==c)&&Fl(m),!w(h))for(A=m.Da.g.parse(h),h=0;h<A.length;h++){let fe=A[h];if(m.T=fe[0],fe=fe[1],m.G==2)if(fe[0]=="c"){m.K=fe[1],m.ia=fe[2];const lt=fe[3];lt!=null&&(m.la=lt,m.j.info("VER="+m.la));const ct=fe[4];ct!=null&&(m.Aa=ct,m.j.info("SVER="+m.Aa));const ls=fe[5];ls!=null&&typeof ls=="number"&&0<ls&&(y=1.5*ls,m.L=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const an=c.g;if(an){const jl=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var M=y.h;M.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Zd(M,M.h),M.h=null))}if(y.D){const ih=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ih&&(y.ya=ih,Te(y.I,y.D,ih))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),y=m;var B=c;if(y.qa=Fv(y,y.J?y.ia:null,y.W),B.K){hv(y.h,B);var Ee=B,rt=y.L;rt&&(Ee.I=rt),Ee.B&&(Qd(Ee),xl(Ee)),y.g=B}else Rv(y);0<m.i.length&&Ll(m)}else fe[0]!="stop"&&fe[0]!="close"||yi(m,7);else m.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?yi(m,7):th(m):fe[0]!="noop"&&m.l&&m.l.ta(fe),m.v=0)}}Eo(4)}catch{}}var O1=class{constructor(c,h){this.g=c,this.map=h}};function cv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function dv(c){return c.h?1:c.g?c.g.size:0}function Jd(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Zd(c,h){c.g?c.g.add(h):c.h=h}function hv(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}cv.prototype.cancel=function(){if(this.i=fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(const m of c.g.values())h=h.concat(m.D);return h}return T(c.i)}function A1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],m=c.length,y=0;y<m;y++)h.push(c[y]);return h}h=[],m=0;for(y in c)h[m++]=c[y];return h}function M1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var m=0;m<c;m++)h.push(m);return h}h=[],m=0;for(const y in c)h[m++]=y;return h}}}function pv(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var m=M1(c),y=A1(c),A=y.length,M=0;M<A;M++)h.call(void 0,y[M],m&&m[M],c)}var mv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L1(c,h){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var y=c[m].indexOf("="),A=null;if(0<=y){var M=c[m].substring(0,y);A=c[m].substring(y+1)}else M=c[m];h(M,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,Pl(this,c.j),this.o=c.o,this.g=c.g,bl(this,c.s),this.l=c.l;var h=c.i,m=new Do;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),gv(this,m),this.m=c.m}else c&&(h=String(c).match(mv))?(this.h=!1,Pl(this,h[1]||"",!0),this.o=To(h[2]||""),this.g=To(h[3]||"",!0),bl(this,h[4]),this.l=To(h[5]||"",!0),gv(this,h[6]||"",!0),this.m=To(h[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}vi.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Io(h,vv,!0),":");var m=this.g;return(m||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Io(h,vv,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Io(m,m.charAt(0)=="/"?U1:j1,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Io(m,H1)),c.join("")};function Vn(c){return new vi(c)}function Pl(c,h,m){c.j=m?To(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function bl(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function gv(c,h,m){h instanceof Do?(c.i=h,B1(c.i,c.h)):(m||(h=Io(h,W1)),c.i=new Do(h,c.h))}function Te(c,h,m){c.i.set(h,m)}function Nl(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function To(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Io(c,h,m){return typeof c=="string"?(c=encodeURI(c).replace(h,F1),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function F1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vv=/[#\/\?@]/g,j1=/[#\?:]/g,U1=/[#\?]/g,W1=/[#\?@]/g,H1=/#/g;function Do(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Er(c){c.g||(c.g=new Map,c.h=0,c.i&&L1(c.i,function(h,m){c.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Do.prototype,t.add=function(c,h){Er(this),this.i=null,c=os(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(h),this.h+=1,this};function yv(c,h){Er(c),h=os(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function _v(c,h){return Er(c),h=os(c,h),c.g.has(h)}t.forEach=function(c,h){Er(this),this.g.forEach(function(m,y){m.forEach(function(A){c.call(h,A,y,this)},this)},this)},t.na=function(){Er(this);const c=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let y=0;y<h.length;y++){const A=c[y];for(let M=0;M<A.length;M++)m.push(h[y])}return m},t.V=function(c){Er(this);let h=[];if(typeof c=="string")_v(this,c)&&(h=h.concat(this.g.get(os(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)h=h.concat(c[m])}return h},t.set=function(c,h){return Er(this),this.i=null,c=os(this,c),_v(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function wv(c,h,m){yv(c,h),0<m.length&&(c.i=null,c.g.set(os(c,h),T(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var y=h[m];const M=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var A=M;B[y]!==""&&(A+="="+encodeURIComponent(String(B[y]))),c.push(A)}}return this.i=c.join("&")};function os(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function B1(c,h){h&&!c.j&&(Er(c),c.i=null,c.g.forEach(function(m,y){var A=y.toLowerCase();y!=A&&(yv(this,y),wv(this,A,m))},c)),c.j=h}function Y1(c,h){const m=new So;if(a.Image){const y=new Image;y.onload=g(kr,m,"TestLoadImage: loaded",!0,h,y),y.onerror=g(kr,m,"TestLoadImage: error",!1,h,y),y.onabort=g(kr,m,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(kr,m,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else h(!1)}function V1(c,h){const m=new So,y=new AbortController,A=setTimeout(()=>{y.abort(),kr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:y.signal}).then(M=>{clearTimeout(A),M.ok?kr(m,"TestPingServer: ok",!0,h):kr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),kr(m,"TestPingServer: error",!1,h)})}function kr(c,h,m,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(m)}catch{}}function z1(){this.g=new T1}function $1(c,h,m){const y=m||"";try{pv(c,function(A,M){let B=A;u(A)&&(B=Hd(A)),h.push(y+M+"="+encodeURIComponent(B))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function Rl(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Rl,Bd),Rl.prototype.g=function(){return new Ol(this.l,this.j)},Rl.prototype.i=function(c){return function(){return c}}({});function Ol(c,h){at.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ol,at),t=Ol.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,Po(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ev(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ev(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?xo(this):Po(this),this.readyState==3&&Ev(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,xo(this))},t.Qa=function(c){this.g&&(this.response=c,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Po(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=h.next();return c.join(`\r
`)};function Po(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kv(c){let h="";return j(c,function(m,y){h+=y,h+=":",h+=m,h+=`\r
`}),h}function eh(c,h,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=kv(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Te(c,h,m))}function je(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(je,at);var K1=/^https?$/i,G1=["POST","PUT"];t=je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kd.g(),this.v=this.o?Zg(this.o):Zg(Kd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(M){Sv(this,M);return}if(c=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)m.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const M of y.keys())m.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(G1,h,void 0))||y||A||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of m)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Iv(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Sv(this,M)}};function Sv(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,Cv(c),Al(c)}function Cv(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Al(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Tv(this):this.bb())},t.bb=function(){Tv(this)};function Tv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)qg(c.Ea,0,c);else if(mt(c,"readystatechange"),zn(c)==4){c.h=!1;try{const B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=B===0){var A=String(c.D).match(mv)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!K1.test(A?A.toLowerCase():"")}m=y}if(m)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var M=2<zn(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Cv(c)}}finally{Al(c)}}}}function Al(c,h){if(c.g){Iv(c);const m=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||mt(c,"ready");try{m.onreadystatechange=y}catch{}}}function Iv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),C1(h)}};function Dv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function q1(c){const h={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(w(c[y]))continue;var m=b(c[y]);const A=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=h[A]||[];h[A]=M,M.push(m)}k(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bo(c,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||h}function xv(c){this.Aa=0,this.i=[],this.j=new So,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bo("baseRetryDelayMs",5e3,c),this.cb=bo("retryDelaySeedMs",1e4,c),this.Wa=bo("forwardChannelMaxRetries",2,c),this.wa=bo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new cv(c&&c.concurrentRequestLimit),this.Da=new z1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xv.prototype,t.la=8,t.G=1,t.connect=function(c,h,m,y){gt(0),this.W=c,this.H=h||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=Fv(this,null,this.W),Ll(this)};function th(c){if(Pv(c),c.G==3){var h=c.U++,m=Vn(c.I);if(Te(m,"SID",c.K),Te(m,"RID",h),Te(m,"TYPE","terminate"),No(c,m),h=new wr(c,c.j,h),h.L=2,h.v=Nl(Vn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=jv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),xl(h)}Lv(c)}function Ml(c){c.g&&(rh(c),c.g.cancel(),c.g=null)}function Pv(c){Ml(c),c.u&&(a.clearTimeout(c.u),c.u=null),Fl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ll(c){if(!uv(c.h)&&!c.s){c.s=!0;var h=c.Ga;X||G(),U||(X(),U=!0),z.add(h,c),c.B=0}}function Q1(c,h){return dv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ko(p(c.Ga,c,h),Mv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const A=new wr(this,this.j,c);let M=this.o;if(this.S&&(M?(M=v(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(A.H=M,M=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Nv(this,A,h),m=Vn(this.I),Te(m,"RID",c),Te(m,"CVER",22),this.D&&Te(m,"X-HTTP-Session-Id",this.D),No(this,m),M&&(this.O?h="headers="+encodeURIComponent(String(kv(M)))+"&"+h:this.m&&eh(m,this.m,M)),Zd(this.h,A),this.Ua&&Te(m,"TYPE","init"),this.P?(Te(m,"$req",h),Te(m,"SID","null"),A.T=!0,qd(A,m,null)):qd(A,m,h),this.G=2}}else this.G==3&&(c?bv(this,c):this.i.length==0||uv(this.h)||bv(this))};function bv(c,h){var m;h?m=h.l:m=c.U++;const y=Vn(c.I);Te(y,"SID",c.K),Te(y,"RID",m),Te(y,"AID",c.T),No(c,y),c.m&&c.o&&eh(y,c.m,c.o),m=new wr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),h&&(c.i=h.D.concat(c.i)),h=Nv(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zd(c.h,m),qd(m,y,h)}function No(c,h){c.H&&j(c.H,function(m,y){Te(h,y,m)}),c.l&&pv({},function(m,y){Te(h,y,m)})}function Nv(c,h,m){m=Math.min(c.i.length,m);var y=c.l?p(c.l.Na,c.l,c):null;e:{var A=c.i;let M=-1;for(;;){const B=["count="+m];M==-1?0<m?(M=A[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let Ee=!0;for(let rt=0;rt<m;rt++){let fe=A[rt].g;const lt=A[rt].map;if(fe-=M,0>fe)M=Math.max(0,A[rt].g-100),Ee=!1;else try{$1(lt,B,"req"+fe+"_")}catch{y&&y(lt)}}if(Ee){y=B.join("&");break e}}}return c=c.i.splice(0,m),h.D=c,y}function Rv(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;X||G(),U||(X(),U=!0),z.add(h,c),c.v=0}}function nh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ko(p(c.Fa,c),Mv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ov(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ko(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Ml(this),Ov(this))};function rh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ov(c){c.g=new wr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Vn(c.qa);Te(h,"RID","rpc"),Te(h,"SID",c.K),Te(h,"AID",c.T),Te(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(h,"TO",c.ja),Te(h,"TYPE","xmlhttp"),No(c,h),c.m&&c.o&&eh(h,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Nl(Vn(h)),m.m=null,m.P=!0,ov(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ml(this),nh(this),gt(19))};function Fl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Av(c,h){var m=null;if(c.g==h){Fl(c),rh(c),c.g=null;var y=2}else if(Jd(c.h,h))m=h.D,hv(c.h,h),y=1;else return;if(c.G!=0){if(h.o)if(y==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var A=c.B;y=zd(),mt(y,new rv(y,m)),Ll(c)}else Rv(c);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&Q1(c,h)||y==2&&nh(c)))switch(m&&0<m.length&&(h=c.h,h.i=h.i.concat(m)),A){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Mv(c,h){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*h}function yi(c,h){if(c.j.info("Error code "+h),h==2){var m=p(c.fb,c),y=c.Xa;const A=!y;y=new vi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pl(y,"https"),Nl(y),A?Y1(y.toString(),m):V1(y.toString(),m)}else gt(2);c.G=0,c.l&&c.l.sa(h),Lv(c),Pv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Lv(c){if(c.G=0,c.ka=[],c.l){const h=fv(c.h);(h.length!=0||c.i.length!=0)&&(P(c.ka,h),P(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function Fv(c,h,m){var y=m instanceof vi?Vn(m):new vi(m);if(y.g!="")h&&(y.g=h+"."+y.g),bl(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var M=new vi(null);y&&Pl(M,y),h&&(M.g=h),A&&bl(M,A),m&&(M.l=m),y=M}return m=c.D,h=c.ya,m&&h&&Te(y,m,h),Te(y,"VER",c.la),No(c,y),y}function jv(c,h,m){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new je(new Rl({eb:m})):new je(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uv(){}t=Uv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qt(c,h){at.call(this),this.g=new xv(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!w(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!w(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new as(this)}_(qt,at),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){th(this.g)},qt.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Hd(c),c=m);h.i.push(new O1(h.Ya++,c)),h.G==3&&Ll(h)},qt.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,qt.aa.N.call(this)};function Wv(c){Yd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(const m in h){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}_(Wv,Yd);function Hv(){Vd.call(this),this.status=1}_(Hv,Vd);function as(c){this.g=c}_(as,Uv),as.prototype.ua=function(){mt(this.g,"a")},as.prototype.ta=function(c){mt(this.g,new Wv(c))},as.prototype.sa=function(c){mt(this.g,new Hv)},as.prototype.ra=function(){mt(this.g,"b")},qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,$d.NO_ERROR=0,$d.TIMEOUT=8,$d.HTTP_ERROR=6,N1.COMPLETE="complete",I1.EventType=wo,wo.OPEN="a",wo.CLOSE="b",wo.ERROR="c",wo.MESSAGE="d",at.prototype.listen=at.prototype.K,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new al("@firebase/firestore");function mn(t,...e){if(io.logLevel<=me.DEBUG){const n=e.map(Hg);io.debug(`Firestore (${Sl}): ${t}`,...n)}}function m1(t,...e){if(io.logLevel<=me.ERROR){const n=e.map(Hg);io.error(`Firestore (${Sl}): ${t}`,...n)}}function S3(t,...e){if(io.logLevel<=me.WARN){const n=e.map(Hg);io.warn(`Firestore (${Sl}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+t;throw m1(e),new Error(e)}function _a(t,e){t||Bg()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends Sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class T3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I3{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_a(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wa,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wa)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_a(typeof r.accessToken=="string"),new g1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _a(e===null||typeof e=="string"),new _t(e)}}class D3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class x3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new D3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_a(this.o===void 0);const r=s=>{s.error!=null&&mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,mn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_a(typeof n.token=="string"),this.R=n.token,new P3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N3(t){return t.name==="IndexedDbTransactionError"}class zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g0,ce;(ce=g0||(g0={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new p1([4294967295,4294967295],0);function af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&mn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Yg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var v0,y0;(y0=v0||(v0={})).ea="default",y0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function A3(t,e,n,r){if(e===!0&&r===!0)throw new Pt(xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M3(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Bg()}function L3(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pt(xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=M3(t);throw new Pt(xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pt(xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pt(xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pt(xt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class v1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pt(xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new x3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pt(xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_0.get(n);r&&(mn("ComponentProvider","Removing Datastore"),_0.delete(n),r.terminate())}(this),Promise.resolve()}}function F3(t,e,n,r={}){var i;const s=(t=L3(t,v1))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&S3("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=_t.MOCK_USER;else{a=eS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pt(xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _t(u)}t._authCredentials=new T3(new g1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new R3(this,"async_queue_retry"),this.Vu=()=>{const r=af();r&&mn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new wa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!N3(e))throw e;mn("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw m1("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Yg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Bg()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class j3 extends v1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new E0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function U3(t,e){const n=typeof t=="object"?t:dd(),r=typeof t=="string"?t:"(default)",i=fi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Xk("firestore");s&&F3(i,...s)}return i}(function(e,n=!0){(function(i){Sl=i})(es),wn(new rn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new j3(new I3(r.getProvider("auth-internal")),new b3(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pt(xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Mt(m0,"4.7.4",e),Mt(m0,"4.7.4","esm2017")})();const W3={apiKey:"AIzaSyD3NJ3xo4evhf8c7RRpf39ZXOXqvsZdBtg",authDomain:"hasty-f0e75.firebaseapp.com",databaseURL:"https://hasty-f0e75-default-rtdb.firebaseio.com",projectId:"hasty-f0e75",storageBucket:"hasty-f0e75.appspot.com",messagingSenderId:"808884210044",appId:"1:808884210044:web:e26344f98010a5aeccbcf9",measurementId:"G-QLWLT2SJ83"},Vg=uS(W3);_3(Vg);hl(Vg);U3(Vg);function H3(){const t=hl(),[e,n]=R.useState(()=>localStorage.getItem("isAuth")==="true"),[r,i]=R.useState(parseInt(localStorage.getItem("activeClass"),10)||0);R.useEffect(()=>{const a=nR(t,l=>{l?(n(!0),localStorage.setItem("isAuth","true")):(n(!1),localStorage.removeItem("isAuth"))});return()=>a()},[t]),R.useEffect(()=>{localStorage.setItem("activeClass",r)},[r]);const s=D.jsxs(D.Fragment,{children:[D.jsx(tU,{activeClass:r,setActiveClass:i}),D.jsxs(r_,{children:[D.jsx($n,{path:"/",element:D.jsx(mO,{setActiveClass:i})}),D.jsx($n,{path:"/opretopgave",element:D.jsx(j2,{setActiveClass:i})}),D.jsx($n,{path:"/klaropgave",element:D.jsx(U2,{setActiveClass:i})}),D.jsx($n,{path:"/profile",element:D.jsx(Jj,{setActiveClass:i})}),D.jsx($n,{path:"*",element:D.jsx(n_,{to:"/"})})]})]}),o=D.jsxs(r_,{children:[D.jsx($n,{path:"/sign-in",element:D.jsx(eU,{})}),D.jsx($n,{path:"/sign-up",element:D.jsx(Zj,{})}),D.jsx($n,{path:"*",element:D.jsx(n_,{to:"/sign-in"})})]});return D.jsx("main",{children:e?s:o})}const B3="/";Lk(document.getElementById("root")).render(D.jsx(R.StrictMode,{children:D.jsx(_P,{basename:B3,children:D.jsx(H3,{})})}));
